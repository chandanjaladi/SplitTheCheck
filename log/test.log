  [1m[35m (1.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "restaurants"[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "location" varchar, "will_split" integer, "will_not_split" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230403120229)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-04-07 01:17:50.020851"], ["updated_at", "2023-04-07 01:17:50.020851"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (3.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "4c4fc9f9ae31f84acc3a817ab768a811b90f4757"], ["created_at", "2023-04-07 01:17:50.028773"], ["updated_at", "2023-04-07 01:17:50.028773"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "restaurants"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "restaurants"[0m
  [1m[35m (23.1ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "location" varchar, "will_split" integer, "will_not_split" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (24.8ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "location" varchar, "will_split" integer, "will_not_split" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230403120229)[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (14.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230403120229)[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-04-07 01:17:50.412962"], ["updated_at", "2023-04-07 01:17:50.412962"]]
  [1m[36mTRANSACTION (5.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-04-07 01:17:50.429830"], ["updated_at", "2023-04-07 01:17:50.429830"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "4c4fc9f9ae31f84acc3a817ab768a811b90f4757"], ["created_at", "2023-04-07 01:17:50.432834"], ["updated_at", "2023-04-07 01:17:50.432834"]]
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::InternalMetadata Create (8.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "4c4fc9f9ae31f84acc3a817ab768a811b90f4757"], ["created_at", "2023-04-07 01:17:50.446468"], ["updated_at", "2023-04-07 01:17:50.446468"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (8.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.2ms)[0m  [1m[31mDELETE FROM "restaurants";
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 1, 1, '2023-04-07 01:17:50.465773', '2023-04-07 01:17:50.465773');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', 1, 1, '2023-04-07 01:17:50.465773', '2023-04-07 01:17:50.465773')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mFixtures Load (10.3ms)[0m  [1m[31mDELETE FROM "restaurants";
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 1, 1, '2023-04-07 01:17:50.474698', '2023-04-07 01:17:50.474698');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', 1, 1, '2023-04-07 01:17:50.474698', '2023-04-07 01:17:50.474698')[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/new" for 127.0.0.1 at 2023-04-06 21:17:50 -0400
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by RestaurantsController#new as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
Started POST "/restaurants" for 127.0.0.1 at 2023-04-06 21:17:50 -0400
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"MyString", "name"=>"MyString", "will_not_split"=>"1", "will_split"=>"1"}}
  Rendered restaurants/_form.html.erb (Duration: 6.7ms | Allocations: 3188)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 7.9ms | Allocations: 3654)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (2.3ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "MyString"], ["location", "MyString"], ["will_split", 1], ["will_not_split", 1], ["created_at", "2023-04-07 01:17:50.680154"], ["updated_at", "2023-04-07 01:17:50.680154"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190963
Completed 302 Found in 18ms (ActiveRecord: 2.5ms | Allocations: 1909)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-06 21:17:50 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 7.9ms | Allocations: 3150)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 9.2ms | Allocations: 3680)
[Webpacker] Compiling...
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/cj00216/work/SplitTheCheck/public/packs-test
[Webpacker] Hash: 6bb99b039ac75a26947a
Version: webpack 4.46.0
Time: 1162ms
Built at: 04/06/2023 9:17:53 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-e70c5bac32475ebd9ed1.js    124 KiB  application  [emitted] [immutable]  application
js/application-e70c5bac32475ebd9ed1.js.map    135 KiB  application  [emitted] [dev]        application
                             manifest.json  384 bytes               [emitted]              
Entrypoint application = js/application-e70c5bac32475ebd9ed1.js js/application-e70c5bac32475ebd9ed1.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 493 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 553 bytes {application} [built]
    + 3 hidden modules

[Webpacker] Compiled all packs in /home/cj00216/work/SplitTheCheck/public/packs-test
[Webpacker] Hash: 6bb99b039ac75a26947a
Version: webpack 4.46.0
Time: 1159ms
Built at: 04/06/2023 9:17:53 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-e70c5bac32475ebd9ed1.js    124 KiB  application  [emitted] [immutable]  application
js/application-e70c5bac32475ebd9ed1.js.map    135 KiB  application  [emitted] [dev]        application
                             manifest.json  384 bytes               [emitted]              
Entrypoint application = js/application-e70c5bac32475ebd9ed1.js js/application-e70c5bac32475ebd9ed1.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 493 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 553 bytes {application} [built]
    + 3 hidden modules

  Rendered layout layouts/application.html.erb (Duration: 2985.2ms | Allocations: 23734)
Completed 200 OK in 2990ms (Views: 2987.6ms | ActiveRecord: 0.1ms | Allocations: 25716)
  Rendered layout layouts/application.html.erb (Duration: 3032.6ms | Allocations: 24542)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 3049ms (Views: 3035.1ms | ActiveRecord: 0.0ms | Allocations: 27267)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/restaurants" for 127.0.0.1 at 2023-04-06 21:17:53 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
RestaurantsControllerTest: test_should_show_restaurant
------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by RestaurantsController#index as HTML
Started GET "/restaurants/980190962" for 127.0.0.1 at 2023-04-06 21:17:53 -0400
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1779)
  Rendering layout layouts/application.html.erb
  Rendering restaurants/show.html.erb within layouts/application
  Rendered restaurants/show.html.erb within layouts/application (Duration: 0.8ms | Allocations: 338)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 3680)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.3ms | Allocations: 4148)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 2233)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.1ms | Allocations: 2914)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-04-06 21:17:53 -0400
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"MyString", "name"=>"MyString", "will_not_split"=>"1", "will_split"=>"1"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 614)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (6.1ms)[0m  [1m[31mDELETE FROM "restaurants"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (8.7ms)[0m  [1m[31mDELETE FROM "restaurants"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.5ms)[0m  [1m[31mDELETE FROM "restaurants";
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', 1, 1, '2023-04-07 02:04:15.650610', '2023-04-07 02:04:15.650610');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', 1, 1, '2023-04-07 02:04:15.650610', '2023-04-07 02:04:15.650610');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', 1, 1, '2023-04-07 02:04:15.650610', '2023-04-07 02:04:15.650610');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', 1, 1, '2023-04-07 02:04:15.650610', '2023-04-07 02:04:15.650610')[0m
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
RestaurantsControllerTest: test_should_show_restaurant
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "restaurants";
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', 1, 1, '2023-04-07 02:04:15.653288', '2023-04-07 02:04:15.653288');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', 1, 1, '2023-04-07 02:04:15.653288', '2023-04-07 02:04:15.653288');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', 1, 1, '2023-04-07 02:04:15.653288', '2023-04-07 02:04:15.653288');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', 1, 1, '2023-04-07 02:04:15.653288', '2023-04-07 02:04:15.653288')[0m
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962" for 127.0.0.1 at 2023-04-06 22:04:15 -0400
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-04-06 22:04:15 -0400
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"980190962"}
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory", "will_not_split"=>"1", "will_split"=>"1"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/show.html.erb within layouts/application
  Rendered restaurants/show.html.erb within layouts/application (Duration: 1.5ms | Allocations: 488)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 16ms (ActiveRecord: 0.1ms | Allocations: 1952)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-06 22:04:15 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 2621)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 69.9ms | Allocations: 17240)
Completed 200 OK in 87ms (Views: 72.5ms | ActiveRecord: 0.1ms | Allocations: 20175)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/new" for 127.0.0.1 at 2023-04-06 22:04:15 -0400
Processing by RestaurantsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 6.3ms | Allocations: 3167)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 7.1ms | Allocations: 3509)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 5430)
Completed 200 OK in 11ms (Views: 10.6ms | ActiveRecord: 0.0ms | Allocations: 5909)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
Started POST "/restaurants" for 127.0.0.1 at 2023-04-06 22:04:15 -0400
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory", "will_not_split"=>"1", "will_split"=>"1"}}
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  Rendered layout layouts/application.html.erb (Duration: 81.3ms | Allocations: 19421)
Completed 200 OK in 88ms (Views: 86.6ms | ActiveRecord: 0.3ms | Allocations: 21200)
  [1m[36mRestaurant Create (3.4ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["will_split", 1], ["will_not_split", 1], ["created_at", "2023-04-07 02:04:15.913700"], ["updated_at", "2023-04-07 02:04:15.913700"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190963
Completed 302 Found in 7ms (ActiveRecord: 3.6ms | Allocations: 1000)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-06 22:04:15 -0400
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%S%')[0m
  Rendered restaurants/_form.html.erb (Duration: 6.7ms | Allocations: 2855)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 7.7ms | Allocations: 3265)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 5179)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 13ms (Views: 12.3ms | ActiveRecord: 0.1ms | Allocations: 5751)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (2.9ms)[0m  [1m[31mDELETE FROM "restaurants"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (7.3ms)[0m  [1m[31mDELETE FROM "restaurants"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "restaurants";
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', 1, 1, '2023-04-07 02:10:30.723267', '2023-04-07 02:10:30.723267');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', 1, 1, '2023-04-07 02:10:30.723267', '2023-04-07 02:10:30.723267');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', 1, 1, '2023-04-07 02:10:30.723267', '2023-04-07 02:10:30.723267');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', 1, 1, '2023-04-07 02:10:30.723267', '2023-04-07 02:10:30.723267')[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "restaurants";
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', 1, 1, '2023-04-07 02:10:30.740899', '2023-04-07 02:10:30.740899');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', 1, 1, '2023-04-07 02:10:30.740899', '2023-04-07 02:10:30.740899');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', 1, 1, '2023-04-07 02:10:30.740899', '2023-04-07 02:10:30.740899');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', 1, 1, '2023-04-07 02:10:30.740899', '2023-04-07 02:10:30.740899')[0m
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-04-06 22:10:30 -0400
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-06 22:10:30 -0400
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory", "will_not_split"=>"1", "will_split"=>"1"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 15ms (ActiveRecord: 0.1ms | Allocations: 1945)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/new" for 127.0.0.1 at 2023-04-06 22:10:30 -0400
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by RestaurantsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 6.0ms | Allocations: 3233)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 7.6ms | Allocations: 3767)
  Rendered restaurants/_form.html.erb (Duration: 7.8ms | Allocations: 3111)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 9.0ms | Allocations: 3573)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 72.5ms | Allocations: 20717)
Completed 200 OK in 88ms (Views: 74.8ms | ActiveRecord: 0.1ms | Allocations: 23643)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 75.2ms | Allocations: 20533)
Completed 200 OK in 79ms (Views: 77.4ms | ActiveRecord: 0.0ms | Allocations: 22323)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
RestaurantsControllerTest: test_should_show_restaurant
------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
Started GET "/restaurants/980190962" for 127.0.0.1 at 2023-04-06 22:10:30 -0400
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
Started POST "/restaurants" for 127.0.0.1 at 2023-04-06 22:10:30 -0400
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/show.html.erb within layouts/application
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory", "will_not_split"=>"1", "will_split"=>"1"}}
  Rendered restaurants/show.html.erb within layouts/application (Duration: 0.8ms | Allocations: 338)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (0.3ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["will_split", 1], ["will_not_split", 1], ["created_at", "2023-04-07 02:10:30.986325"], ["updated_at", "2023-04-07 02:10:30.986325"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.8ms | Allocations: 806)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | Allocations: 2253)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.1ms | Allocations: 2828)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-06 22:10:30 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 6.6ms | Allocations: 2198)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 4119)
Completed 200 OK in 15ms (Views: 13.8ms | ActiveRecord: 0.3ms | Allocations: 4587)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (36.1ms)[0m  [1m[31mDELETE FROM "restaurants"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (40.2ms)[0m  [1m[31mDELETE FROM "restaurants"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "restaurants";
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', 1, 1, '2023-04-07 02:19:22.629248', '2023-04-07 02:19:22.629248');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', 1, 1, '2023-04-07 02:19:22.629248', '2023-04-07 02:19:22.629248');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', 1, 1, '2023-04-07 02:19:22.629248', '2023-04-07 02:19:22.629248');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', 1, 1, '2023-04-07 02:19:22.629248', '2023-04-07 02:19:22.629248')[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "restaurants";
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', 1, 1, '2023-04-07 02:19:22.640258', '2023-04-07 02:19:22.640258');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', 1, 1, '2023-04-07 02:19:22.640258', '2023-04-07 02:19:22.640258');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', 1, 1, '2023-04-07 02:19:22.640258', '2023-04-07 02:19:22.640258');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', 1, 1, '2023-04-07 02:19:22.640258', '2023-04-07 02:19:22.640258')[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantsControllerTest: test_should_increase_"Will_Split"_votes_on_button_press
----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
RestaurantsControllerTest: test_should_increase_"Won't_Split"_votes_on_button_press
-----------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/vote_will_split/980190962" for 127.0.0.1 at 2023-04-06 22:19:22 -0400
Started POST "/vote_will_not_split/980190962" for 127.0.0.1 at 2023-04-06 22:19:22 -0400
Processing by RestaurantsController#vote_will_split as HTML
  Parameters: {"id"=>"980190962"}
Processing by RestaurantsController#vote_will_not_split as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Update (0.3ms)[0m  [1m[33mUPDATE "restaurants" SET "will_not_split" = ?, "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["will_not_split", 2], ["updated_at", "2023-04-07 02:19:22.751241"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
  [1m[36mRestaurant Update (2.0ms)[0m  [1m[33mUPDATE "restaurants" SET "will_split" = ?, "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["will_split", 2], ["updated_at", "2023-04-07 02:19:22.751253"], ["id", 980190962]]
Completed 302 Found in 17ms (ActiveRecord: 0.7ms | Allocations: 2096)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 20ms (ActiveRecord: 2.4ms | Allocations: 2096)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-04-06 22:19:22 -0400
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
Started POST "/restaurants" for 127.0.0.1 at 2023-04-06 22:19:22 -0400
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory", "will_not_split"=>"1", "will_split"=>"1"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory", "will_not_split"=>"1", "will_split"=>"1"}}
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 704)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mRestaurant Create (5.6ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["will_split", 1], ["will_not_split", 1], ["created_at", "2023-04-07 02:19:22.815615"], ["updated_at", "2023-04-07 02:19:22.815615"]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190963
Completed 302 Found in 9ms (ActiveRecord: 5.7ms | Allocations: 896)
Started GET "/restaurants/new" for 127.0.0.1 at 2023-04-06 22:19:22 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mrollback transaction[0m
Processing by RestaurantsController#new as HTML
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
RestaurantsControllerTest: test_should_show_restaurant
------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962" for 127.0.0.1 at 2023-04-06 22:19:22 -0400
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/show.html.erb within layouts/application
  Rendered restaurants/show.html.erb within layouts/application (Duration: 1.1ms | Allocations: 460)
  Rendered restaurants/_form.html.erb (Duration: 8.9ms | Allocations: 3112)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 10.2ms | Allocations: 3574)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 73.9ms | Allocations: 17477)
Completed 200 OK in 78ms (Views: 76.2ms | ActiveRecord: 0.1ms | Allocations: 19365)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-06 22:19:22 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
  Rendered layout layouts/application.html.erb (Duration: 88.2ms | Allocations: 20608)
Completed 200 OK in 93ms (Views: 90.9ms | ActiveRecord: 0.0ms | Allocations: 22400)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-06 22:19:22 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 8.0ms | Allocations: 3147)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 9.1ms | Allocations: 3558)
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 12.4ms | Allocations: 5472)
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.1ms | Allocations: 6044)
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 2199)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 4120)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.3ms | Allocations: 4588)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (2.6ms)[0m  [1m[31mDELETE FROM "restaurants"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[36mTruncate Tables (10.1ms)[0m  [1m[31mDELETE FROM "restaurants"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (7.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.7ms)[0m  [1m[31mDELETE FROM "restaurants";
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', 1, 1, '2023-04-07 02:20:29.199617', '2023-04-07 02:20:29.199617');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', 1, 1, '2023-04-07 02:20:29.199617', '2023-04-07 02:20:29.199617');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', 1, 1, '2023-04-07 02:20:29.199617', '2023-04-07 02:20:29.199617');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', 1, 1, '2023-04-07 02:20:29.199617', '2023-04-07 02:20:29.199617')[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "restaurants";
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', 1, 1, '2023-04-07 02:20:29.214632', '2023-04-07 02:20:29.214632');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', 1, 1, '2023-04-07 02:20:29.214632', '2023-04-07 02:20:29.214632');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', 1, 1, '2023-04-07 02:20:29.214632', '2023-04-07 02:20:29.214632');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', 1, 1, '2023-04-07 02:20:29.214632', '2023-04-07 02:20:29.214632')[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantsControllerTest: test_should_increase_"Will_Split"_votes_on_button_press
----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-06 22:20:29 -0400
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/vote_will_split/980190962" for 127.0.0.1 at 2023-04-06 22:20:29 -0400
Processing by RestaurantsController#index as HTML
Processing by RestaurantsController#vote_will_split as HTML
  Parameters: {"id"=>"980190962"}
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 8.7ms | Allocations: 2705)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Update (0.4ms)[0m  [1m[33mUPDATE "restaurants" SET "will_split" = ?, "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["will_split", 2], ["updated_at", "2023-04-07 02:20:29.348834"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 20ms (ActiveRecord: 0.8ms | Allocations: 2096)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-06 22:20:29 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 9.0ms | Allocations: 3202)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 10.4ms | Allocations: 3732)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 79.6ms | Allocations: 19823)
Completed 200 OK in 96ms (Views: 81.8ms | ActiveRecord: 0.4ms | Allocations: 22544)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/new" for 127.0.0.1 at 2023-04-06 22:20:29 -0400
Processing by RestaurantsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 5.9ms | Allocations: 2820)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 6.8ms | Allocations: 3163)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 5084)
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms | Allocations: 5563)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
Started POST "/restaurants" for 127.0.0.1 at 2023-04-06 22:20:29 -0400
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory", "will_not_split"=>"1", "will_split"=>"1"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (2.5ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["will_split", 1], ["will_not_split", 1], ["created_at", "2023-04-07 02:20:29.449018"], ["updated_at", "2023-04-07 02:20:29.449018"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190963
Completed 302 Found in 7ms (ActiveRecord: 2.6ms | Allocations: 1000)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
RestaurantsControllerTest: test_should_show_restaurant
------------------------------------------------------
  Rendered layout layouts/application.html.erb (Duration: 89.2ms | Allocations: 20849)
Completed 200 OK in 94ms (Views: 91.9ms | ActiveRecord: 0.1ms | Allocations: 22731)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/restaurants/980190962" for 127.0.0.1 at 2023-04-06 22:20:29 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
RestaurantsControllerTest: test_should_increase_"Won't_Split"_votes_on_button_press
-----------------------------------------------------------------------------------
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered restaurants/show.html.erb within layouts/application (Duration: 0.8ms | Allocations: 334)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/vote_will_not_split/980190962" for 127.0.0.1 at 2023-04-06 22:20:29 -0400
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 2249)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.1ms | Allocations: 2919)
Processing by RestaurantsController#vote_will_not_split as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
RestaurantsControllerTest: test_should_search_restaurants
---------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Update (0.4ms)[0m  [1m[33mUPDATE "restaurants" SET "will_not_split" = ?, "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["will_not_split", 2], ["updated_at", "2023-04-07 02:20:29.473305"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 902)
Started GET "/search?name=Cheesecake&location=Carr" for 127.0.0.1 at 2023-04-06 22:20:29 -0400
Processing by RestaurantsController#search as HTML
  Parameters: {"name"=>"Cheesecake", "location"=>"Carr"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-04-06 22:20:29 -0400
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1471)
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory", "will_not_split"=>"1", "will_split"=>"1"}, "id"=>"980190962"}
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 3385)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.2ms | Allocations: 3739)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 649)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (3.9ms)[0m  [1m[31mDELETE FROM "restaurants"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "restaurants";
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', 1, 1, '2023-04-07 02:24:01.581953', '2023-04-07 02:24:01.581953');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', 1, 1, '2023-04-07 02:24:01.581953', '2023-04-07 02:24:01.581953');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', 1, 1, '2023-04-07 02:24:01.581953', '2023-04-07 02:24:01.581953');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', 1, 1, '2023-04-07 02:24:01.581953', '2023-04-07 02:24:01.581953')[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantsControllerTest: test_should_increase_"Will_Split"_votes_on_button_press
----------------------------------------------------------------------------------
  [1m[36mTruncate Tables (19.5ms)[0m  [1m[31mDELETE FROM "restaurants"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "restaurants";
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', 1, 1, '2023-04-07 02:24:01.610608', '2023-04-07 02:24:01.610608');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', 1, 1, '2023-04-07 02:24:01.610608', '2023-04-07 02:24:01.610608');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', 1, 1, '2023-04-07 02:24:01.610608', '2023-04-07 02:24:01.610608');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', 1, 1, '2023-04-07 02:24:01.610608', '2023-04-07 02:24:01.610608')[0m
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/vote_will_split/980190962" for 127.0.0.1 at 2023-04-06 22:24:01 -0400
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-06 22:24:01 -0400
Processing by RestaurantsController#vote_will_split as HTML
  Parameters: {"id"=>"980190962"}
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Update (0.3ms)[0m  [1m[33mUPDATE "restaurants" SET "will_split" = ?, "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["will_split", 2], ["updated_at", "2023-04-07 02:24:01.709764"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 19ms (ActiveRecord: 0.6ms | Allocations: 2097)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  Rendering layout layouts/application.html.erb
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  Rendering restaurants/edit.html.erb within layouts/application
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-06 22:24:01 -0400
Processing by RestaurantsController#index as HTML
  Rendered restaurants/_form.html.erb (Duration: 7.2ms | Allocations: 3233)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 8.7ms | Allocations: 3767)
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 2672)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 73.2ms | Allocations: 19871)
Completed 200 OK in 77ms (Views: 75.5ms | ActiveRecord: 0.3ms | Allocations: 21649)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
RestaurantsControllerTest: test_should_search_restaurants
---------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/search?name=Cheesecake&location=Carr" for 127.0.0.1 at 2023-04-06 22:24:01 -0400
Processing by RestaurantsController#search as HTML
  Parameters: {"name"=>"Cheesecake", "location"=>"Carr"}
[Webpacker] Everything's up-to-date. Nothing to do
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  Rendered layout layouts/application.html.erb (Duration: 91.9ms | Allocations: 20962)
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 110ms (Views: 95.0ms | ActiveRecord: 0.1ms | Allocations: 23893)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendered restaurants/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1476)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
RestaurantsControllerTest: test_should_show_restaurant
------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 3390)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.2ms | Allocations: 3744)
Started GET "/restaurants/980190962" for 127.0.0.1 at 2023-04-06 22:24:01 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-04-06 22:24:01 -0400
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/show.html.erb within layouts/application
  Rendered restaurants/show.html.erb within layouts/application (Duration: 0.8ms | Allocations: 338)
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory", "will_not_split"=>"1", "will_split"=>"1"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 651)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 2253)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.1ms | Allocations: 2828)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
Started POST "/restaurants" for 127.0.0.1 at 2023-04-06 22:24:01 -0400
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory", "will_not_split"=>"1", "will_split"=>"1"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/new" for 127.0.0.1 at 2023-04-06 22:24:01 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (0.3ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["will_split", 1], ["will_not_split", 1], ["created_at", "2023-04-07 02:24:01.836402"], ["updated_at", "2023-04-07 02:24:01.836402"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 804)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Processing by RestaurantsController#new as HTML
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
RestaurantsControllerTest: test_should_increase_"Won't_Split"_votes_on_button_press
-----------------------------------------------------------------------------------
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/vote_will_not_split/980190962" for 127.0.0.1 at 2023-04-06 22:24:01 -0400
  Rendered restaurants/_form.html.erb (Duration: 2.2ms | Allocations: 1034)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1242)
Processing by RestaurantsController#vote_will_not_split as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mRestaurant Update (0.3ms)[0m  [1m[33mUPDATE "restaurants" SET "will_not_split" = ?, "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["will_not_split", 2], ["updated_at", "2023-04-07 02:24:01.848422"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 3163)
Redirected to http://www.example.com/restaurants
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 900)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.0ms | Allocations: 3642)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[36mTruncate Tables (4.0ms)[0m  [1m[31mDELETE FROM "restaurants"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (5.8ms)[0m  [1m[31mDELETE FROM "restaurants"[0m
  [1m[35m (2.8ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.5ms)[0m  [1m[31mDELETE FROM "restaurants";
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', 1, 1, '2023-04-07 06:12:49.744773', '2023-04-07 06:12:49.744773');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', 1, 1, '2023-04-07 06:12:49.744773', '2023-04-07 06:12:49.744773');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', 1, 1, '2023-04-07 06:12:49.744773', '2023-04-07 06:12:49.744773');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', 1, 1, '2023-04-07 06:12:49.744773', '2023-04-07 06:12:49.744773')[0m
  [1m[35m (5.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
RestaurantsTest: test_destroying_a_Restaurant
  [1m[36mFixtures Load (3.8ms)[0m  [1m[31mDELETE FROM "restaurants";
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', 1, 1, '2023-04-07 06:12:49.734922', '2023-04-07 06:12:49.734922');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', 1, 1, '2023-04-07 06:12:49.734922', '2023-04-07 06:12:49.734922');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', 1, 1, '2023-04-07 06:12:49.734922', '2023-04-07 06:12:49.734922');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', 1, 1, '2023-04-07 06:12:49.734922', '2023-04-07 06:12:49.734922')[0m
---------------------------------------------
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
RestaurantsTest: test_creating_a_Restaurant
-------------------------------------------
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-07 02:12:51 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 2792)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 102.9ms | Allocations: 20074)
Completed 200 OK in 119ms (Views: 105.7ms | ActiveRecord: 0.3ms | Allocations: 22979)
Started GET "/assets/application-fe57a2f34fa8764934b7d748786237b8decfe1393ce2f81d192154b4dcf8dbed.css" for 127.0.0.1 at 2023-04-07 02:12:52 -0400
Started GET "/restaurants" for 127.0.0.1 at 2023-04-07 02:12:52 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 9.2ms | Allocations: 2793)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 94.9ms | Allocations: 20110)
Completed 200 OK in 118ms (Views: 97.3ms | ActiveRecord: 0.3ms | Allocations: 23015)
Started GET "/assets/application-fe57a2f34fa8764934b7d748786237b8decfe1393ce2f81d192154b4dcf8dbed.css" for 127.0.0.1 at 2023-04-07 02:12:52 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
RestaurantsTest: test_visiting_the_index
----------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-07 02:12:54 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 18.1ms | Allocations: 1492)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 31.9ms | Allocations: 3415)
Completed 200 OK in 33ms (Views: 32.2ms | ActiveRecord: 0.3ms | Allocations: 3757)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
RestaurantsTest: test_updating_a_Restaurant
-------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-07 02:12:55 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 18.4ms | Allocations: 1509)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 32.5ms | Allocations: 3432)
Completed 200 OK in 34ms (Views: 32.9ms | ActiveRecord: 0.3ms | Allocations: 3774)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/restaurants/113629430/edit" for 127.0.0.1 at 2023-04-07 02:12:55 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"113629430"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 36.9ms | Allocations: 3912)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 42.5ms | Allocations: 4327)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 45.8ms | Allocations: 6242)
Completed 200 OK in 49ms (Views: 46.6ms | ActiveRecord: 0.2ms | Allocations: 6910)
Started PATCH "/restaurants/113629430" for 127.0.0.1 at 2023-04-07 02:12:56 -0400
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"name"=>"Cheesecake Factory", "location"=>"Carrollton", "will_split"=>"1", "will_not_split"=>"1"}, "commit"=>"Update Restaurant", "id"=>"113629430"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Update (1.9ms)[0m  [1m[33mUPDATE "restaurants" SET "name" = ?, "location" = ?, "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["updated_at", "2023-04-07 06:12:56.399465"], ["id", 113629430]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:36137/restaurants/113629430
Completed 302 Found in 12ms (ActiveRecord: 2.9ms | Allocations: 1148)
Started GET "/restaurants/113629430" for 127.0.0.1 at 2023-04-07 02:12:56 -0400
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"113629430"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/show.html.erb within layouts/application
  Rendered restaurants/show.html.erb within layouts/application (Duration: 2.7ms | Allocations: 344)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 2259)
Completed 200 OK in 19ms (Views: 8.5ms | ActiveRecord: 0.1ms | Allocations: 2938)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (2.3ms)[0m  [1m[31mDELETE FROM "restaurants"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (4.5ms)[0m  [1m[31mDELETE FROM "restaurants"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.8ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "restaurants";
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', 1, 1, '2023-04-07 06:21:43.689687', '2023-04-07 06:21:43.689687');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', 1, 1, '2023-04-07 06:21:43.689687', '2023-04-07 06:21:43.689687');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', 1, 1, '2023-04-07 06:21:43.689687', '2023-04-07 06:21:43.689687');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', 1, 1, '2023-04-07 06:21:43.689687', '2023-04-07 06:21:43.689687')[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
RestaurantsTest: test_updating_a_Restaurant
-------------------------------------------
  [1m[36mRestaurant Load (0.7ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (11.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "restaurants";
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', 1, 1, '2023-04-07 06:21:43.727830', '2023-04-07 06:21:43.727830');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', 1, 1, '2023-04-07 06:21:43.727830', '2023-04-07 06:21:43.727830');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', 1, 1, '2023-04-07 06:21:43.727830', '2023-04-07 06:21:43.727830');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', 1, 1, '2023-04-07 06:21:43.727830', '2023-04-07 06:21:43.727830')[0m
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
RestaurantsTest: test_creating_a_Restaurant
-------------------------------------------
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-07 02:21:45 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (17.9ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 46.9ms | Allocations: 2791)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 279.3ms | Allocations: 20154)
Completed 200 OK in 338ms (Views: 295.5ms | ActiveRecord: 18.0ms | Allocations: 23058)
Started GET "/assets/application-fe57a2f34fa8764934b7d748786237b8decfe1393ce2f81d192154b4dcf8dbed.css" for 127.0.0.1 at 2023-04-07 02:21:45 -0400
Started GET "/restaurants" for 127.0.0.1 at 2023-04-07 02:21:45 -0400
Processing by RestaurantsController#index as HTML
Started GET "/restaurants/113629430/edit" for 127.0.0.1 at 2023-04-07 02:21:45 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"113629430"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 9.8ms | Allocations: 2899)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 10.8ms | Allocations: 3314)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | Allocations: 5229)
Completed 200 OK in 22ms (Views: 18.5ms | ActiveRecord: 0.1ms | Allocations: 5918)
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 16.1ms | Allocations: 2791)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 202.3ms | Allocations: 20184)
Completed 200 OK in 256ms (Views: 220.1ms | ActiveRecord: 0.3ms | Allocations: 23088)
Started GET "/assets/application-fe57a2f34fa8764934b7d748786237b8decfe1393ce2f81d192154b4dcf8dbed.css" for 127.0.0.1 at 2023-04-07 02:21:46 -0400
Started GET "/restaurants/new" for 127.0.0.1 at 2023-04-07 02:21:46 -0400
Processing by RestaurantsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 13.2ms | Allocations: 2860)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 14.4ms | Allocations: 3207)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 19.8ms | Allocations: 5129)
Completed 200 OK in 25ms (Views: 20.4ms | ActiveRecord: 0.0ms | Allocations: 5630)
Started PATCH "/restaurants/113629430" for 127.0.0.1 at 2023-04-07 02:21:46 -0400
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"name"=>"Cheesecake Factory", "location"=>"Carrollton", "will_split"=>"1", "will_not_split"=>"1"}, "commit"=>"Update Restaurant", "id"=>"113629430"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Update (2.2ms)[0m  [1m[33mUPDATE "restaurants" SET "name" = ?, "location" = ?, "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["updated_at", "2023-04-07 06:21:46.776429"], ["id", 113629430]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:36987/restaurants/113629430
Completed 302 Found in 7ms (ActiveRecord: 2.4ms | Allocations: 1144)
Started GET "/restaurants/113629430" for 127.0.0.1 at 2023-04-07 02:21:46 -0400
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"113629430"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/show.html.erb within layouts/application
  Rendered restaurants/show.html.erb within layouts/application (Duration: 0.7ms | Allocations: 340)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | Allocations: 2255)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.1ms | Allocations: 2914)
Started GET "/restaurants" for 127.0.0.1 at 2023-04-07 02:21:47 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1476)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 3414)
Completed 200 OK in 14ms (Views: 13.0ms | ActiveRecord: 0.2ms | Allocations: 3827)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
RestaurantsTest: test_visiting_the_index
----------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-07 02:21:47 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
Started POST "/restaurants" for 127.0.0.1 at 2023-04-07 02:21:47 -0400
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"name"=>"Cheesecake Factory", "location"=>"Carrollton", "will_split"=>"1", "will_not_split"=>"1"}, "commit"=>"Create Restaurant"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (1.8ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["will_split", 1], ["will_not_split", 1], ["created_at", "2023-04-07 06:21:47.631906"], ["updated_at", "2023-04-07 06:21:47.631906"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:39017/restaurants/980190963
Completed 302 Found in 8ms (ActiveRecord: 2.0ms | Allocations: 1005)
Started GET "/restaurants/980190963" for 127.0.0.1 at 2023-04-07 02:21:47 -0400
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 27.4ms | Allocations: 1470)
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mRestaurant Load (0.7ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
  Rendering layout layouts/application.html.erb
  Rendering restaurants/show.html.erb within layouts/application
  Rendered restaurants/show.html.erb within layouts/application (Duration: 0.8ms | Allocations: 340)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | Allocations: 2255)
Completed 200 OK in 9ms (Views: 5.7ms | ActiveRecord: 0.7ms | Allocations: 3033)
  Rendered layout layouts/application.html.erb (Duration: 33.8ms | Allocations: 3391)
Completed 200 OK in 65ms (Views: 63.8ms | ActiveRecord: 0.3ms | Allocations: 3722)
Started GET "/restaurants" for 127.0.0.1 at 2023-04-07 02:21:48 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 20.1ms | Allocations: 1684)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 34.4ms | Allocations: 3605)
Completed 200 OK in 42ms (Views: 41.3ms | ActiveRecord: 0.3ms | Allocations: 4047)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (4.4ms)[0m  [1m[31mDELETE FROM "restaurants"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (1.9ms)[0m  [1m[31mDELETE FROM "restaurants"[0m
  [1m[35m (0.9ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "restaurants";
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', 1, 1, '2023-04-07 06:21:58.174335', '2023-04-07 06:21:58.174335');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', 1, 1, '2023-04-07 06:21:58.174335', '2023-04-07 06:21:58.174335');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', 1, 1, '2023-04-07 06:21:58.174335', '2023-04-07 06:21:58.174335');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', 1, 1, '2023-04-07 06:21:58.174335', '2023-04-07 06:21:58.174335')[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
RestaurantsControllerTest: test_should_search_restaurants
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.7ms)[0m  [1m[31mDELETE FROM "restaurants";
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', 1, 1, '2023-04-07 06:21:58.177176', '2023-04-07 06:21:58.177176');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', 1, 1, '2023-04-07 06:21:58.177176', '2023-04-07 06:21:58.177176');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', 1, 1, '2023-04-07 06:21:58.177176', '2023-04-07 06:21:58.177176');
INSERT INTO "restaurants" ("id", "name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', 1, 1, '2023-04-07 06:21:58.177176', '2023-04-07 06:21:58.177176')[0m
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
RestaurantsControllerTest: test_should_increase_"Won't_Split"_votes_on_button_press
-----------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/search?name=Cheesecake&location=Carr" for 127.0.0.1 at 2023-04-07 02:21:58 -0400
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by RestaurantsController#search as HTML
  Parameters: {"name"=>"Cheesecake", "location"=>"Carr"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/vote_will_not_split/980190962" for 127.0.0.1 at 2023-04-07 02:21:58 -0400
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 2710)
Processing by RestaurantsController#vote_will_not_split as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Update (1.5ms)[0m  [1m[33mUPDATE "restaurants" SET "will_not_split" = ?, "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["will_not_split", 2], ["updated_at", "2023-04-07 06:21:58.342523"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 18ms (ActiveRecord: 1.8ms | Allocations: 2098)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-07 02:21:58 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 2672)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 80.3ms | Allocations: 20140)
Completed 200 OK in 95ms (Views: 83.2ms | ActiveRecord: 0.3ms | Allocations: 22895)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
Started POST "/restaurants" for 127.0.0.1 at 2023-04-07 02:21:58 -0400
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory", "will_not_split"=>"1", "will_split"=>"1"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (0.4ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "will_split", "will_not_split", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["will_split", 1], ["will_not_split", 1], ["created_at", "2023-04-07 06:21:58.417972"], ["updated_at", "2023-04-07 06:21:58.417972"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 1004)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-07 02:21:58 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered restaurants/_form.html.erb (Duration: 6.8ms | Allocations: 2855)
  Rendered layout layouts/application.html.erb (Duration: 78.6ms | Allocations: 20116)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 7.7ms | Allocations: 3265)
Completed 200 OK in 82ms (Views: 80.6ms | ActiveRecord: 0.3ms | Allocations: 21895)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantsControllerTest: test_should_increase_"Will_Split"_votes_on_button_press
----------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/vote_will_split/980190962" for 127.0.0.1 at 2023-04-07 02:21:58 -0400
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 17.3ms | Allocations: 5179)
Completed 200 OK in 20ms (Views: 17.8ms | ActiveRecord: 0.2ms | Allocations: 5850)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by RestaurantsController#vote_will_split as HTML
  Parameters: {"id"=>"980190962"}
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-04-07 02:21:58 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Update (1.5ms)[0m  [1m[33mUPDATE "restaurants" SET "will_split" = ?, "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["will_split", 2], ["updated_at", "2023-04-07 06:21:58.453850"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by RestaurantsController#update as HTML
Redirected to http://www.example.com/restaurants
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory", "will_not_split"=>"1", "will_split"=>"1"}, "id"=>"980190962"}
Completed 302 Found in 5ms (ActiveRecord: 1.8ms | Allocations: 902)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 624)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
RestaurantsControllerTest: test_should_show_restaurant
------------------------------------------------------
Started GET "/restaurants/new" for 127.0.0.1 at 2023-04-07 02:21:58 -0400
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962" for 127.0.0.1 at 2023-04-07 02:21:58 -0400
Processing by RestaurantsController#new as HTML
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"980190962"}
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/show.html.erb within layouts/application
  Rendered restaurants/show.html.erb within layouts/application (Duration: 0.6ms | Allocations: 335)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | Allocations: 2250)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.1ms | Allocations: 2825)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  Rendered restaurants/_form.html.erb (Duration: 7.3ms | Allocations: 2816)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 8.1ms | Allocations: 3159)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  Rendered layout layouts/application.html.erb (Duration: 16.2ms | Allocations: 5080)
Completed 200 OK in 17ms (Views: 16.7ms | ActiveRecord: 0.0ms | Allocations: 5559)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "restaurants"[0m
  [1m[35m (9.0ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "location" varchar, "will_split" integer, "will_not_split" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "username" varchar)[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_username" ON "users" ("username")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "votes"[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "avotes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_user_id" ON "avotes" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_restaurant_id" ON "avotes" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "avotes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "votes"[0m
  [1m[35m (2.6ms)[0m  [1m[35mDROP TABLE "votes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d97ed63bf1"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (1.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "avotes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_user_id" ON "avotes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_restaurant_id" ON "avotes" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "avotes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "votes"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "votes"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d97ed63bf1"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
, CONSTRAINT "fk_rails_c9b3bef597"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230417005304)[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230403120229),
(20230416011117),
(20230417004011);

[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-04-17 01:22:56.500938"], ["updated_at", "2023-04-17 01:22:56.500938"]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (2.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "129fc0ee3ad51bd5098baa671a7780ad69d73953"], ["created_at", "2023-04-17 01:22:56.509377"], ["updated_at", "2023-04-17 01:22:56.509377"]]
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "restaurants"[0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "location" varchar, "will_split" integer, "will_not_split" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (8.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "username" varchar)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_username" ON "users" ("username")[0m
  [1m[35m (1.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "restaurants"[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (15.9ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "location" varchar, "will_split" integer, "will_not_split" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TEMPORARY TABLE "avotes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_user_id" ON "avotes" ("user_id")[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "username" varchar)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_restaurant_id" ON "avotes" ("restaurant_id")[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE INDEX "index_users_on_username" ON "users" ("username")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "votes"[0m
  [1m[35m (3.7ms)[0m  [1m[32mINSERT INTO "avotes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "votes"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "votes"[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d97ed63bf1"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[35m (8.1ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "avotes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "avotes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_user_id" ON "avotes" ("user_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_restaurant_id" ON "avotes" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "avotes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "votes"[0m
  [1m[35m (7.3ms)[0m  [1m[35mDROP TABLE "votes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d97ed63bf1"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
, CONSTRAINT "fk_rails_c9b3bef597"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "avotes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_user_id" ON "avotes" ("user_id")[0m
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_restaurant_id" ON "avotes" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "avotes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "votes"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "votes"[0m
  [1m[35m (6.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230417005304)[0m
  [1m[35m (5.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230403120229),
(20230416011117),
(20230417004011);

[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d97ed63bf1"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "avotes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Create (4.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-04-17 01:22:56.806404"], ["updated_at", "2023-04-17 01:22:56.806404"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_user_id" ON "avotes" ("user_id")[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_restaurant_id" ON "avotes" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "avotes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "votes"[0m
  [1m[36mActiveRecord::InternalMetadata Create (4.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "129fc0ee3ad51bd5098baa671a7780ad69d73953"], ["created_at", "2023-04-17 01:22:56.830420"], ["updated_at", "2023-04-17 01:22:56.830420"]]
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (13.0ms)[0m  [1m[35mDROP TABLE "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d97ed63bf1"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
, CONSTRAINT "fk_rails_c9b3bef597"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "avotes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (4.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230417005304)[0m
  [1m[35m (2.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230403120229),
(20230416011117),
(20230417004011);

[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (2.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-04-17 01:22:56.916671"], ["updated_at", "2023-04-17 01:22:56.916671"]]
  [1m[36mFixtures Load (8.9ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes";
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-04-17 01:22:56.891344', '2023-04-17 01:22:56.891344');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-04-17 01:22:56.891344', '2023-04-17 01:22:56.891344');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-04-17 01:22:56.891344', '2023-04-17 01:22:56.891344');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-04-17 01:22:56.891344', '2023-04-17 01:22:56.891344');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-04-17 01:22:56.902633', '2023-04-17 01:22:56.902633');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-04-17 01:22:56.902633', '2023-04-17 01:22:56.902633');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 0, '2023-04-17 01:22:56.909910', '2023-04-17 01:22:56.909910');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-04-17 01:22:56.909910', '2023-04-17 01:22:56.909910')[0m
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (4.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "129fc0ee3ad51bd5098baa671a7780ad69d73953"], ["created_at", "2023-04-17 01:22:56.942504"], ["updated_at", "2023-04-17 01:22:56.942504"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (7.7ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes";
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-04-17 01:22:56.986997', '2023-04-17 01:22:56.986997');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-04-17 01:22:56.986997', '2023-04-17 01:22:56.986997');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-04-17 01:22:56.986997', '2023-04-17 01:22:56.986997');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-04-17 01:22:56.986997', '2023-04-17 01:22:56.986997');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-04-17 01:22:56.992633', '2023-04-17 01:22:56.992633');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-04-17 01:22:56.992633', '2023-04-17 01:22:56.992633');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 0, '2023-04-17 01:22:57.000336', '2023-04-17 01:22:57.000336');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-04-17 01:22:57.000336', '2023-04-17 01:22:57.000336')[0m
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
Started POST "/restaurants" for 127.0.0.1 at 2023-04-16 21:22:57 -0400
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/new" for 127.0.0.1 at 2023-04-16 21:22:57 -0400
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory", "will_not_split"=>"1", "will_split"=>"0"}}
Processing by RestaurantsController#new as HTML
Completed 401 Unauthorized in 12ms (ActiveRecord: 0.0ms | Allocations: 1866)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
Completed 401 Unauthorized in 12ms (ActiveRecord: 0.0ms | Allocations: 1867)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
RestaurantsControllerTest: test_should_search_restaurants
---------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/search?name=Cheesecake&location=Carr" for 127.0.0.1 at 2023-04-16 21:22:57 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-16 21:22:57 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
Processing by RestaurantsController#search as HTML
  Parameters: {"name"=>"Cheesecake", "location"=>"Carr"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 174)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 397)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
RestaurantsControllerTest: test_should_show_restaurant
------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/restaurants/980190962" for 127.0.0.1 at 2023-04-16 21:22:57 -0400
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-04-16 21:22:57 -0400
  Rendering layout layouts/application.html.erb
  Rendering restaurants/show.html.erb within layouts/application
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory", "will_not_split"=>"1", "will_split"=>"0"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.1ms | Allocations: 389)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-16 21:22:57 -0400
Processing by RestaurantsController#index as HTML
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 15.8ms | Allocations: 3615)
  Rendered restaurants/show.html.erb within layouts/application (Duration: 72.7ms | Allocations: 5738)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 139.2ms | Allocations: 27472)
Completed 200 OK in 147ms (Views: 143.5ms | ActiveRecord: 0.5ms | Allocations: 29361)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
VotesControllerTest: test_should_create_vote
--------------------------------------------
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 205.8ms | Allocations: 27912)
Completed 200 OK in 212ms (Views: 208.0ms | ActiveRecord: 0.3ms | Allocations: 29909)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "restaurants"[0m
  [1m[35m (8.7ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "location" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "username" varchar)[0m
  [1m[35m (8.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_users_on_username" ON "users" ("username")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "votes"[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "avotes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_user_id" ON "avotes" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_restaurant_id" ON "avotes" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "avotes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "votes"[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "votes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d97ed63bf1"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "avotes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_user_id" ON "avotes" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_restaurant_id" ON "avotes" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "avotes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "votes"[0m
  [1m[35m (6.9ms)[0m  [1m[35mDROP TABLE "votes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d97ed63bf1"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
, CONSTRAINT "fk_rails_c9b3bef597"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (5.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230417012741)[0m
  [1m[35m (5.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230403120229),
(20230416011117),
(20230417004011),
(20230417005304);

[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-04-17 01:44:43.916838"], ["updated_at", "2023-04-17 01:44:43.916838"]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "ddc9fd2bd374c14276be8b1ee5aab5b5c515cee2"], ["created_at", "2023-04-17 01:44:43.927373"], ["updated_at", "2023-04-17 01:44:43.927373"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "restaurants"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "restaurants"[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "location" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (26.2ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "location" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (15.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "username" varchar)[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "username" varchar)[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_username" ON "users" ("username")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "votes"[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_users_on_username" ON "users" ("username")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "votes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.7ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "avotes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_user_id" ON "avotes" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "avotes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_restaurant_id" ON "avotes" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "avotes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "votes"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "votes"[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_user_id" ON "avotes" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d97ed63bf1"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_restaurant_id" ON "avotes" ("restaurant_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "avotes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "votes"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "votes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d97ed63bf1"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "avotes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "avotes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "avotes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_user_id" ON "avotes" ("user_id")[0m
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_restaurant_id" ON "avotes" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "avotes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "votes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "avotes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "votes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d97ed63bf1"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
, CONSTRAINT "fk_rails_c9b3bef597"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_user_id" ON "avotes" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_restaurant_id" ON "avotes" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "avotes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "votes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (10.4ms)[0m  [1m[35mDROP TABLE "votes"[0m
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d97ed63bf1"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
, CONSTRAINT "fk_rails_c9b3bef597"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (4.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230417012741)[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (2.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230403120229),
(20230416011117),
(20230417004011),
(20230417005304);

[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (8.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (3.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (4.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230417012741)[0m
  [1m[35m (2.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230403120229),
(20230416011117),
(20230417004011),
(20230417005304);

[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-04-17 01:44:44.204705"], ["updated_at", "2023-04-17 01:44:44.204705"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "ddc9fd2bd374c14276be8b1ee5aab5b5c515cee2"], ["created_at", "2023-04-17 01:44:44.222367"], ["updated_at", "2023-04-17 01:44:44.222367"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-04-17 01:44:44.223637"], ["updated_at", "2023-04-17 01:44:44.223637"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (7.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "ddc9fd2bd374c14276be8b1ee5aab5b5c515cee2"], ["created_at", "2023-04-17 01:44:44.236606"], ["updated_at", "2023-04-17 01:44:44.236606"]]
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (13.5ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes";
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-04-17 01:44:44.245213', '2023-04-17 01:44:44.245213');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-04-17 01:44:44.245213', '2023-04-17 01:44:44.245213');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-04-17 01:44:44.245213', '2023-04-17 01:44:44.245213');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-04-17 01:44:44.245213', '2023-04-17 01:44:44.245213');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-04-17 01:44:44.247461', '2023-04-17 01:44:44.247461');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-04-17 01:44:44.247461', '2023-04-17 01:44:44.247461');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (113629430, 'third@mail.com', '2023-04-17 01:44:44.247461', '2023-04-17 01:44:44.247461');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-04-17 01:44:44.249246', '2023-04-17 01:44:44.249246');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-04-17 01:44:44.249246', '2023-04-17 01:44:44.249246')[0m
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (8.2ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes";
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-04-17 01:44:44.282522', '2023-04-17 01:44:44.282522');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-04-17 01:44:44.282522', '2023-04-17 01:44:44.282522');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-04-17 01:44:44.282522', '2023-04-17 01:44:44.282522');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-04-17 01:44:44.282522', '2023-04-17 01:44:44.282522');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-04-17 01:44:44.293275', '2023-04-17 01:44:44.293275');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-04-17 01:44:44.293275', '2023-04-17 01:44:44.293275');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (113629430, 'third@mail.com', '2023-04-17 01:44:44.293275', '2023-04-17 01:44:44.293275');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-04-17 01:44:44.299448', '2023-04-17 01:44:44.299448');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-04-17 01:44:44.299448', '2023-04-17 01:44:44.299448')[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-16 21:44:44 -0400
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-16 21:44:44 -0400
Processing by RestaurantsController#index as HTML
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 14ms (ActiveRecord: 0.1ms | Allocations: 2089)
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
Started POST "/restaurants" for 127.0.0.1 at 2023-04-16 21:44:44 -0400
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}}
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 18.2ms | Allocations: 8697)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 1805)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/new" for 127.0.0.1 at 2023-04-16 21:44:44 -0400
Processing by RestaurantsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 4.3ms | Allocations: 2308)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 2774)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 145.7ms | Allocations: 29721)
Completed 200 OK in 163ms (Views: 147.8ms | ActiveRecord: 0.7ms | Allocations: 33302)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-16 21:44:44 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 386)
  Rendered layout layouts/application.html.erb (Duration: 130.7ms | Allocations: 23794)
Completed 200 OK in 137ms (Views: 135.7ms | ActiveRecord: 0.0ms | Allocations: 25626)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
RestaurantsControllerTest: test_should_search_restaurants
---------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/search?name=Cheesecake&location=Carr" for 127.0.0.1 at 2023-04-16 21:44:44 -0400
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-04-16 21:44:44 -0400
Processing by RestaurantsController#search as HTML
  Parameters: {"name"=>"Cheesecake", "location"=>"Carr"}
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 676)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-16 21:44:44 -0400
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 291)
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-16 21:44:44 -0400
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 21.8ms | Allocations: 8182)
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 25.1ms | Allocations: 10157)
Completed 200 OK in 26ms (Views: 25.2ms | ActiveRecord: 0.6ms | Allocations: 10658)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
RestaurantsControllerTest: test_should_show_restaurant
------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered restaurants/_form.html.erb (Duration: 3.5ms | Allocations: 1995)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2405)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962" for 127.0.0.1 at 2023-04-16 21:44:44 -0400
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 4379)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.1ms | Allocations: 4903)
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  Rendered restaurants/show.html.erb within layouts/application (Duration: 1.3ms | Allocations: 599)
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 2574)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
Completed 200 OK in 15ms (Views: 13.0ms | ActiveRecord: 0.1ms | Allocations: 3156)
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
VotesControllerTest: test_should_create_vote
--------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"won't_split"_votes_associated_with_the_restaurant
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
--------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
Started POST "/votes" for 127.0.0.1 at 2023-04-16 21:44:44 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"will_split"_votes_associated_with_the_restaurant
-------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 234)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-04-16 21:44:44 -0400
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Create (3.4ms)[0m  [1m[32mINSERT INTO "votes" ("user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["will_split?", 1], ["created_at", "2023-04-17 01:44:44.725565"], ["updated_at", "2023-04-17 01:44:44.725565"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 9ms (ActiveRecord: 3.7ms | Allocations: 1539)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (44.4ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (41.3ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (7.6ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes";
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-04-17 01:45:23.909815', '2023-04-17 01:45:23.909815');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-04-17 01:45:23.909815', '2023-04-17 01:45:23.909815');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-04-17 01:45:23.909815', '2023-04-17 01:45:23.909815');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-04-17 01:45:23.909815', '2023-04-17 01:45:23.909815');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-04-17 01:45:23.912237', '2023-04-17 01:45:23.912237');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-04-17 01:45:23.912237', '2023-04-17 01:45:23.912237');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (113629430, 'third@mail.com', '2023-04-17 01:45:23.912237', '2023-04-17 01:45:23.912237');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-04-17 01:45:23.913968', '2023-04-17 01:45:23.913968');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-04-17 01:45:23.913968', '2023-04-17 01:45:23.913968')[0m
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"will_split"_votes_associated_with_the_restaurant
-------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (1.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes";
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-04-17 01:45:23.928599', '2023-04-17 01:45:23.928599');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-04-17 01:45:23.928599', '2023-04-17 01:45:23.928599');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-04-17 01:45:23.928599', '2023-04-17 01:45:23.928599');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-04-17 01:45:23.928599', '2023-04-17 01:45:23.928599');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-04-17 01:45:23.930913', '2023-04-17 01:45:23.930913');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-04-17 01:45:23.930913', '2023-04-17 01:45:23.930913');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (113629430, 'third@mail.com', '2023-04-17 01:45:23.930913', '2023-04-17 01:45:23.930913');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-04-17 01:45:23.934987', '2023-04-17 01:45:23.934987');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-04-17 01:45:23.934987', '2023-04-17 01:45:23.934987')[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"won't_split"_votes_associated_with_the_restaurant
--------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
RestaurantsControllerTest: test_should_show_restaurant
------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962" for 127.0.0.1 at 2023-04-16 21:45:24 -0400
Started GET "/restaurants" for 127.0.0.1 at 2023-04-16 21:45:24 -0400
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"980190962"}
Processing by RestaurantsController#index as HTML
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/show.html.erb within layouts/application
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  Rendered restaurants/show.html.erb within layouts/application (Duration: 2.4ms | Allocations: 760)
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 8.7ms | Allocations: 3657)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 96.1ms | Allocations: 24790)
Completed 200 OK in 111ms (Views: 97.9ms | ActiveRecord: 0.5ms | Allocations: 28368)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendered layout layouts/application.html.erb (Duration: 99.1ms | Allocations: 21865)
Completed 200 OK in 116ms (Views: 101.4ms | ActiveRecord: 0.2ms | Allocations: 25648)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-16 21:45:24 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/new" for 127.0.0.1 at 2023-04-16 21:45:24 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 386)
Processing by RestaurantsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-16 21:45:24 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 6.3ms | Allocations: 4034)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 7.1ms | Allocations: 4381)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 6363)
Completed 200 OK in 12ms (Views: 11.5ms | ActiveRecord: 0.0ms | Allocations: 6793)
  Rendered restaurants/_form.html.erb (Duration: 3.4ms | Allocations: 1997)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 4.3ms | Allocations: 2412)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 4387)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.1ms | Allocations: 4911)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-16 21:45:24 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
RestaurantsControllerTest: test_should_search_restaurants
---------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 291)
Started GET "/search?name=Cheesecake&location=Carr" for 127.0.0.1 at 2023-04-16 21:45:24 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
Processing by RestaurantsController#search as HTML
  Parameters: {"name"=>"Cheesecake", "location"=>"Carr"}
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
Started POST "/restaurants" for 127.0.0.1 at 2023-04-16 21:45:24 -0400
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}}
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 2153)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 4127)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.6ms | Allocations: 4496)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 1803)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-16 21:45:24 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 291)
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-04-16 21:45:24 -0400
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 769)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
VotesControllerTest: test_should_create_vote
--------------------------------------------
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-04-16 21:45:24 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
Processing by VotesController#create as HTML
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 234)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
Started POST "/votes" for 127.0.0.1 at 2023-04-16 21:45:24 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Create (3.4ms)[0m  [1m[32mINSERT INTO "votes" ("user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["will_split?", 1], ["created_at", "2023-04-17 01:45:24.301722"], ["updated_at", "2023-04-17 01:45:24.301722"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 9ms (ActiveRecord: 3.7ms | Allocations: 1676)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (25.8ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (23.1ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (8.0ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes";
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-04-17 01:47:21.409986', '2023-04-17 01:47:21.409986');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-04-17 01:47:21.409986', '2023-04-17 01:47:21.409986');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-04-17 01:47:21.409986', '2023-04-17 01:47:21.409986');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-04-17 01:47:21.409986', '2023-04-17 01:47:21.409986');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-04-17 01:47:21.422079', '2023-04-17 01:47:21.422079');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-04-17 01:47:21.422079', '2023-04-17 01:47:21.422079');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (113629430, 'third@mail.com', '2023-04-17 01:47:21.422079', '2023-04-17 01:47:21.422079');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-04-17 01:47:21.423946', '2023-04-17 01:47:21.423946');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-04-17 01:47:21.423946', '2023-04-17 01:47:21.423946')[0m
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mTRANSACTION (22.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes";
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-04-17 01:47:21.418041', '2023-04-17 01:47:21.418041');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-04-17 01:47:21.418041', '2023-04-17 01:47:21.418041');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-04-17 01:47:21.418041', '2023-04-17 01:47:21.418041');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-04-17 01:47:21.418041', '2023-04-17 01:47:21.418041');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-04-17 01:47:21.430910', '2023-04-17 01:47:21.430910');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-04-17 01:47:21.430910', '2023-04-17 01:47:21.430910');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (113629430, 'third@mail.com', '2023-04-17 01:47:21.430910', '2023-04-17 01:47:21.430910');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-04-17 01:47:21.432648', '2023-04-17 01:47:21.432648');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-04-17 01:47:21.432648', '2023-04-17 01:47:21.432648')[0m
  [1m[36mTRANSACTION (13.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.7ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-16 21:47:21 -0400
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-16 21:47:21 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 50ms (ActiveRecord: 0.1ms | Allocations: 2088)
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-16 21:47:21 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered restaurants/_form.html.erb (Duration: 5.0ms | Allocations: 2350)
Completed 401 Unauthorized in 47ms (ActiveRecord: 0.1ms | Allocations: 2088)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 6.5ms | Allocations: 2884)
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-04-16 21:47:21 -0400
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 847)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
RestaurantsControllerTest: test_should_show_restaurant
------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962" for 127.0.0.1 at 2023-04-16 21:47:21 -0400
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  Rendered restaurants/show.html.erb within layouts/application (Duration: 9.9ms | Allocations: 5769)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 91.9ms | Allocations: 24107)
Completed 200 OK in 97ms (Views: 94.5ms | ActiveRecord: 0.1ms | Allocations: 26048)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-16 21:47:21 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (1.0ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 16.6ms | Allocations: 8188)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 20.8ms | Allocations: 10170)
Completed 200 OK in 22ms (Views: 19.8ms | ActiveRecord: 1.5ms | Allocations: 10645)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-16 21:47:21 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 291)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 102.8ms | Allocations: 27022)
Completed 200 OK in 107ms (Views: 105.1ms | ActiveRecord: 0.2ms | Allocations: 29012)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/restaurants" for 127.0.0.1 at 2023-04-16 21:47:21 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/new" for 127.0.0.1 at 2023-04-16 21:47:21 -0400
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}}
Processing by RestaurantsController#new as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (3.5ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["created_at", "2023-04-17 01:47:21.768481"], ["updated_at", "2023-04-17 01:47:21.768481"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190963
Completed 302 Found in 9ms (ActiveRecord: 3.6ms | Allocations: 952)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
RestaurantsControllerTest: test_should_search_restaurants
---------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/search?name=Cheesecake&location=Carr" for 127.0.0.1 at 2023-04-16 21:47:21 -0400
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
Processing by RestaurantsController#search as HTML
  Parameters: {"name"=>"Cheesecake", "location"=>"Carr"}
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  Rendered restaurants/_form.html.erb (Duration: 4.2ms | Allocations: 2256)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 2598)
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 10.3ms | Allocations: 2150)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 4124)
Completed 200 OK in 15ms (Views: 14.4ms | ActiveRecord: 0.5ms | Allocations: 4485)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 18.6ms | Allocations: 4579)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 35ms (Views: 34.8ms | ActiveRecord: 0.0ms | Allocations: 5008)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (5.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
VotesControllerTest: test_should_create_vote
--------------------------------------------
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"won't_split"_votes_associated_with_the_restaurant
--------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/votes" for 127.0.0.1 at 2023-04-16 21:47:21 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"will_split"_votes_associated_with_the_restaurant
-------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 234)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-04-16 21:47:21 -0400
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Create (15.8ms)[0m  [1m[32mINSERT INTO "votes" ("user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["will_split?", 1], ["created_at", "2023-04-17 01:47:21.841061"], ["updated_at", "2023-04-17 01:47:21.841061"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 21ms (ActiveRecord: 16.1ms | Allocations: 1564)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (5.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (43.0ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (52.1ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (7.6ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes";
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-04-17 02:24:27.558063', '2023-04-17 02:24:27.558063');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-04-17 02:24:27.558063', '2023-04-17 02:24:27.558063');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-04-17 02:24:27.558063', '2023-04-17 02:24:27.558063');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-04-17 02:24:27.558063', '2023-04-17 02:24:27.558063');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-04-17 02:24:27.560252', '2023-04-17 02:24:27.560252');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-04-17 02:24:27.560252', '2023-04-17 02:24:27.560252');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (113629430, 'third@mail.com', '2023-04-17 02:24:27.560252', '2023-04-17 02:24:27.560252');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-04-17 02:24:27.561790', '2023-04-17 02:24:27.561790');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-04-17 02:24:27.561790', '2023-04-17 02:24:27.561790')[0m
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
RestaurantsTest: test_creating_a_Restaurant
-------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes";
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-04-17 02:24:27.615720', '2023-04-17 02:24:27.615720');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-04-17 02:24:27.615720', '2023-04-17 02:24:27.615720');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-04-17 02:24:27.615720', '2023-04-17 02:24:27.615720');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-04-17 02:24:27.615720', '2023-04-17 02:24:27.615720');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-04-17 02:24:27.618242', '2023-04-17 02:24:27.618242');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-04-17 02:24:27.618242', '2023-04-17 02:24:27.618242');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (113629430, 'third@mail.com', '2023-04-17 02:24:27.618242', '2023-04-17 02:24:27.618242');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-04-17 02:24:27.621315', '2023-04-17 02:24:27.621315');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-04-17 02:24:27.621315', '2023-04-17 02:24:27.621315')[0m
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
RestaurantsTest: test_updating_a_Restaurant
-------------------------------------------
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-16 22:24:29 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 21.6ms | Allocations: 8893)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 454.6ms | Allocations: 32512)
Completed 200 OK in 474ms (Views: 456.9ms | ActiveRecord: 0.7ms | Allocations: 36299)
Started GET "/assets/application-842c3ce155ba50702811decd2bdffafa29b15bcb532e0f3f843020f81bfd4ef9.css" for 127.0.0.1 at 2023-04-16 22:24:29 -0400
Started GET "/restaurants" for 127.0.0.1 at 2023-04-16 22:24:30 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 42.1ms | Allocations: 8893)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 220.4ms | Allocations: 30326)
Completed 200 OK in 270ms (Views: 236.1ms | ActiveRecord: 0.7ms | Allocations: 34113)
Started GET "/assets/application-842c3ce155ba50702811decd2bdffafa29b15bcb532e0f3f843020f81bfd4ef9.css" for 127.0.0.1 at 2023-04-16 22:24:30 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
RestaurantsTest: test_visiting_the_index
----------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-16 22:24:32 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 23.0ms | Allocations: 2193)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 42.0ms | Allocations: 4176)
Completed 200 OK in 44ms (Views: 41.8ms | ActiveRecord: 0.6ms | Allocations: 4525)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
VotesTest: test_destroying_a_Vote
---------------------------------
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/votes" for 127.0.0.1 at 2023-04-16 22:24:33 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
VotesTest: test_updating_a_Vote
-------------------------------
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/votes" for 127.0.0.1 at 2023-04-16 22:24:33 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
VotesTest: test_creating_a_Vote
-------------------------------
  [1m[36mVote Load (0.4ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/votes" for 127.0.0.1 at 2023-04-16 22:24:34 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
VotesTest: test_visiting_the_index
----------------------------------
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/votes" for 127.0.0.1 at 2023-04-16 22:24:34 -0400
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (40.6ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (43.9ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes";
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-04-17 02:37:40.835207', '2023-04-17 02:37:40.835207');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-04-17 02:37:40.835207', '2023-04-17 02:37:40.835207');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-04-17 02:37:40.835207', '2023-04-17 02:37:40.835207');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-04-17 02:37:40.835207', '2023-04-17 02:37:40.835207');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-04-17 02:37:40.848094', '2023-04-17 02:37:40.848094');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-04-17 02:37:40.848094', '2023-04-17 02:37:40.848094');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (113629430, 'third@mail.com', '2023-04-17 02:37:40.848094', '2023-04-17 02:37:40.848094');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-04-17 02:37:40.855067', '2023-04-17 02:37:40.855067');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-04-17 02:37:40.855067', '2023-04-17 02:37:40.855067')[0m
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
VotesTest: test_visiting_the_index
----------------------------------
  [1m[36mFixtures Load (8.6ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes";
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-04-17 02:37:40.830772', '2023-04-17 02:37:40.830772');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-04-17 02:37:40.830772', '2023-04-17 02:37:40.830772');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-04-17 02:37:40.830772', '2023-04-17 02:37:40.830772');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-04-17 02:37:40.830772', '2023-04-17 02:37:40.830772');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-04-17 02:37:40.841005', '2023-04-17 02:37:40.841005');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-04-17 02:37:40.841005', '2023-04-17 02:37:40.841005');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (113629430, 'third@mail.com', '2023-04-17 02:37:40.841005', '2023-04-17 02:37:40.841005');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-04-17 02:37:40.843816', '2023-04-17 02:37:40.843816');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-04-17 02:37:40.843816', '2023-04-17 02:37:40.843816')[0m
  [1m[36mVote Load (0.3ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
VotesTest: test_destroying_a_Vote
---------------------------------
  [1m[36mVote Load (0.3ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/votes" for 127.0.0.1 at 2023-04-16 22:37:42 -0400
Started GET "/votes" for 127.0.0.1 at 2023-04-16 22:37:43 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
VotesTest: test_updating_a_Vote
-------------------------------
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/votes" for 127.0.0.1 at 2023-04-16 22:37:43 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
VotesTest: test_creating_a_Vote
-------------------------------
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/votes" for 127.0.0.1 at 2023-04-16 22:37:44 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
RestaurantsTest: test_updating_a_Restaurant
-------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-16 22:37:44 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 64.7ms | Allocations: 6023)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
RestaurantsTest: test_visiting_the_index
----------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-16 22:37:44 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 318.3ms | Allocations: 27597)
Completed 200 OK in 364ms (Views: 327.0ms | ActiveRecord: 0.8ms | Allocations: 31387)
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
Started GET "/assets/application-842c3ce155ba50702811decd2bdffafa29b15bcb532e0f3f843020f81bfd4ef9.css" for 127.0.0.1 at 2023-04-16 22:37:44 -0400
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 74.4ms | Allocations: 6022)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 258.2ms | Allocations: 27651)
Completed 200 OK in 311ms (Views: 266.9ms | ActiveRecord: 0.9ms | Allocations: 31441)
Started GET "/assets/application-842c3ce155ba50702811decd2bdffafa29b15bcb532e0f3f843020f81bfd4ef9.css" for 127.0.0.1 at 2023-04-16 22:37:45 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
RestaurantsTest: test_creating_a_Restaurant
-------------------------------------------
  [1m[36mRestaurant Load (1.8ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-16 22:37:45 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 22.0ms | Allocations: 2164)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 32.8ms | Allocations: 4145)
Completed 200 OK in 34ms (Views: 32.8ms | ActiveRecord: 0.6ms | Allocations: 4484)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (1.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (27.0ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (14.8ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (15.4ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes";
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-04-17 02:39:34.717012', '2023-04-17 02:39:34.717012');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-04-17 02:39:34.717012', '2023-04-17 02:39:34.717012');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-04-17 02:39:34.717012', '2023-04-17 02:39:34.717012');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-04-17 02:39:34.717012', '2023-04-17 02:39:34.717012');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-04-17 02:39:34.767631', '2023-04-17 02:39:34.767631');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-04-17 02:39:34.767631', '2023-04-17 02:39:34.767631');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (113629430, 'third@mail.com', '2023-04-17 02:39:34.767631', '2023-04-17 02:39:34.767631');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-04-17 02:39:34.769577', '2023-04-17 02:39:34.769577');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-04-17 02:39:34.769577', '2023-04-17 02:39:34.769577')[0m
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
VotesTest: test_destroying_a_Vote
---------------------------------
  [1m[36mVote Load (0.3ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (10.8ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes";
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-04-17 02:39:34.773882', '2023-04-17 02:39:34.773882');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-04-17 02:39:34.773882', '2023-04-17 02:39:34.773882');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-04-17 02:39:34.773882', '2023-04-17 02:39:34.773882');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-04-17 02:39:34.773882', '2023-04-17 02:39:34.773882');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-04-17 02:39:34.833409', '2023-04-17 02:39:34.833409');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-04-17 02:39:34.833409', '2023-04-17 02:39:34.833409');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (113629430, 'third@mail.com', '2023-04-17 02:39:34.833409', '2023-04-17 02:39:34.833409');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-04-17 02:39:34.834914', '2023-04-17 02:39:34.834914');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-04-17 02:39:34.834914', '2023-04-17 02:39:34.834914')[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
VotesTest: test_creating_a_Vote
-------------------------------
  [1m[36mVote Load (0.3ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/votes" for 127.0.0.1 at 2023-04-16 22:39:36 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
VotesTest: test_updating_a_Vote
-------------------------------
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/votes" for 127.0.0.1 at 2023-04-16 22:39:37 -0400
Started GET "/votes" for 127.0.0.1 at 2023-04-16 22:39:37 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
VotesTest: test_visiting_the_index
----------------------------------
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/votes" for 127.0.0.1 at 2023-04-16 22:39:37 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
RestaurantsTest: test_updating_a_Restaurant
-------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-16 22:39:38 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 34.3ms | Allocations: 6021)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 175.7ms | Allocations: 27690)
Completed 200 OK in 207ms (Views: 178.0ms | ActiveRecord: 0.9ms | Allocations: 31480)
Started GET "/assets/application-842c3ce155ba50702811decd2bdffafa29b15bcb532e0f3f843020f81bfd4ef9.css" for 127.0.0.1 at 2023-04-16 22:39:38 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
RestaurantsTest: test_creating_a_Restaurant
-------------------------------------------
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-16 22:39:38 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (6.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 49.2ms | Allocations: 6022)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 202.0ms | Allocations: 27741)
Completed 200 OK in 230ms (Views: 199.7ms | ActiveRecord: 6.7ms | Allocations: 31531)
Started GET "/assets/application-842c3ce155ba50702811decd2bdffafa29b15bcb532e0f3f843020f81bfd4ef9.css" for 127.0.0.1 at 2023-04-16 22:39:38 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
RestaurantsTest: test_visiting_the_index
----------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-16 22:39:39 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 2174)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 4156)
Completed 200 OK in 16ms (Views: 14.8ms | ActiveRecord: 0.5ms | Allocations: 4504)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (2.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[36mTruncate Tables (29.9ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (21.8ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (12.2ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (7.6ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes";
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-04-17 02:40:21.273230', '2023-04-17 02:40:21.273230');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-04-17 02:40:21.273230', '2023-04-17 02:40:21.273230');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-04-17 02:40:21.273230', '2023-04-17 02:40:21.273230');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-04-17 02:40:21.273230', '2023-04-17 02:40:21.273230');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-04-17 02:40:21.280413', '2023-04-17 02:40:21.280413');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-04-17 02:40:21.280413', '2023-04-17 02:40:21.280413');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (113629430, 'third@mail.com', '2023-04-17 02:40:21.280413', '2023-04-17 02:40:21.280413');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-04-17 02:40:21.283390', '2023-04-17 02:40:21.283390');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-04-17 02:40:21.283390', '2023-04-17 02:40:21.283390')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (1.9ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
VotesTest: test_creating_a_Vote
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
  [1m[36mFixtures Load (2.1ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes";
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-04-17 02:40:21.278653', '2023-04-17 02:40:21.278653');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-04-17 02:40:21.278653', '2023-04-17 02:40:21.278653');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-04-17 02:40:21.278653', '2023-04-17 02:40:21.278653');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-04-17 02:40:21.278653', '2023-04-17 02:40:21.278653');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-04-17 02:40:21.290918', '2023-04-17 02:40:21.290918');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-04-17 02:40:21.290918', '2023-04-17 02:40:21.290918');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (113629430, 'third@mail.com', '2023-04-17 02:40:21.290918', '2023-04-17 02:40:21.290918');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-04-17 02:40:21.293711', '2023-04-17 02:40:21.293711');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-04-17 02:40:21.293711', '2023-04-17 02:40:21.293711')[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
VotesTest: test_destroying_a_Vote
---------------------------------
  [1m[36mVote Load (0.3ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (1.5ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/votes" for 127.0.0.1 at 2023-04-16 22:40:23 -0400
Started GET "/votes" for 127.0.0.1 at 2023-04-16 22:40:23 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
VotesTest: test_updating_a_Vote
-------------------------------
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/votes" for 127.0.0.1 at 2023-04-16 22:40:23 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
VotesTest: test_visiting_the_index
----------------------------------
  [1m[36mVote Load (6.0ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/votes" for 127.0.0.1 at 2023-04-16 22:40:24 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
RestaurantsTest: test_creating_a_Restaurant
-------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-16 22:40:24 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 26.7ms | Allocations: 6021)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 217.7ms | Allocations: 27800)
Completed 200 OK in 260ms (Views: 219.6ms | ActiveRecord: 0.6ms | Allocations: 31590)
Started GET "/assets/application-842c3ce155ba50702811decd2bdffafa29b15bcb532e0f3f843020f81bfd4ef9.css" for 127.0.0.1 at 2023-04-16 22:40:24 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
RestaurantsTest: test_updating_a_Restaurant
-------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-16 22:40:25 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 52.6ms | Allocations: 6021)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 187.3ms | Allocations: 27855)
Completed 200 OK in 231ms (Views: 192.8ms | ActiveRecord: 0.7ms | Allocations: 31662)
Started GET "/assets/application-842c3ce155ba50702811decd2bdffafa29b15bcb532e0f3f843020f81bfd4ef9.css" for 127.0.0.1 at 2023-04-16 22:40:25 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
RestaurantsTest: test_visiting_the_index
----------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-16 22:40:25 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 13.1ms | Allocations: 2192)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 18.5ms | Allocations: 4174)
Completed 200 OK in 19ms (Views: 18.4ms | ActiveRecord: 0.5ms | Allocations: 4522)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (28.5ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (32.6ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (14.3ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes";
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-04-17 02:41:32.928387', '2023-04-17 02:41:32.928387');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-04-17 02:41:32.928387', '2023-04-17 02:41:32.928387');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-04-17 02:41:32.928387', '2023-04-17 02:41:32.928387');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-04-17 02:41:32.928387', '2023-04-17 02:41:32.928387');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-04-17 02:41:32.937708', '2023-04-17 02:41:32.937708');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-04-17 02:41:32.937708', '2023-04-17 02:41:32.937708');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (113629430, 'third@mail.com', '2023-04-17 02:41:32.937708', '2023-04-17 02:41:32.937708');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-04-17 02:41:32.939533', '2023-04-17 02:41:32.939533');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-04-17 02:41:32.939533', '2023-04-17 02:41:32.939533')[0m
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
RestaurantsTest: test_creating_a_Restaurant
-------------------------------------------
  [1m[36mRestaurant Load (0.7ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (6.9ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes";
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-04-17 02:41:32.930802', '2023-04-17 02:41:32.930802');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-04-17 02:41:32.930802', '2023-04-17 02:41:32.930802');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-04-17 02:41:32.930802', '2023-04-17 02:41:32.930802');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-04-17 02:41:32.930802', '2023-04-17 02:41:32.930802');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-04-17 02:41:32.954361', '2023-04-17 02:41:32.954361');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-04-17 02:41:32.954361', '2023-04-17 02:41:32.954361');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (113629430, 'third@mail.com', '2023-04-17 02:41:32.954361', '2023-04-17 02:41:32.954361');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-04-17 02:41:32.970328', '2023-04-17 02:41:32.970328');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-04-17 02:41:32.970328', '2023-04-17 02:41:32.970328')[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
RestaurantsTest: test_updating_a_Restaurant
-------------------------------------------
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-16 22:41:34 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 31.5ms | Allocations: 8931)
Started GET "/restaurants" for 127.0.0.1 at 2023-04-16 22:41:35 -0400
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 174.3ms | Allocations: 30807)
Completed 200 OK in 260ms (Views: 207.3ms | ActiveRecord: 0.7ms | Allocations: 34596)
Started GET "/assets/application-842c3ce155ba50702811decd2bdffafa29b15bcb532e0f3f843020f81bfd4ef9.css" for 127.0.0.1 at 2023-04-16 22:41:35 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (4.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 89.3ms | Allocations: 8929)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 258.7ms | Allocations: 30850)
Completed 200 OK in 301ms (Views: 259.5ms | ActiveRecord: 5.1ms | Allocations: 34639)
Started GET "/assets/application-842c3ce155ba50702811decd2bdffafa29b15bcb532e0f3f843020f81bfd4ef9.css" for 127.0.0.1 at 2023-04-16 22:41:35 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
RestaurantsTest: test_visiting_the_index
----------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-16 22:41:36 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 16.7ms | Allocations: 2192)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 28.4ms | Allocations: 4174)
Completed 200 OK in 38ms (Views: 36.9ms | ActiveRecord: 0.6ms | Allocations: 4522)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
VotesTest: test_creating_a_Vote
-------------------------------
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/votes" for 127.0.0.1 at 2023-04-16 22:41:36 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
VotesTest: test_visiting_the_index
----------------------------------
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/votes" for 127.0.0.1 at 2023-04-16 22:41:36 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
VotesTest: test_updating_a_Vote
-------------------------------
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/votes" for 127.0.0.1 at 2023-04-16 22:41:37 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
VotesTest: test_destroying_a_Vote
---------------------------------
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/votes" for 127.0.0.1 at 2023-04-16 22:41:37 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (17.6ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (41.9ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (1.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (15.5ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes";
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-04-17 02:42:43.855940', '2023-04-17 02:42:43.855940');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-04-17 02:42:43.855940', '2023-04-17 02:42:43.855940');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-04-17 02:42:43.855940', '2023-04-17 02:42:43.855940');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-04-17 02:42:43.855940', '2023-04-17 02:42:43.855940');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-04-17 02:42:43.863896', '2023-04-17 02:42:43.863896');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-04-17 02:42:43.863896', '2023-04-17 02:42:43.863896');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (113629430, 'third@mail.com', '2023-04-17 02:42:43.863896', '2023-04-17 02:42:43.863896');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-04-17 02:42:43.865813', '2023-04-17 02:42:43.865813');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-04-17 02:42:43.865813', '2023-04-17 02:42:43.865813')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (6.4ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes";
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-04-17 02:42:43.841399', '2023-04-17 02:42:43.841399');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-04-17 02:42:43.841399', '2023-04-17 02:42:43.841399');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-04-17 02:42:43.841399', '2023-04-17 02:42:43.841399');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-04-17 02:42:43.841399', '2023-04-17 02:42:43.841399');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-04-17 02:42:43.859714', '2023-04-17 02:42:43.859714');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-04-17 02:42:43.859714', '2023-04-17 02:42:43.859714');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (113629430, 'third@mail.com', '2023-04-17 02:42:43.859714', '2023-04-17 02:42:43.859714');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-04-17 02:42:43.872278', '2023-04-17 02:42:43.872278');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-04-17 02:42:43.872278', '2023-04-17 02:42:43.872278')[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
VotesTest: test_creating_a_Vote
-------------------------------
  [1m[36mTRANSACTION (18.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
VotesTest: test_updating_a_Vote
-------------------------------
  [1m[36mVote Load (0.7ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.3ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/votes" for 127.0.0.1 at 2023-04-16 22:42:45 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
VotesTest: test_visiting_the_index
----------------------------------
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/votes" for 127.0.0.1 at 2023-04-16 22:42:46 -0400
Started GET "/votes" for 127.0.0.1 at 2023-04-16 22:42:46 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
VotesTest: test_destroying_a_Vote
---------------------------------
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/votes" for 127.0.0.1 at 2023-04-16 22:42:47 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
RestaurantsTest: test_visiting_the_index
----------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-16 22:42:47 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 36.5ms | Allocations: 6021)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 239.8ms | Allocations: 27990)
Completed 200 OK in 274ms (Views: 252.2ms | ActiveRecord: 0.7ms | Allocations: 31781)
Started GET "/assets/application-842c3ce155ba50702811decd2bdffafa29b15bcb532e0f3f843020f81bfd4ef9.css" for 127.0.0.1 at 2023-04-16 22:42:47 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
RestaurantsTest: test_updating_a_Restaurant
-------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-16 22:42:47 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 38.5ms | Allocations: 6021)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
RestaurantsTest: test_creating_a_Restaurant
-------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-16 22:42:48 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 30.0ms | Allocations: 2164)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 333.1ms | Allocations: 28055)
Completed 200 OK in 458ms (Views: 339.1ms | ActiveRecord: 0.7ms | Allocations: 31846)
Started GET "/assets/application-842c3ce155ba50702811decd2bdffafa29b15bcb532e0f3f843020f81bfd4ef9.css" for 127.0.0.1 at 2023-04-16 22:42:48 -0400
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 63.2ms | Allocations: 4145)
Completed 200 OK in 67ms (Views: 65.7ms | ActiveRecord: 0.6ms | Allocations: 4484)
Started GET "/users/sign_in" for 127.0.0.1 at 2023-04-16 22:42:48 -0400
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.0ms | Allocations: 538)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 17.7ms | Allocations: 3999)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 45.2ms | Allocations: 5975)
Completed 200 OK in 60ms (Views: 58.4ms | ActiveRecord: 0.0ms | Allocations: 7750)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (25.5ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (46.6ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (34.1ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (31.1ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes";
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-04-17 06:37:41.808334', '2023-04-17 06:37:41.808334');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-04-17 06:37:41.808334', '2023-04-17 06:37:41.808334');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-04-17 06:37:41.808334', '2023-04-17 06:37:41.808334');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-04-17 06:37:41.808334', '2023-04-17 06:37:41.808334');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-04-17 06:37:41.814932', '2023-04-17 06:37:41.814932');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-04-17 06:37:41.814932', '2023-04-17 06:37:41.814932');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (113629430, 'third@mail.com', '2023-04-17 06:37:41.814932', '2023-04-17 06:37:41.814932');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-04-17 06:37:41.816692', '2023-04-17 06:37:41.816692');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-04-17 06:37:41.816692', '2023-04-17 06:37:41.816692')[0m
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
VotesControllerTest: test_should_create_vote
--------------------------------------------
  [1m[36mFixtures Load (8.8ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes";
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-04-17 06:37:41.806342', '2023-04-17 06:37:41.806342');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-04-17 06:37:41.806342', '2023-04-17 06:37:41.806342');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-04-17 06:37:41.806342', '2023-04-17 06:37:41.806342');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-04-17 06:37:41.806342', '2023-04-17 06:37:41.806342');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-04-17 06:37:41.809367', '2023-04-17 06:37:41.809367');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-04-17 06:37:41.809367', '2023-04-17 06:37:41.809367');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (113629430, 'third@mail.com', '2023-04-17 06:37:41.809367', '2023-04-17 06:37:41.809367');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-04-17 06:37:41.811365', '2023-04-17 06:37:41.811365');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-04-17 06:37:41.811365', '2023-04-17 06:37:41.811365')[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
  [1m[36mRestaurant Load (1.0ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
RestaurantsControllerTest: test_should_show_restaurant
------------------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.3ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962" for 127.0.0.1 at 2023-04-17 02:37:41 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-04-17 02:37:42 -0400
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"980190962"}
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 13ms (ActiveRecord: 0.0ms | Allocations: 1844)
  Rendering layout layouts/application.html.erb
  Rendering restaurants/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
Started POST "/votes" for 127.0.0.1 at 2023-04-17 02:37:42 -0400
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
  Rendered restaurants/show.html.erb within layouts/application (Duration: 13.5ms | Allocations: 6664)
  Rendered layout layouts/application.html.erb (Duration: 13.8ms | Allocations: 6717)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 0.3ms | Allocations: 10478)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-17 02:37:42 -0400
  [1m[36mVote Create (9.6ms)[0m  [1m[32mINSERT INTO "votes" ("user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["will_split?", 1], ["created_at", "2023-04-17 06:37:42.054854"], ["updated_at", "2023-04-17 06:37:42.054854"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 22ms (ActiveRecord: 9.9ms | Allocations: 5128)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 293)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-04-17 02:37:42 -0400
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 836)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/new" for 127.0.0.1 at 2023-04-17 02:37:42 -0400
Started GET "/restaurants" for 127.0.0.1 at 2023-04-17 02:37:42 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
Processing by RestaurantsController#new as HTML
  [1m[36mVote Load (1.8ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 17.8ms | Allocations: 3436)
  Rendered restaurants/_form.html.erb (Duration: 4.5ms | Allocations: 2312)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 5.7ms | Allocations: 2774)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 126.4ms | Allocations: 26539)
Completed 200 OK in 132ms (Views: 129.0ms | ActiveRecord: 0.0ms | Allocations: 28449)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 147.4ms | Allocations: 28074)
Completed 200 OK in 150ms (Views: 145.8ms | ActiveRecord: 2.3ms | Allocations: 28554)
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-17 02:37:42 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
RestaurantsControllerTest: test_should_search_restaurants
---------------------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.1ms | Allocations: 383)
Started GET "/search?name=Cheesecake&location=Carr" for 127.0.0.1 at 2023-04-17 02:37:42 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
Started POST "/restaurants" for 127.0.0.1 at 2023-04-17 02:37:42 -0400
Processing by RestaurantsController#search as HTML
  Parameters: {"name"=>"Cheesecake", "location"=>"Carr"}
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}}
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 11.3ms | Allocations: 2159)
  [1m[36mRestaurant Create (12.7ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["created_at", "2023-04-17 06:37:42.293796"], ["updated_at", "2023-04-17 06:37:42.293796"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190963
Completed 302 Found in 16ms (ActiveRecord: 12.8ms | Allocations: 799)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 21.0ms | Allocations: 4111)
Completed 200 OK in 23ms (Views: 21.6ms | ActiveRecord: 0.6ms | Allocations: 4472)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-17 02:37:42 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"will_split"_votes_associated_with_the_restaurant
-------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.1ms | Allocations: 291)
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-17 02:37:42 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (1.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (8.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"won't_split"_votes_associated_with_the_restaurant
--------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  Rendered restaurants/_form.html.erb (Duration: 7.3ms | Allocations: 1995)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 8.8ms | Allocations: 2405)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 4357)
Completed 200 OK in 19ms (Views: 15.7ms | ActiveRecord: 1.2ms | Allocations: 4880)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (29.6ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (16.3ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (9.3ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes";
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-04-17 06:41:05.608831', '2023-04-17 06:41:05.608831');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-04-17 06:41:05.608831', '2023-04-17 06:41:05.608831');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-04-17 06:41:05.608831', '2023-04-17 06:41:05.608831');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-04-17 06:41:05.608831', '2023-04-17 06:41:05.608831');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-04-17 06:41:05.615321', '2023-04-17 06:41:05.615321');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-04-17 06:41:05.615321', '2023-04-17 06:41:05.615321');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (113629430, 'third@mail.com', '2023-04-17 06:41:05.615321', '2023-04-17 06:41:05.615321');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-04-17 06:41:05.617662', '2023-04-17 06:41:05.617662');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-04-17 06:41:05.617662', '2023-04-17 06:41:05.617662')[0m
  [1m[36mFixtures Load (8.5ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "votes";
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-04-17 06:41:05.620286', '2023-04-17 06:41:05.620286');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-04-17 06:41:05.620286', '2023-04-17 06:41:05.620286');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-04-17 06:41:05.620286', '2023-04-17 06:41:05.620286');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-04-17 06:41:05.620286', '2023-04-17 06:41:05.620286');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-04-17 06:41:05.622890', '2023-04-17 06:41:05.622890');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-04-17 06:41:05.622890', '2023-04-17 06:41:05.622890');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (113629430, 'third@mail.com', '2023-04-17 06:41:05.622890', '2023-04-17 06:41:05.622890');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-04-17 06:41:05.626773', '2023-04-17 06:41:05.626773');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-04-17 06:41:05.626773', '2023-04-17 06:41:05.626773')[0m
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"won't_split"_votes_associated_with_the_restaurant
--------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"will_split"_votes_associated_with_the_restaurant
-------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-17 02:41:05 -0400
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/new" for 127.0.0.1 at 2023-04-17 02:41:05 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
Processing by RestaurantsController#new as HTML
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 15ms (ActiveRecord: 0.1ms | Allocations: 2086)
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-17 02:41:05 -0400
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 7.1ms | Allocations: 4056)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 8.3ms | Allocations: 4522)
  Rendered restaurants/_form.html.erb (Duration: 4.8ms | Allocations: 2348)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 6.1ms | Allocations: 2882)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 120.7ms | Allocations: 25317)
Completed 200 OK in 125ms (Views: 123.3ms | ActiveRecord: 0.1ms | Allocations: 27254)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 129.9ms | Allocations: 26966)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 142ms (Views: 132.5ms | ActiveRecord: 0.0ms | Allocations: 30467)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
RestaurantsControllerTest: test_should_search_restaurants
---------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/search?name=Cheesecake&location=Carr" for 127.0.0.1 at 2023-04-17 02:41:05 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-04-17 02:41:05 -0400
Processing by RestaurantsController#search as HTML
  Parameters: {"name"=>"Cheesecake", "location"=>"Carr"}
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 3151)
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 7.5ms | Allocations: 3169)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 5126)
Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 0.5ms | Allocations: 5629)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 5152)
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.5ms | Allocations: 5633)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-17 02:41:05 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 291)
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-04-17 02:41:05 -0400
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-04-17 02:41:05 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 384)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/restaurants" for 127.0.0.1 at 2023-04-17 02:41:05 -0400
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 769)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
VotesControllerTest: test_should_create_vote
--------------------------------------------
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Create (2.4ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["created_at", "2023-04-17 06:41:05.959997"], ["updated_at", "2023-04-17 06:41:05.959997"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190963
Completed 302 Found in 6ms (ActiveRecord: 2.5ms | Allocations: 944)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.7ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
Started POST "/votes" for 127.0.0.1 at 2023-04-17 02:41:05 -0400
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 234)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-04-17 02:41:05 -0400
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Create (3.0ms)[0m  [1m[32mINSERT INTO "votes" ("user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["will_split?", 1], ["created_at", "2023-04-17 06:41:05.994380"], ["updated_at", "2023-04-17 06:41:05.994380"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 8ms (ActiveRecord: 3.3ms | Allocations: 1573)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments"[0m
  [1m[35m (9.3ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "body" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE INDEX "index_comments_on_restaurant_id" ON "comments" ("restaurant_id")[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "favorites"[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "favorites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (12.9ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_restaurant_id" ON "favorites" ("restaurant_id")[0m
  [1m[35m (19.2ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_user_id" ON "favorites" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "restaurants"[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "location" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "username" varchar)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_users_on_username" ON "users" ("username")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "votes"[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acomments" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "body" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_acomments_on_user_id" ON "acomments" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acomments_on_restaurant_id" ON "acomments" ("restaurant_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "acomments" ("id","user_id","restaurant_id","body","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","body","created_at","updated_at" FROM "comments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "comments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "body" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1b0c29f17e"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_comments_on_restaurant_id" ON "comments" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "comments" ("id","user_id","restaurant_id","body","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","body","created_at","updated_at" FROM "acomments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "acomments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acomments" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "body" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acomments_on_user_id" ON "acomments" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_acomments_on_restaurant_id" ON "acomments" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "acomments" ("id","user_id","restaurant_id","body","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","body","created_at","updated_at" FROM "comments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "comments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "body" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1b0c29f17e"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
, CONSTRAINT "fk_rails_03de2dc08c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_comments_on_restaurant_id" ON "comments" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "comments" ("id","user_id","restaurant_id","body","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","body","created_at","updated_at" FROM "acomments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "acomments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "afavorites" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_afavorites_on_user_id" ON "afavorites" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_afavorites_on_restaurant_id" ON "afavorites" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "afavorites" ("id","user_id","restaurant_id","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","created_at","updated_at" FROM "favorites"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "favorites"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "favorites" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_287d36f897"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_restaurant_id" ON "favorites" ("restaurant_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_user_id" ON "favorites" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "favorites" ("id","user_id","restaurant_id","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","created_at","updated_at" FROM "afavorites"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "afavorites"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "afavorites" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_afavorites_on_user_id" ON "afavorites" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_afavorites_on_restaurant_id" ON "afavorites" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "afavorites" ("id","user_id","restaurant_id","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","created_at","updated_at" FROM "favorites"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "favorites"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "favorites" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_287d36f897"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
, CONSTRAINT "fk_rails_d15744e438"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_restaurant_id" ON "favorites" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_user_id" ON "favorites" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "favorites" ("id","user_id","restaurant_id","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","created_at","updated_at" FROM "afavorites"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "afavorites"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "avotes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_user_id" ON "avotes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_restaurant_id" ON "avotes" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "avotes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "votes"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "votes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d97ed63bf1"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "avotes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_user_id" ON "avotes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_restaurant_id" ON "avotes" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "avotes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "votes"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "votes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d97ed63bf1"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
, CONSTRAINT "fk_rails_c9b3bef597"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230507193002)[0m
  [1m[35m (1.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230403120229),
(20230416011117),
(20230417004011),
(20230417005304),
(20230417012741),
(20230507165229);

[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-05-07 22:05:56.128140"], ["updated_at", "2023-05-07 22:05:56.128140"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "55627a04abf2b540b3f28d1ff9f369d4458545fa"], ["created_at", "2023-05-07 22:05:56.133436"], ["updated_at", "2023-05-07 22:05:56.133436"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (3.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments"[0m
  [1m[35m (9.2ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "body" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_restaurant_id" ON "comments" ("restaurant_id")[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "favorites"[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE TABLE "favorites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_restaurant_id" ON "favorites" ("restaurant_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_user_id" ON "favorites" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "restaurants"[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "location" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "username" varchar)[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (5.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (2.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments"[0m
  [1m[35m (8.8ms)[0m  [1m[35mCREATE INDEX "index_users_on_username" ON "users" ("username")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "votes"[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acomments" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "body" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_acomments_on_user_id" ON "acomments" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_acomments_on_restaurant_id" ON "acomments" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "acomments" ("id","user_id","restaurant_id","body","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","body","created_at","updated_at" FROM "comments"[0m
  [1m[35m (4.0ms)[0m  [1m[35mDROP TABLE "comments"[0m
  [1m[35m (32.6ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "body" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE INDEX "index_comments_on_restaurant_id" ON "comments" ("restaurant_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "body" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1b0c29f17e"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "favorites"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_comments_on_restaurant_id" ON "comments" ("restaurant_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "favorites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_restaurant_id" ON "favorites" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "comments" ("id","user_id","restaurant_id","body","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","body","created_at","updated_at" FROM "acomments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "acomments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_user_id" ON "favorites" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "restaurants"[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "location" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "username" varchar)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acomments" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "body" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_users_on_username" ON "users" ("username")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "votes"[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "tindex_acomments_on_user_id" ON "acomments" ("user_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_acomments_on_restaurant_id" ON "acomments" ("restaurant_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (0.9ms)[0m  [1m[32mINSERT INTO "acomments" ("id","user_id","restaurant_id","body","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","body","created_at","updated_at" FROM "comments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "comments"[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "body" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1b0c29f17e"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
, CONSTRAINT "fk_rails_03de2dc08c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acomments" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "body" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_comments_on_restaurant_id" ON "comments" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_acomments_on_user_id" ON "acomments" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "comments" ("id","user_id","restaurant_id","body","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","body","created_at","updated_at" FROM "acomments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "acomments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acomments_on_restaurant_id" ON "acomments" ("restaurant_id")[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "acomments" ("id","user_id","restaurant_id","body","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","body","created_at","updated_at" FROM "comments"[0m
  [1m[35m (4.4ms)[0m  [1m[35mDROP TABLE "comments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "body" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1b0c29f17e"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_comments_on_restaurant_id" ON "comments" ("restaurant_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "comments" ("id","user_id","restaurant_id","body","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","body","created_at","updated_at" FROM "acomments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "acomments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "afavorites" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_afavorites_on_user_id" ON "afavorites" ("user_id")[0m
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acomments" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "body" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acomments_on_user_id" ON "acomments" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_afavorites_on_restaurant_id" ON "afavorites" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "afavorites" ("id","user_id","restaurant_id","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","created_at","updated_at" FROM "favorites"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_acomments_on_restaurant_id" ON "acomments" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "acomments" ("id","user_id","restaurant_id","body","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","body","created_at","updated_at" FROM "comments"[0m
  [1m[35m (4.9ms)[0m  [1m[35mDROP TABLE "favorites"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "favorites" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_287d36f897"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_restaurant_id" ON "favorites" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_user_id" ON "favorites" ("user_id")[0m
  [1m[35m (5.5ms)[0m  [1m[35mDROP TABLE "comments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "body" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1b0c29f17e"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
, CONSTRAINT "fk_rails_03de2dc08c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_restaurant_id" ON "comments" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "favorites" ("id","user_id","restaurant_id","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","created_at","updated_at" FROM "afavorites"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "afavorites"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "comments" ("id","user_id","restaurant_id","body","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","body","created_at","updated_at" FROM "acomments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "acomments"[0m
  [1m[35m (1.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "afavorites" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "afavorites" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_afavorites_on_user_id" ON "afavorites" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_afavorites_on_restaurant_id" ON "afavorites" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "afavorites" ("id","user_id","restaurant_id","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","created_at","updated_at" FROM "favorites"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_afavorites_on_user_id" ON "afavorites" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_afavorites_on_restaurant_id" ON "afavorites" ("restaurant_id")[0m
  [1m[35m (5.6ms)[0m  [1m[35mDROP TABLE "favorites"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "favorites" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_287d36f897"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
, CONSTRAINT "fk_rails_d15744e438"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (1.9ms)[0m  [1m[32mINSERT INTO "afavorites" ("id","user_id","restaurant_id","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","created_at","updated_at" FROM "favorites"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_restaurant_id" ON "favorites" ("restaurant_id")[0m
  [1m[35m (9.3ms)[0m  [1m[35mDROP TABLE "favorites"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_user_id" ON "favorites" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "favorites" ("id","user_id","restaurant_id","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","created_at","updated_at" FROM "afavorites"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "favorites" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_287d36f897"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "afavorites"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_restaurant_id" ON "favorites" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_user_id" ON "favorites" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "favorites" ("id","user_id","restaurant_id","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","created_at","updated_at" FROM "afavorites"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "afavorites"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "avotes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_user_id" ON "avotes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_restaurant_id" ON "avotes" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "avotes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "votes"[0m
  [1m[36mTRANSACTION (16.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "afavorites" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_afavorites_on_user_id" ON "afavorites" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_afavorites_on_restaurant_id" ON "afavorites" ("restaurant_id")[0m
  [1m[35m (14.1ms)[0m  [1m[35mDROP TABLE "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "afavorites" ("id","user_id","restaurant_id","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","created_at","updated_at" FROM "favorites"[0m
  [1m[35m (3.7ms)[0m  [1m[35mDROP TABLE "favorites"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d97ed63bf1"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "favorites" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_287d36f897"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
, CONSTRAINT "fk_rails_d15744e438"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_restaurant_id" ON "favorites" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_favorites_on_user_id" ON "favorites" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "favorites" ("id","user_id","restaurant_id","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","created_at","updated_at" FROM "afavorites"[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "afavorites"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "avotes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "avotes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_user_id" ON "avotes" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_user_id" ON "avotes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_restaurant_id" ON "avotes" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "avotes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "votes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_restaurant_id" ON "avotes" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "avotes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "votes"[0m
  [1m[35m (2.7ms)[0m  [1m[35mDROP TABLE "votes"[0m
  [1m[35m (9.8ms)[0m  [1m[35mDROP TABLE "votes"[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d97ed63bf1"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d97ed63bf1"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
, CONSTRAINT "fk_rails_c9b3bef597"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "avotes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_user_id" ON "avotes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_avotes_on_restaurant_id" ON "avotes" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "avotes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "votes"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "votes"[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "restaurant_id" integer NOT NULL, "will_split?" boolean DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d97ed63bf1"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
, CONSTRAINT "fk_rails_c9b3bef597"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_votes_on_restaurant_id" ON "votes" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_votes_on_user_id" ON "votes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("id","user_id","restaurant_id","will_split?","created_at","updated_at")
                     SELECT "id","user_id","restaurant_id","will_split?","created_at","updated_at" FROM "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "avotes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (8.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230507193002)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230507193002)[0m
  [1m[35m (3.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230403120229),
(20230416011117),
(20230417004011),
(20230417005304),
(20230417012741),
(20230507165229);

[0m
  [1m[35m (5.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230403120229),
(20230416011117),
(20230417004011),
(20230417005304),
(20230417012741),
(20230507165229);

[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-05-07 22:05:56.759390"], ["updated_at", "2023-05-07 22:05:56.759390"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "55627a04abf2b540b3f28d1ff9f369d4458545fa"], ["created_at", "2023-05-07 22:05:56.766132"], ["updated_at", "2023-05-07 22:05:56.766132"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveRecord::InternalMetadata Create (6.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-05-07 22:05:56.758825"], ["updated_at", "2023-05-07 22:05:56.758825"]]
  [1m[36mTRANSACTION (5.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (2.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "55627a04abf2b540b3f28d1ff9f369d4458545fa"], ["created_at", "2023-05-07 22:05:56.783473"], ["updated_at", "2023-05-07 22:05:56.783473"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, '2023-05-07 22:05:56.793309', '2023-05-07 22:05:56.793309');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, '2023-05-07 22:05:56.793309', '2023-05-07 22:05:56.793309');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-07 22:05:56.795893', '2023-05-07 22:05:56.795893');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-07 22:05:56.795893', '2023-05-07 22:05:56.795893');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-07 22:05:56.795893', '2023-05-07 22:05:56.795893');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-07 22:05:56.795893', '2023-05-07 22:05:56.795893');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-05-07 22:05:56.797370', '2023-05-07 22:05:56.797370');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-05-07 22:05:56.797370', '2023-05-07 22:05:56.797370');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (113629430, 'third@mail.com', '2023-05-07 22:05:56.797370', '2023-05-07 22:05:56.797370');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-07 22:05:56.799058', '2023-05-07 22:05:56.799058');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 'MyText', '2023-05-07 22:05:56.799058', '2023-05-07 22:05:56.799058');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-07 22:05:56.800571', '2023-05-07 22:05:56.800571');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-07 22:05:56.800571', '2023-05-07 22:05:56.800571')[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"will_split"_votes_associated_with_the_restaurant
-------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CommentsControllerTest: test_should_show_comment
------------------------------------------------
  [1m[36mFixtures Load (14.0ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, '2023-05-07 22:05:56.816302', '2023-05-07 22:05:56.816302');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, '2023-05-07 22:05:56.816302', '2023-05-07 22:05:56.816302');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-07 22:05:56.818264', '2023-05-07 22:05:56.818264');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-07 22:05:56.818264', '2023-05-07 22:05:56.818264');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-07 22:05:56.818264', '2023-05-07 22:05:56.818264');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-07 22:05:56.818264', '2023-05-07 22:05:56.818264');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-05-07 22:05:56.819705', '2023-05-07 22:05:56.819705');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-05-07 22:05:56.819705', '2023-05-07 22:05:56.819705');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (113629430, 'third@mail.com', '2023-05-07 22:05:56.819705', '2023-05-07 22:05:56.819705');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-07 22:05:56.821399', '2023-05-07 22:05:56.821399');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 'MyText', '2023-05-07 22:05:56.821399', '2023-05-07 22:05:56.821399');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-07 22:05:56.822730', '2023-05-07 22:05:56.822730');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-07 22:05:56.822730', '2023-05-07 22:05:56.822730')[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"won't_split"_votes_associated_with_the_restaurant
--------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CommentsControllerTest: test_should_update_comment
--------------------------------------------------
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CommentsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/comments/new" for 127.0.0.1 at 2023-05-07 18:05:56 -0400
Processing by CommentsController#new as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CommentsControllerTest: test_should_destroy_comment
---------------------------------------------------
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 401 Unauthorized in 74ms (ActiveRecord: 0.0ms | Allocations: 1884)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CommentsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/comments" for 127.0.0.1 at 2023-05-07 18:05:57 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CommentsControllerTest: test_should_get_edit
--------------------------------------------
CommentsControllerTest: test_should_create_comment
--------------------------------------------------
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/comments" for 127.0.0.1 at 2023-05-07 18:05:57 -0400
Processing by CommentsController#create as HTML
  Parameters: {"comment"=>{"body"=>"MyText", "restaurant_id"=>"980190962", "user_id"=>"980190962"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
FavoritesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 401 Unauthorized in 38ms (ActiveRecord: 0.0ms | Allocations: 1885)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
FavoritesControllerTest: test_should_show_favorite
--------------------------------------------------
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
FavoritesControllerTest: test_should_destroy_favorite
-----------------------------------------------------
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
FavoritesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
FavoritesControllerTest: test_should_update_favorite
----------------------------------------------------
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
FavoritesControllerTest: test_should_create_favorite
----------------------------------------------------
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 18:05:57 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
FavoritesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/favorites" for 127.0.0.1 at 2023-05-07 18:05:57 -0400
Processing by FavoritesController#create as HTML
  Parameters: {"favorite"=>{"restaurant_id"=>"980190962", "user_id"=>"980190962"}}
[31mUnpermitted parameter: :favorite[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" IS NULL AND "favorites"."restaurant_id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering favorites/new.html.erb within layouts/application
Started GET "/restaurants/new" for 127.0.0.1 at 2023-05-07 18:05:57 -0400
  Rendered favorites/_form.html.erb (Duration: 16.9ms | Allocations: 2464)
  Rendered favorites/new.html.erb within layouts/application (Duration: 27.3ms | Allocations: 2894)
Processing by RestaurantsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 4.6ms | Allocations: 2315)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 6.6ms | Allocations: 2781)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 252.8ms | Allocations: 39754)
Completed 200 OK in 281ms (Views: 271.7ms | ActiveRecord: 0.3ms | Allocations: 42507)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:05:57 -0400
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 224.3ms | Allocations: 37231)
Completed 200 OK in 242ms (Views: 240.0ms | ActiveRecord: 0.0ms | Allocations: 39153)
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 473)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-05-07 18:05:57 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
Started POST "/restaurants" for 127.0.0.1 at 2023-05-07 18:05:57 -0400
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}}
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 3691)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (0.5ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["created_at", "2023-05-07 22:05:57.673192"], ["updated_at", "2023-05-07 22:05:57.673192"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | Allocations: 5831)
Completed 200 OK in 15ms (Views: 14.0ms | ActiveRecord: 0.7ms | Allocations: 6306)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Redirected to http://www.example.com/restaurants/980190963
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Completed 302 Found in 23ms (ActiveRecord: 0.7ms | Allocations: 971)
---------------------------------------------------------
RestaurantsControllerTest: test_should_search_restaurants
---------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/search?name=Cheesecake&location=Carr" for 127.0.0.1 at 2023-05-07 18:05:57 -0400
Processing by RestaurantsController#search as HTML
  Parameters: {"name"=>"Cheesecake", "location"=>"Carr"}
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 13.7ms | Allocations: 2329)
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:05:57 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 31.3ms | Allocations: 4460)
Completed 200 OK in 32ms (Views: 30.5ms | ActiveRecord: 1.4ms | Allocations: 4829)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.1ms | Allocations: 291)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-05-07 18:05:57 -0400
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 635)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:05:57 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 384)
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:05:57 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
VotesControllerTest: test_should_create_vote
--------------------------------------------
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 18:05:57 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 1.9ms | Allocations: 1085)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1361)
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 234)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 18:05:57 -0400
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 21.3ms | Allocations: 3492)
Completed 200 OK in 23ms (Views: 21.7ms | ActiveRecord: 0.1ms | Allocations: 4015)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Create (2.0ms)[0m  [1m[32mINSERT INTO "votes" ("user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["will_split?", 1], ["created_at", "2023-05-07 22:05:57.801859"], ["updated_at", "2023-05-07 22:05:57.801859"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 7ms (ActiveRecord: 2.3ms | Allocations: 1535)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
Started GET "/users/show" for 127.0.0.1 at 2023-05-07 18:05:57 -0400
Processing by UsersController#show as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 243)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (38.2ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (53.1ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.1ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-07 22:15:50.167285', '2023-05-07 22:15:50.167285');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-07 22:15:50.167285', '2023-05-07 22:15:50.167285');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-07 22:15:50.174197', '2023-05-07 22:15:50.174197');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-07 22:15:50.174197', '2023-05-07 22:15:50.174197');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-07 22:15:50.174197', '2023-05-07 22:15:50.174197');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-07 22:15:50.174197', '2023-05-07 22:15:50.174197');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-05-07 22:15:50.175723', '2023-05-07 22:15:50.175723');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-05-07 22:15:50.175723', '2023-05-07 22:15:50.175723');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (113629430, 'third@mail.com', '2023-05-07 22:15:50.175723', '2023-05-07 22:15:50.175723');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'MyText', '2023-05-07 22:15:50.184195', '2023-05-07 22:15:50.184195');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'MyText', '2023-05-07 22:15:50.184195', '2023-05-07 22:15:50.184195');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-07 22:15:50.185762', '2023-05-07 22:15:50.185762');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-07 22:15:50.185762', '2023-05-07 22:15:50.185762')[0m
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (14.8ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-07 22:15:50.180872', '2023-05-07 22:15:50.180872');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-07 22:15:50.180872', '2023-05-07 22:15:50.180872');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-07 22:15:50.183493', '2023-05-07 22:15:50.183493');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-07 22:15:50.183493', '2023-05-07 22:15:50.183493');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-07 22:15:50.183493', '2023-05-07 22:15:50.183493');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-07 22:15:50.183493', '2023-05-07 22:15:50.183493');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (980190962, 'chandan@westga.com', '2023-05-07 22:15:50.188260', '2023-05-07 22:15:50.188260');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (298486374, 'temp@gmail.com', '2023-05-07 22:15:50.188260', '2023-05-07 22:15:50.188260');
INSERT INTO "users" ("id", "email", "created_at", "updated_at") VALUES (113629430, 'third@mail.com', '2023-05-07 22:15:50.188260', '2023-05-07 22:15:50.188260');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'MyText', '2023-05-07 22:15:50.190098', '2023-05-07 22:15:50.190098');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'MyText', '2023-05-07 22:15:50.190098', '2023-05-07 22:15:50.190098');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-07 22:15:50.193366', '2023-05-07 22:15:50.193366');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-07 22:15:50.193366', '2023-05-07 22:15:50.193366')[0m
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[36mRestaurant Load (49.9ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
VotesControllerTest: test_should_create_vote
--------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/user" for 127.0.0.1 at 2023-05-07 18:15:50 -0400
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 18:15:50 -0400
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = ?[0m  [["user_id", 980190962]]
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 181803346], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (Duration: 13.3ms | Allocations: 6858)
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | Allocations: 6911)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 0.3ms | Allocations: 10421)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CommentsControllerTest: test_should_create_comment
--------------------------------------------------
Completed 401 Unauthorized in 14ms (ActiveRecord: 0.0ms | Allocations: 1885)
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CommentsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 18:15:50 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Create (11.5ms)[0m  [1m[32mINSERT INTO "votes" ("user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["will_split?", 1], ["created_at", "2023-05-07 22:15:50.426194"], ["updated_at", "2023-05-07 22:15:50.426194"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/restaurants
Completed 302 Found in 22ms (ActiveRecord: 11.9ms | Allocations: 2898)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
RestaurantsControllerTest: test_should_search_restaurants
---------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/search?name=Cheesecake&location=Carr" for 127.0.0.1 at 2023-05-07 18:15:50 -0400
Started GET "/restaurants/new" for 127.0.0.1 at 2023-05-07 18:15:50 -0400
Processing by RestaurantsController#search as HTML
  Parameters: {"name"=>"Cheesecake", "location"=>"Carr"}
Processing by RestaurantsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 7.2ms | Allocations: 4056)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 8.2ms | Allocations: 4404)
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 23.2ms | Allocations: 5091)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 166.7ms | Allocations: 36638)
Completed 200 OK in 171ms (Views: 169.6ms | ActiveRecord: 0.7ms | Allocations: 38618)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:15:50 -0400
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 162.3ms | Allocations: 35944)
Completed 200 OK in 165ms (Views: 163.6ms | ActiveRecord: 0.0ms | Allocations: 36951)
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 383)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:15:50 -0400
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:15:50 -0400
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 389)
  Rendered restaurants/_form.html.erb (Duration: 3.5ms | Allocations: 1995)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2405)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
Started POST "/restaurants" for 127.0.0.1 at 2023-05-07 18:15:50 -0400
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (0.5ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["created_at", "2023-05-07 22:15:50.676976"], ["updated_at", "2023-05-07 22:15:50.676976"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190963
Completed 302 Found in 13ms (ActiveRecord: 0.7ms | Allocations: 1050)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 35.2ms | Allocations: 4564)
Completed 200 OK in 37ms (Views: 35.6ms | ActiveRecord: 0.1ms | Allocations: 5092)
Started GET "/restaurants" for 127.0.0.1 at 2023-05-07 18:15:50 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:15:50 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.3ms | Allocations: 291)
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-05-07 18:15:50 -0400
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 767)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"will_split"_votes_associated_with_the_restaurant
-------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"won't_split"_votes_associated_with_the_restaurant
--------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
FavoritesControllerTest: test_should_create_favorite
----------------------------------------------------
  [1m[36mFavorite Load (1.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 18:15:50 -0400
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 51.4ms | Allocations: 6738)
Processing by FavoritesController#create as HTML
  Parameters: {"favorite"=>{"restaurant_id"=>"181803346", "user_id"=>"980190962"}}
[31mUnpermitted parameter: :favorite[0m
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  Rendered layout layouts/application.html.erb (Duration: 54.8ms | Allocations: 8906)
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" IS NULL AND "favorites"."restaurant_id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 57ms (Views: 54.5ms | ActiveRecord: 0.8ms | Allocations: 9381)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
FavoritesControllerTest: test_should_destroy_favorite
-----------------------------------------------------
  Rendering layout layouts/application.html.erb
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering favorites/new.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  Rendered favorites/_form.html.erb (Duration: 3.4ms | Allocations: 2025)
  Rendered favorites/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 2330)
Started DELETE "/favorites" for 127.0.0.1 at 2023-05-07 18:15:50 -0400
Processing by FavoritesController#destroy as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 181803346], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 18.5ms | Allocations: 4495)
Completed 200 OK in 25ms (Views: 21.3ms | ActiveRecord: 0.4ms | Allocations: 6220)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mFavorite Destroy (13.0ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 17ms (ActiveRecord: 13.3ms | Allocations: 759)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (28.8ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (29.3ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (16.3ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (54.3ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (16.1ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-07 22:37:59.264369', '2023-05-07 22:37:59.264369');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-07 22:37:59.264369', '2023-05-07 22:37:59.264369');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-07 22:37:59.267785', '2023-05-07 22:37:59.267785');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-07 22:37:59.267785', '2023-05-07 22:37:59.267785');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-07 22:37:59.267785', '2023-05-07 22:37:59.267785');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-07 22:37:59.267785', '2023-05-07 22:37:59.267785');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-07 22:37:59.278114', '2023-05-07 22:37:59.278114', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-07 22:37:59.278114', '2023-05-07 22:37:59.278114', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-07 22:37:59.278114', '2023-05-07 22:37:59.278114', 'Cookie');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-07 22:37:59.281472', '2023-05-07 22:37:59.281472');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-07 22:37:59.281472', '2023-05-07 22:37:59.281472');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-07 22:37:59.283044', '2023-05-07 22:37:59.283044');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-07 22:37:59.283044', '2023-05-07 22:37:59.283044')[0m
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CommentTest: test_to_s_returns_comment_summary
----------------------------------------------
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.9ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-07 22:37:59.341168', '2023-05-07 22:37:59.341168');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-07 22:37:59.341168', '2023-05-07 22:37:59.341168');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-07 22:37:59.343986', '2023-05-07 22:37:59.343986');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-07 22:37:59.343986', '2023-05-07 22:37:59.343986');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-07 22:37:59.343986', '2023-05-07 22:37:59.343986');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-07 22:37:59.343986', '2023-05-07 22:37:59.343986');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-07 22:37:59.345414', '2023-05-07 22:37:59.345414', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-07 22:37:59.345414', '2023-05-07 22:37:59.345414', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-07 22:37:59.345414', '2023-05-07 22:37:59.345414', 'Cookie');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-07 22:37:59.347171', '2023-05-07 22:37:59.347171');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-07 22:37:59.347171', '2023-05-07 22:37:59.347171');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-07 22:37:59.348656', '2023-05-07 22:37:59.348656');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-07 22:37:59.348656', '2023-05-07 22:37:59.348656')[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-05-07 18:37:59 -0400
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:37:59 -0400
Processing by RestaurantsController#index as HTML
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 15ms (ActiveRecord: 0.1ms | Allocations: 2130)
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:37:59 -0400
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  Rendered restaurants/_form.html.erb (Duration: 5.3ms | Allocations: 2349)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 6.6ms | Allocations: 2883)
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 23.1ms | Allocations: 7982)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 160.4ms | Allocations: 39873)
Completed 200 OK in 190ms (Views: 162.5ms | ActiveRecord: 0.7ms | Allocations: 43495)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  Rendered layout layouts/application.html.erb (Duration: 158.4ms | Allocations: 34749)
Completed 200 OK in 163ms (Views: 161.2ms | ActiveRecord: 0.1ms | Allocations: 36690)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/restaurants/new" for 127.0.0.1 at 2023-05-07 18:37:59 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:37:59 -0400
Processing by RestaurantsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 291)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  Rendered restaurants/_form.html.erb (Duration: 6.5ms | Allocations: 3690)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 7.4ms | Allocations: 4038)
Started POST "/restaurants" for 127.0.0.1 at 2023-05-07 18:37:59 -0400
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 6204)
Completed 200 OK in 12ms (Views: 11.3ms | ActiveRecord: 0.0ms | Allocations: 6634)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:37:59 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 384)
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-05-07 18:37:59 -0400
  [1m[36mRestaurant Create (10.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["created_at", "2023-05-07 22:37:59.734323"], ["updated_at", "2023-05-07 22:37:59.734323"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190963
Completed 302 Found in 14ms (ActiveRecord: 10.3ms | Allocations: 1061)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mrollback transaction[0m
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 7ms (ActiveRecord: 0.1ms | Allocations: 877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
---------------------------------------------------------
RestaurantsControllerTest: test_should_search_restaurants
---------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started GET "/search?name=Cheesecake&location=Carr" for 127.0.0.1 at 2023-05-07 18:37:59 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
  [1m[36mRestaurant Load (0.8ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by RestaurantsController#search as HTML
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  Parameters: {"name"=>"Cheesecake", "location"=>"Carr"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
UserTest: test_returns_whether_the_user_has_favorited_a_specific_restaurant
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CommentsControllerTest: test_should_create_comment
--------------------------------------------------
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CommentsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"will_split"_votes_associated_with_the_restaurant
-------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"won't_split"_votes_associated_with_the_restaurant
--------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
VotesControllerTest: test_should_create_vote
--------------------------------------------
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 18:37:59 -0400
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 28.8ms | Allocations: 8720)
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 234)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 18:37:59 -0400
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 35.9ms | Allocations: 10880)
Completed 200 OK in 37ms (Views: 36.2ms | ActiveRecord: 0.6ms | Allocations: 11373)
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mVote Create (12.7ms)[0m  [1m[32mINSERT INTO "votes" ("user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["will_split?", 1], ["created_at", "2023-05-07 22:37:59.828638"], ["updated_at", "2023-05-07 22:37:59.828638"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 18ms (ActiveRecord: 13.1ms | Allocations: 1560)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started GET "/user" for 127.0.0.1 at 2023-05-07 18:37:59 -0400
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
FavoritesControllerTest: test_should_create_favorite
----------------------------------------------------
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
FavoritesControllerTest: test_should_destroy_favorite
-----------------------------------------------------
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 181803346], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (Duration: 22.7ms | Allocations: 4748)
  Rendered layout layouts/application.html.erb (Duration: 22.9ms | Allocations: 4796)
Completed 500 Internal Server Error in 30ms (ActiveRecord: 0.3ms | Allocations: 5766)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (3.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (46.2ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (24.0ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.1ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-07 22:39:56.964338', '2023-05-07 22:39:56.964338');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-07 22:39:56.964338', '2023-05-07 22:39:56.964338');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-07 22:39:56.967107', '2023-05-07 22:39:56.967107');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-07 22:39:56.967107', '2023-05-07 22:39:56.967107');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-07 22:39:56.967107', '2023-05-07 22:39:56.967107');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-07 22:39:56.967107', '2023-05-07 22:39:56.967107');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-07 22:39:56.968756', '2023-05-07 22:39:56.968756', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-07 22:39:56.968756', '2023-05-07 22:39:56.968756', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-07 22:39:56.968756', '2023-05-07 22:39:56.968756', 'Cookie');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-07 22:39:56.970603', '2023-05-07 22:39:56.970603');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-07 22:39:56.970603', '2023-05-07 22:39:56.970603');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-07 22:39:56.973068', '2023-05-07 22:39:56.973068');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-07 22:39:56.973068', '2023-05-07 22:39:56.973068')[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"will_split"_votes_associated_with_the_restaurant
-------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (6.9ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-07 22:39:56.975627', '2023-05-07 22:39:56.975627');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-07 22:39:56.975627', '2023-05-07 22:39:56.975627');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-07 22:39:57.004390', '2023-05-07 22:39:57.004390');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-07 22:39:57.004390', '2023-05-07 22:39:57.004390');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-07 22:39:57.004390', '2023-05-07 22:39:57.004390');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-07 22:39:57.004390', '2023-05-07 22:39:57.004390');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-07 22:39:57.009267', '2023-05-07 22:39:57.009267', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-07 22:39:57.009267', '2023-05-07 22:39:57.009267', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-07 22:39:57.009267', '2023-05-07 22:39:57.009267', 'Cookie');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-07 22:39:57.012361', '2023-05-07 22:39:57.012361');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-07 22:39:57.012361', '2023-05-07 22:39:57.012361');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-07 22:39:57.013821', '2023-05-07 22:39:57.013821');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-07 22:39:57.013821', '2023-05-07 22:39:57.013821')[0m
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CommentTest: test_to_s_returns_comment_summary
----------------------------------------------
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (8.6ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"won't_split"_votes_associated_with_the_restaurant
--------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:39:57 -0400
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:39:57 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 50ms (ActiveRecord: 0.1ms | Allocations: 2122)
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 16ms (ActiveRecord: 0.3ms | Allocations: 2128)
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-05-07 18:39:57 -0400
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:39:57 -0400
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}, "id"=>"980190962"}
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 949)
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:39:57 -0400
  Rendered restaurants/_form.html.erb (Duration: 4.7ms | Allocations: 2349)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 6.0ms | Allocations: 2883)
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.3ms | Allocations: 291)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
Started POST "/restaurants" for 127.0.0.1 at 2023-05-07 18:39:57 -0400
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (6.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["created_at", "2023-05-07 22:39:57.297124"], ["updated_at", "2023-05-07 22:39:57.297124"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190963
Completed 302 Found in 17ms (ActiveRecord: 6.4ms | Allocations: 821)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-05-07 18:39:57 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 11.4ms | Allocations: 4091)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 185.6ms | Allocations: 34913)
Completed 200 OK in 190ms (Views: 188.3ms | ActiveRecord: 0.1ms | Allocations: 36853)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/new" for 127.0.0.1 at 2023-05-07 18:39:57 -0400
Processing by RestaurantsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 1.9ms | Allocations: 1054)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1268)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 3435)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms | Allocations: 3864)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
RestaurantsControllerTest: test_should_search_restaurants
---------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/search?name=Cheesecake&location=Carr" for 127.0.0.1 at 2023-05-07 18:39:57 -0400
Processing by RestaurantsController#search as HTML
  Parameters: {"name"=>"Cheesecake", "location"=>"Carr"}
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 160.4ms | Allocations: 36149)
Completed 200 OK in 169ms (Views: 166.4ms | ActiveRecord: 0.6ms | Allocations: 38031)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
  Rendered restaurants/index.html.erb within layouts/application (Duration: 20.4ms | Allocations: 7509)
CommentsControllerTest: test_should_create_comment
--------------------------------------------------
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 23.8ms | Allocations: 9669)
Completed 200 OK in 25ms (Views: 24.0ms | ActiveRecord: 0.7ms | Allocations: 10170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CommentsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
UserTest: test_returns_whether_the_user_has_favorited_a_specific_restaurant
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
FavoritesControllerTest: test_should_destroy_favorite
-----------------------------------------------------
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
FavoritesControllerTest: test_should_create_favorite
----------------------------------------------------
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/user" for 127.0.0.1 at 2023-05-07 18:39:57 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
VotesControllerTest: test_should_create_vote
--------------------------------------------
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = ?[0m  [["user_id", 980190962]]
Started POST "/votes" for 127.0.0.1 at 2023-05-07 18:39:57 -0400
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 181803346], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (Duration: 12.3ms | Allocations: 2141)
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | Allocations: 2189)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.3ms | Allocations: 3159)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 234)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 18:39:57 -0400
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Create (8.0ms)[0m  [1m[32mINSERT INTO "votes" ("user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["will_split?", 1], ["created_at", "2023-05-07 22:39:57.569525"], ["updated_at", "2023-05-07 22:39:57.569525"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 22ms (ActiveRecord: 8.3ms | Allocations: 1665)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[36mTruncate Tables (24.3ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (17.6ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.9ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-07 22:40:34.816836', '2023-05-07 22:40:34.816836');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-07 22:40:34.816836', '2023-05-07 22:40:34.816836');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-07 22:40:34.826232', '2023-05-07 22:40:34.826232');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-07 22:40:34.826232', '2023-05-07 22:40:34.826232');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-07 22:40:34.826232', '2023-05-07 22:40:34.826232');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-07 22:40:34.826232', '2023-05-07 22:40:34.826232');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-07 22:40:34.828499', '2023-05-07 22:40:34.828499', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-07 22:40:34.828499', '2023-05-07 22:40:34.828499', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-07 22:40:34.828499', '2023-05-07 22:40:34.828499', 'Cookie');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-07 22:40:34.830343', '2023-05-07 22:40:34.830343');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-07 22:40:34.830343', '2023-05-07 22:40:34.830343');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-07 22:40:34.831810', '2023-05-07 22:40:34.831810');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-07 22:40:34.831810', '2023-05-07 22:40:34.831810')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.7ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mFixtures Load (5.8ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-07 22:40:34.791044', '2023-05-07 22:40:34.791044');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-07 22:40:34.791044', '2023-05-07 22:40:34.791044');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-07 22:40:34.807006', '2023-05-07 22:40:34.807006');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-07 22:40:34.807006', '2023-05-07 22:40:34.807006');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-07 22:40:34.807006', '2023-05-07 22:40:34.807006');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-07 22:40:34.807006', '2023-05-07 22:40:34.807006');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-07 22:40:34.813811', '2023-05-07 22:40:34.813811', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-07 22:40:34.813811', '2023-05-07 22:40:34.813811', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-07 22:40:34.813811', '2023-05-07 22:40:34.813811', 'Cookie');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-07 22:40:34.818695', '2023-05-07 22:40:34.818695');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-07 22:40:34.818695', '2023-05-07 22:40:34.818695');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-07 22:40:34.828651', '2023-05-07 22:40:34.828651');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-07 22:40:34.828651', '2023-05-07 22:40:34.828651')[0m
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.8ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"will_split"_votes_associated_with_the_restaurant
-------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"won't_split"_votes_associated_with_the_restaurant
--------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
UserTest: test_returns_whether_the_user_has_favorited_a_specific_restaurant
---------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
FavoritesControllerTest: test_should_create_favorite
----------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/user" for 127.0.0.1 at 2023-05-07 18:40:34 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
FavoritesControllerTest: test_should_destroy_favorite
-----------------------------------------------------
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 181803346], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (Duration: 12.6ms | Allocations: 6860)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 6913)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.3ms | Allocations: 10425)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
VotesControllerTest: test_should_create_vote
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 18:40:35 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CommentTest: test_to_s_returns_comment_summary
----------------------------------------------
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 401 Unauthorized in 15ms (ActiveRecord: 0.0ms | Allocations: 1886)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CommentsControllerTest: test_should_create_comment
--------------------------------------------------
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 18:40:35 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CommentsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
RestaurantsControllerTest: test_should_search_restaurants
---------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/search?name=Cheesecake&location=Carr" for 127.0.0.1 at 2023-05-07 18:40:35 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Create (5.6ms)[0m  [1m[32mINSERT INTO "votes" ("user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["will_split?", 1], ["created_at", "2023-05-07 22:40:35.146861"], ["updated_at", "2023-05-07 22:40:35.146861"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 20ms (ActiveRecord: 5.9ms | Allocations: 1714)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-05-07 18:40:35 -0400
Processing by RestaurantsController#search as HTML
  Parameters: {"name"=>"Cheesecake", "location"=>"Carr"}
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 11.0ms | Allocations: 4149)
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 80.3ms | Allocations: 7120)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 165.7ms | Allocations: 36346)
Completed 200 OK in 190ms (Views: 168.6ms | ActiveRecord: 0.6ms | Allocations: 38313)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:40:35 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.1ms | Allocations: 383)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
[Webpacker] Everything's up-to-date. Nothing to do
Started POST "/restaurants" for 127.0.0.1 at 2023-05-07 18:40:35 -0400
  Rendered layout layouts/application.html.erb (Duration: 202.7ms | Allocations: 39280)
Completed 200 OK in 209ms (Views: 207.3ms | ActiveRecord: 0.7ms | Allocations: 40360)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by RestaurantsController#create as HTML
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (0.5ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["created_at", "2023-05-07 22:40:35.379133"], ["updated_at", "2023-05-07 22:40:35.379133"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 903)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:40:35 -0400
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:40:35 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 291)
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:40:35 -0400
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.1ms | Allocations: 384)
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 3.4ms | Allocations: 1995)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 4.4ms | Allocations: 2405)
[Webpacker] Everything's up-to-date. Nothing to do
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-05-07 18:40:35 -0400
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 4564)
Completed 200 OK in 11ms (Views: 9.6ms | ActiveRecord: 0.1ms | Allocations: 5088)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/new" for 127.0.0.1 at 2023-05-07 18:40:35 -0400
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 870)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by RestaurantsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 2.1ms | Allocations: 1044)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1253)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 3419)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms | Allocations: 3840)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (41.2ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (49.3ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (17.3ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-07 22:43:06.274494', '2023-05-07 22:43:06.274494');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-07 22:43:06.274494', '2023-05-07 22:43:06.274494');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-07 22:43:06.283343', '2023-05-07 22:43:06.283343');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-07 22:43:06.283343', '2023-05-07 22:43:06.283343');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-07 22:43:06.283343', '2023-05-07 22:43:06.283343');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-07 22:43:06.283343', '2023-05-07 22:43:06.283343');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-07 22:43:06.287318', '2023-05-07 22:43:06.287318', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-07 22:43:06.287318', '2023-05-07 22:43:06.287318', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-07 22:43:06.287318', '2023-05-07 22:43:06.287318', 'Cookie');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-07 22:43:06.289119', '2023-05-07 22:43:06.289119');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-07 22:43:06.289119', '2023-05-07 22:43:06.289119');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-07 22:43:06.290597', '2023-05-07 22:43:06.290597');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-07 22:43:06.290597', '2023-05-07 22:43:06.290597')[0m
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CommentTest: test_to_s_returns_comment_summary
----------------------------------------------
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-07 22:43:06.306677', '2023-05-07 22:43:06.306677');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-07 22:43:06.306677', '2023-05-07 22:43:06.306677');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-07 22:43:06.315668', '2023-05-07 22:43:06.315668');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-07 22:43:06.315668', '2023-05-07 22:43:06.315668');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-07 22:43:06.315668', '2023-05-07 22:43:06.315668');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-07 22:43:06.315668', '2023-05-07 22:43:06.315668');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-07 22:43:06.323832', '2023-05-07 22:43:06.323832', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-07 22:43:06.323832', '2023-05-07 22:43:06.323832', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-07 22:43:06.323832', '2023-05-07 22:43:06.323832', 'Cookie');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-07 22:43:06.325752', '2023-05-07 22:43:06.325752');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-07 22:43:06.325752', '2023-05-07 22:43:06.325752');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-07 22:43:06.327218', '2023-05-07 22:43:06.327218');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-07 22:43:06.327218', '2023-05-07 22:43:06.327218')[0m
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (17.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
FavoritesControllerTest: test_should_destroy_favorite
-----------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
FavoritesControllerTest: test_should_create_favorite
----------------------------------------------------
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CommentsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CommentsControllerTest: test_should_create_comment
--------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
VotesControllerTest: test_should_create_vote
--------------------------------------------
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/votes" for 127.0.0.1 at 2023-05-07 18:43:06 -0400
Started GET "/user" for 127.0.0.1 at 2023-05-07 18:43:06 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 181803346], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (Duration: 8.2ms | Allocations: 4127)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 4180)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.3ms | Allocations: 7692)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:43:06 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 474)
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:43:06 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 4.9ms | Allocations: 2348)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 6.1ms | Allocations: 2764)
Completed 401 Unauthorized in 37ms (ActiveRecord: 0.0ms | Allocations: 1886)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 18:43:06 -0400
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Create (5.1ms)[0m  [1m[32mINSERT INTO "votes" ("user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["will_split?", 1], ["created_at", "2023-05-07 22:43:06.675319"], ["updated_at", "2023-05-07 22:43:06.675319"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 44ms (ActiveRecord: 5.5ms | Allocations: 3980)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:43:06 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 6ms (ActiveRecord: 0.1ms | Allocations: 466)
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-05-07 18:43:06 -0400
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 21ms (ActiveRecord: 0.1ms | Allocations: 813)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 172.0ms | Allocations: 35103)
Completed 200 OK in 178ms (Views: 176.8ms | ActiveRecord: 0.1ms | Allocations: 36122)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
RestaurantsControllerTest: test_should_search_restaurants
---------------------------------------------------------
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/search?name=Cheesecake&location=Carr" for 127.0.0.1 at 2023-05-07 18:43:06 -0400
Started GET "/restaurants" for 127.0.0.1 at 2023-05-07 18:43:06 -0400
Processing by RestaurantsController#search as HTML
  Parameters: {"name"=>"Cheesecake", "location"=>"Carr"}
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
Processing by RestaurantsController#index as HTML
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 24.9ms | Allocations: 6735)
  [1m[36mVote Load (0.4ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 19.4ms | Allocations: 5038)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 42.0ms | Allocations: 8895)
Completed 200 OK in 43ms (Views: 42.1ms | ActiveRecord: 0.6ms | Allocations: 9396)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:43:06 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 291)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
Started POST "/restaurants" for 127.0.0.1 at 2023-05-07 18:43:06 -0400
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (9.6ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["created_at", "2023-05-07 22:43:06.878908"], ["updated_at", "2023-05-07 22:43:06.878908"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190963
Completed 302 Found in 13ms (ActiveRecord: 9.8ms | Allocations: 1049)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/new" for 127.0.0.1 at 2023-05-07 18:43:06 -0400
Processing by RestaurantsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 2.3ms | Allocations: 1054)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1268)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 3435)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.0ms | Allocations: 3857)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"will_split"_votes_associated_with_the_restaurant
-------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"won't_split"_votes_associated_with_the_restaurant
--------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
UserTest: test_returns_whether_the_user_has_favorited_a_specific_restaurant
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" INNER JOIN "favorites" ON "restaurants"."id" = "favorites"."restaurant_id" WHERE "favorites"."user_id" = ? AND "restaurants"."id" = ? LIMIT ?[0m  [["user_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 182.7ms | Allocations: 37465)
Completed 200 OK in 194ms (Views: 184.4ms | ActiveRecord: 0.9ms | Allocations: 39349)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (35.6ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (54.7ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.9ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-07 22:43:58.261767', '2023-05-07 22:43:58.261767');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-07 22:43:58.261767', '2023-05-07 22:43:58.261767');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-07 22:43:58.264484', '2023-05-07 22:43:58.264484');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-07 22:43:58.264484', '2023-05-07 22:43:58.264484');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-07 22:43:58.264484', '2023-05-07 22:43:58.264484');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-07 22:43:58.264484', '2023-05-07 22:43:58.264484');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-07 22:43:58.265924', '2023-05-07 22:43:58.265924', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-07 22:43:58.265924', '2023-05-07 22:43:58.265924', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-07 22:43:58.265924', '2023-05-07 22:43:58.265924', 'Cookie');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-07 22:43:58.267776', '2023-05-07 22:43:58.267776');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-07 22:43:58.267776', '2023-05-07 22:43:58.267776');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-07 22:43:58.269498', '2023-05-07 22:43:58.269498');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-07 22:43:58.269498', '2023-05-07 22:43:58.269498')[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
VotesControllerTest: test_should_create_vote
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (7.0ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-07 22:43:58.317106', '2023-05-07 22:43:58.317106');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-07 22:43:58.317106', '2023-05-07 22:43:58.317106');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-07 22:43:58.320318', '2023-05-07 22:43:58.320318');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-07 22:43:58.320318', '2023-05-07 22:43:58.320318');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-07 22:43:58.320318', '2023-05-07 22:43:58.320318');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-07 22:43:58.320318', '2023-05-07 22:43:58.320318');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-07 22:43:58.321818', '2023-05-07 22:43:58.321818', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-07 22:43:58.321818', '2023-05-07 22:43:58.321818', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-07 22:43:58.321818', '2023-05-07 22:43:58.321818', 'Cookie');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-07 22:43:58.323655', '2023-05-07 22:43:58.323655');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-07 22:43:58.323655', '2023-05-07 22:43:58.323655');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-07 22:43:58.325147', '2023-05-07 22:43:58.325147');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-07 22:43:58.325147', '2023-05-07 22:43:58.325147')[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.3ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:43:58 -0400
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
Started POST "/votes" for 127.0.0.1 at 2023-05-07 18:43:58 -0400
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 15ms (ActiveRecord: 0.1ms | Allocations: 2130)
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
Started POST "/restaurants" for 127.0.0.1 at 2023-05-07 18:43:58 -0400
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}}
Completed 401 Unauthorized in 13ms (ActiveRecord: 0.0ms | Allocations: 1885)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (2.6ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["created_at", "2023-05-07 22:43:58.473801"], ["updated_at", "2023-05-07 22:43:58.473801"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190963
Completed 302 Found in 7ms (ActiveRecord: 2.7ms | Allocations: 1128)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/new" for 127.0.0.1 at 2023-05-07 18:43:58 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Processing by RestaurantsController#new as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 18:43:58 -0400
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
  Rendering layout layouts/application.html.erb
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering restaurants/new.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 4.8ms | Allocations: 2260)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 8.0ms | Allocations: 2722)
  [1m[36mVote Create (0.7ms)[0m  [1m[32mINSERT INTO "votes" ("user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["will_split?", 1], ["created_at", "2023-05-07 22:43:58.522134"], ["updated_at", "2023-05-07 22:43:58.522134"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 26ms (ActiveRecord: 1.1ms | Allocations: 5127)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:43:58 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.1ms | Allocations: 466)
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-05-07 18:43:58 -0400
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 815)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:43:58 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 291)
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:43:58 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 4.5ms | Allocations: 2291)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 5.9ms | Allocations: 2821)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 182.4ms | Allocations: 35239)
Completed 200 OK in 194ms (Views: 186.2ms | ActiveRecord: 0.0ms | Allocations: 37068)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-05-07 18:43:58 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.7ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 17.9ms | Allocations: 8723)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 21.9ms | Allocations: 10891)
Completed 200 OK in 23ms (Views: 21.1ms | ActiveRecord: 1.2ms | Allocations: 11366)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
RestaurantsControllerTest: test_should_search_restaurants
---------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/search?name=Cheesecake&location=Carr" for 127.0.0.1 at 2023-05-07 18:43:58 -0400
Processing by RestaurantsController#search as HTML
  Parameters: {"name"=>"Cheesecake", "location"=>"Carr"}
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 2329)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 4488)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.6ms | Allocations: 4849)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"will_split"_votes_associated_with_the_restaurant
-------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"won't_split"_votes_associated_with_the_restaurant
--------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CommentTest: test_to_s_returns_comment_summary
----------------------------------------------
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
FavoritesControllerTest: test_should_create_favorite
----------------------------------------------------
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 18:43:58 -0400
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"298486374"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 247)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 18:43:58 -0400
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 181803346], ["LIMIT", 1]]
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 181803346], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering favorites/new.html.erb within layouts/application
  Rendered favorites/_form.html.erb (Duration: 3.6ms | Allocations: 2058)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered favorites/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 2360)
  Rendered layout layouts/application.html.erb (Duration: 191.2ms | Allocations: 35337)
Completed 200 OK in 196ms (Views: 193.9ms | ActiveRecord: 0.1ms | Allocations: 37268)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 4524)
-----------------------------------------------------
FavoritesControllerTest: test_should_destroy_favorite
-----------------------------------------------------
Completed 200 OK in 17ms (Views: 10.9ms | ActiveRecord: 0.4ms | Allocations: 6945)
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 18:43:58 -0400
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"298486374"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/favorites" for 127.0.0.1 at 2023-05-07 18:43:58 -0400
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Processing by FavoritesController#destroy as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 298486374], ["LIMIT", 1]]
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 247)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started DELETE "/favorites" for 127.0.0.1 at 2023-05-07 18:43:58 -0400
  [1m[36mFavorite Create (7.3ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 298486374], ["created_at", "2023-05-07 22:43:58.801741"], ["updated_at", "2023-05-07 22:43:58.801741"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 15ms (ActiveRecord: 7.8ms | Allocations: 1803)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Processing by FavoritesController#destroy as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 181803346], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFavorite Destroy (0.6ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 5ms (ActiveRecord: 1.2ms | Allocations: 702)
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
UserTest: test_returns_whether_the_user_has_favorited_a_specific_restaurant
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (3.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/user" for 127.0.0.1 at 2023-05-07 18:43:58 -0400
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" INNER JOIN "favorites" ON "restaurants"."id" = "favorites"."restaurant_id" WHERE "favorites"."user_id" = ? AND "restaurants"."id" = ? LIMIT ?[0m  [["user_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CommentsControllerTest: test_should_create_comment
--------------------------------------------------
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CommentsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 181803346], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[31mrollback transaction[0m
  Rendered users/show.html.erb within layouts/application (Duration: 56.7ms | Allocations: 5479)
  Rendered layout layouts/application.html.erb (Duration: 56.9ms | Allocations: 5527)
Completed 500 Internal Server Error in 59ms (ActiveRecord: 0.2ms | Allocations: 6498)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (31.6ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (54.4ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (42.3ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (51.2ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-07 22:48:09.112492', '2023-05-07 22:48:09.112492');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-07 22:48:09.112492', '2023-05-07 22:48:09.112492');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-07 22:48:09.114855', '2023-05-07 22:48:09.114855');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-07 22:48:09.114855', '2023-05-07 22:48:09.114855');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-07 22:48:09.114855', '2023-05-07 22:48:09.114855');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-07 22:48:09.114855', '2023-05-07 22:48:09.114855');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-07 22:48:09.116334', '2023-05-07 22:48:09.116334', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-07 22:48:09.116334', '2023-05-07 22:48:09.116334', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-07 22:48:09.116334', '2023-05-07 22:48:09.116334', 'Cookie');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-07 22:48:09.118293', '2023-05-07 22:48:09.118293');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-07 22:48:09.118293', '2023-05-07 22:48:09.118293');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-07 22:48:09.119963', '2023-05-07 22:48:09.119963');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-07 22:48:09.119963', '2023-05-07 22:48:09.119963')[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"won't_split"_votes_associated_with_the_restaurant
--------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mFixtures Load (22.8ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-07 22:48:09.104541', '2023-05-07 22:48:09.104541');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-07 22:48:09.104541', '2023-05-07 22:48:09.104541');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-07 22:48:09.106929', '2023-05-07 22:48:09.106929');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-07 22:48:09.106929', '2023-05-07 22:48:09.106929');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-07 22:48:09.106929', '2023-05-07 22:48:09.106929');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-07 22:48:09.106929', '2023-05-07 22:48:09.106929');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-07 22:48:09.108540', '2023-05-07 22:48:09.108540', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-07 22:48:09.108540', '2023-05-07 22:48:09.108540', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-07 22:48:09.108540', '2023-05-07 22:48:09.108540', 'Cookie');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-07 22:48:09.110459', '2023-05-07 22:48:09.110459');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-07 22:48:09.110459', '2023-05-07 22:48:09.110459');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-07 22:48:09.111925', '2023-05-07 22:48:09.111925');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-07 22:48:09.111925', '2023-05-07 22:48:09.111925')[0m
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CommentTest: test_to_s_returns_comment_summary
----------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"will_split"_votes_associated_with_the_restaurant
-------------------------------------------------------------------------------------
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
VotesControllerTest: test_should_create_vote
--------------------------------------------
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/user" for 127.0.0.1 at 2023-05-07 18:48:09 -0400
Processing by UsersController#show as HTML
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 181803346], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (Duration: 5.2ms | Allocations: 2224)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 2277)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.2ms | Allocations: 5786)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 18:48:09 -0400
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
Completed 401 Unauthorized in 14ms (ActiveRecord: 0.0ms | Allocations: 1885)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 18:48:09 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/new" for 127.0.0.1 at 2023-05-07 18:48:09 -0400
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
Processing by RestaurantsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered restaurants/_form.html.erb (Duration: 8.2ms | Allocations: 4056)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 9.0ms | Allocations: 4404)
  [1m[36mVote Create (40.4ms)[0m  [1m[32mINSERT INTO "votes" ("user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["will_split?", 1], ["created_at", "2023-05-07 22:48:09.326396"], ["updated_at", "2023-05-07 22:48:09.326396"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 51ms (ActiveRecord: 40.8ms | Allocations: 1719)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:48:09 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.1ms | Allocations: 466)
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-05-07 18:48:09 -0400
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 815)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:48:09 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 291)
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:48:09 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 4.4ms | Allocations: 2290)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 5.7ms | Allocations: 2820)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 236.0ms | Allocations: 37077)
Completed 200 OK in 238ms (Views: 237.3ms | ActiveRecord: 0.0ms | Allocations: 38084)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:48:09 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 389)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
Started POST "/restaurants" for 127.0.0.1 at 2023-05-07 18:48:09 -0400
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 129.2ms | Allocations: 35496)
Completed 200 OK in 133ms (Views: 131.6ms | ActiveRecord: 0.1ms | Allocations: 37428)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
RestaurantsControllerTest: test_should_search_restaurants
---------------------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/search?name=Cheesecake&location=Carr" for 127.0.0.1 at 2023-05-07 18:48:09 -0400
Processing by RestaurantsController#search as HTML
  Parameters: {"name"=>"Cheesecake", "location"=>"Carr"}
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Create (20.1ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["created_at", "2023-05-07 22:48:09.587401"], ["updated_at", "2023-05-07 22:48:09.587401"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
Redirected to http://www.example.com/restaurants/980190963
Completed 302 Found in 30ms (ActiveRecord: 20.3ms | Allocations: 1050)
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-05-07 18:48:09 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 39.6ms | Allocations: 3682)
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 43.6ms | Allocations: 5842)
Completed 200 OK in 45ms (Views: 43.8ms | ActiveRecord: 0.6ms | Allocations: 6337)
  Rendered restaurants/index.html.erb within layouts/application (Duration: 14.2ms | Allocations: 3676)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
UserTest: test_returns_whether_the_user_has_favorited_a_specific_restaurant
---------------------------------------------------------------------------
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 18.6ms | Allocations: 5844)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 20ms (Views: 18.5ms | ActiveRecord: 0.5ms | Allocations: 6319)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" INNER JOIN "favorites" ON "restaurants"."id" = "favorites"."restaurant_id" WHERE "favorites"."user_id" = ? AND "restaurants"."id" = ? LIMIT ?[0m  [["user_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CommentsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CommentsControllerTest: test_should_create_comment
--------------------------------------------------
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 18:48:09 -0400
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 18:48:09 -0400
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 243)
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 18:48:09 -0400
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering comments/new.html.erb within layouts/application
  Rendered comments/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 977)
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
Started POST "/comments" for 127.0.0.1 at 2023-05-07 18:48:09 -0400
[Webpacker] Everything's up-to-date. Nothing to do
Processing by CommentsController#create as HTML
  Rendered layout layouts/application.html.erb (Duration: 27.5ms | Allocations: 3141)
  Parameters: {"comment"=>{"body"=>"I am number one!"}}
Completed 200 OK in 30ms (Views: 28.9ms | ActiveRecord: 0.1ms | Allocations: 4167)
Redirected to http://www.example.com/restaurants
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 302 Found in 7ms (ActiveRecord: 0.0ms | Allocations: 362)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
FavoritesControllerTest: test_should_create_favorite
----------------------------------------------------
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 18:48:09 -0400
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 18:48:09 -0400
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"298486374"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 247)
  Rendering layout layouts/application.html.erb
  Rendering comments/new.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  Rendered comments/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 967)
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 18:48:09 -0400
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 3131)
Completed 200 OK in 19ms (Views: 8.1ms | ActiveRecord: 0.3ms | Allocations: 4643)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 181803346], ["LIMIT", 1]]
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 181803346], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering favorites/new.html.erb within layouts/application
  Rendered favorites/_form.html.erb (Duration: 4.0ms | Allocations: 2058)
  Rendered favorites/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 2360)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | Allocations: 4524)
Completed 200 OK in 17ms (Views: 12.3ms | ActiveRecord: 0.4ms | Allocations: 6898)
Started POST "/comments" for 127.0.0.1 at 2023-05-07 18:48:09 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 18:48:09 -0400
Processing by CommentsController#create as HTML
  Parameters: {"comment"=>{"body"=>"I am number one!"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"298486374"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 298486374], ["LIMIT", 1]]
  [1m[36mFavorite Create (0.3ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 298486374], ["created_at", "2023-05-07 22:48:09.789755"], ["updated_at", "2023-05-07 22:48:09.789755"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 7ms (ActiveRecord: 0.8ms | Allocations: 1799)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
FavoritesControllerTest: test_should_destroy_favorite
-----------------------------------------------------
  [1m[36mComment Create (10.8ms)[0m  [1m[32mINSERT INTO "comments" ("user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["body", "I am number one!"], ["created_at", "2023-05-07 22:48:09.783518"], ["updated_at", "2023-05-07 22:48:09.783518"]]
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/restaurants/980190962
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Completed 302 Found in 19ms (ActiveRecord: 11.2ms | Allocations: 1777)
Started DELETE "/favorites" for 127.0.0.1 at 2023-05-07 18:48:09 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
Processing by FavoritesController#destroy as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 168)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" ORDER BY "comments"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
Started DELETE "/favorites" for 127.0.0.1 at 2023-05-07 18:48:09 -0400
Processing by FavoritesController#destroy as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 181803346], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFavorite Destroy (0.3ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 694)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (2.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (23.1ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (9.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-07 22:49:07.065222', '2023-05-07 22:49:07.065222');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-07 22:49:07.065222', '2023-05-07 22:49:07.065222');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-07 22:49:07.068024', '2023-05-07 22:49:07.068024');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-07 22:49:07.068024', '2023-05-07 22:49:07.068024');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-07 22:49:07.068024', '2023-05-07 22:49:07.068024');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-07 22:49:07.068024', '2023-05-07 22:49:07.068024');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-07 22:49:07.069604', '2023-05-07 22:49:07.069604', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-07 22:49:07.069604', '2023-05-07 22:49:07.069604', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-07 22:49:07.069604', '2023-05-07 22:49:07.069604', 'Cookie');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-07 22:49:07.071338', '2023-05-07 22:49:07.071338');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-07 22:49:07.071338', '2023-05-07 22:49:07.071338');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-07 22:49:07.072817', '2023-05-07 22:49:07.072817');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-07 22:49:07.072817', '2023-05-07 22:49:07.072817')[0m
  [1m[36mTRANSACTION (22.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (74.5ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (10.5ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-07 22:49:07.143308', '2023-05-07 22:49:07.143308');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-07 22:49:07.143308', '2023-05-07 22:49:07.143308');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-07 22:49:07.150967', '2023-05-07 22:49:07.150967');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-07 22:49:07.150967', '2023-05-07 22:49:07.150967');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-07 22:49:07.150967', '2023-05-07 22:49:07.150967');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-07 22:49:07.150967', '2023-05-07 22:49:07.150967');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-07 22:49:07.152419', '2023-05-07 22:49:07.152419', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-07 22:49:07.152419', '2023-05-07 22:49:07.152419', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-07 22:49:07.152419', '2023-05-07 22:49:07.152419', 'Cookie');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-07 22:49:07.154131', '2023-05-07 22:49:07.154131');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-07 22:49:07.154131', '2023-05-07 22:49:07.154131');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-07 22:49:07.155691', '2023-05-07 22:49:07.155691');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-07 22:49:07.155691', '2023-05-07 22:49:07.155691')[0m
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mRestaurant Load (1.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:49:07 -0400
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/new" for 127.0.0.1 at 2023-05-07 18:49:07 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 14ms (ActiveRecord: 0.1ms | Allocations: 2131)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
Started POST "/restaurants" for 127.0.0.1 at 2023-05-07 18:49:07 -0400
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (0.4ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["created_at", "2023-05-07 22:49:07.302285"], ["updated_at", "2023-05-07 22:49:07.302285"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.6ms | Allocations: 1128)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
RestaurantsControllerTest: test_should_search_restaurants
---------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/search?name=Cheesecake&location=Carr" for 127.0.0.1 at 2023-05-07 18:49:07 -0400
Processing by RestaurantsController#search as HTML
  Parameters: {"name"=>"Cheesecake", "location"=>"Carr"}
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 26.5ms | Allocations: 9134)
Processing by RestaurantsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 6.7ms | Allocations: 4059)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 8.0ms | Allocations: 4525)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 134.1ms | Allocations: 41954)
Completed 200 OK in 142ms (Views: 140.3ms | ActiveRecord: 0.7ms | Allocations: 43854)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:49:07 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 291)
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-05-07 18:49:07 -0400
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 645)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:49:07 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 291)
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:49:07 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 3.6ms | Allocations: 1995)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 4.8ms | Allocations: 2405)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 4564)
Completed 200 OK in 15ms (Views: 13.6ms | ActiveRecord: 0.1ms | Allocations: 5092)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-05-07 18:49:07 -0400
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 135.5ms | Allocations: 37390)
Completed 200 OK in 148ms (Views: 138.2ms | ActiveRecord: 0.0ms | Allocations: 40941)
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CommentsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 2332)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 4498)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.5ms | Allocations: 4841)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CommentsControllerTest: test_should_create_comment
--------------------------------------------------
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 18:49:07 -0400
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 18:49:07 -0400
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 249)
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 243)
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 18:49:07 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
Started POST "/comments" for 127.0.0.1 at 2023-05-07 18:49:07 -0400
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by CommentsController#create as HTML
  Parameters: {"comment"=>{"body"=>"I am number one!"}}
Redirected to http://www.example.com/restaurants
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 362)
  Rendering layout layouts/application.html.erb
  Rendering comments/new.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 18:49:07 -0400
  Rendered comments/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 968)
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering comments/new.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | Allocations: 3132)
  Rendered comments/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 975)
Completed 200 OK in 17ms (Views: 15.2ms | ActiveRecord: 0.1ms | Allocations: 4258)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 3139)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
Completed 200 OK in 12ms (Views: 8.5ms | ActiveRecord: 0.3ms | Allocations: 4671)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CommentTest: test_to_s_returns_comment_summary
----------------------------------------------
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mrollback transaction[0m
Started POST "/comments" for 127.0.0.1 at 2023-05-07 18:49:07 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
FavoritesControllerTest: test_should_create_favorite
----------------------------------------------------
Processing by CommentsController#create as HTML
  Parameters: {"comment"=>{"body"=>"I am number one!"}}
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 18:49:07 -0400
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"298486374"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 247)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 18:49:07 -0400
  [1m[36mComment Create (12.1ms)[0m  [1m[32mINSERT INTO "comments" ("user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["body", "I am number one!"], ["created_at", "2023-05-07 22:49:07.598843"], ["updated_at", "2023-05-07 22:49:07.598843"]]
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 27ms (ActiveRecord: 14.1ms | Allocations: 2170)
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" ORDER BY "comments"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 181803346], ["LIMIT", 1]]
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 181803346], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  Rendering layout layouts/application.html.erb
  Rendering favorites/new.html.erb within layouts/application
-----------------------------------------------------
FavoritesControllerTest: test_should_destroy_favorite
-----------------------------------------------------
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered favorites/_form.html.erb (Duration: 3.3ms | Allocations: 2058)
  Rendered favorites/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 2361)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 4525)
Completed 200 OK in 27ms (Views: 13.1ms | ActiveRecord: 0.5ms | Allocations: 7043)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mRestaurant Load (3.9ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 18:49:07 -0400
Started DELETE "/favorites" for 127.0.0.1 at 2023-05-07 18:49:07 -0400
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"298486374"}
Processing by FavoritesController#destroy as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 247)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started DELETE "/favorites" for 127.0.0.1 at 2023-05-07 18:49:07 -0400
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 298486374], ["created_at", "2023-05-07 22:49:07.659972"], ["updated_at", "2023-05-07 22:49:07.659972"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 12ms (ActiveRecord: 1.1ms | Allocations: 1868)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/user" for 127.0.0.1 at 2023-05-07 18:49:07 -0400
Processing by UsersController#show as HTML
Processing by FavoritesController#destroy as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 181803346], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 181803346], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (Duration: 10.0ms | Allocations: 2815)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 2863)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.2ms | Allocations: 3834)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mFavorite Destroy (9.7ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 26ms (ActiveRecord: 10.1ms | Allocations: 700)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
VotesControllerTest: test_should_create_vote
--------------------------------------------
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 18:49:07 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
UserTest: test_returns_whether_the_user_has_favorited_a_specific_restaurant
---------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" INNER JOIN "favorites" ON "restaurants"."id" = "favorites"."restaurant_id" WHERE "favorites"."user_id" = ? AND "restaurants"."id" = ? LIMIT ?[0m  [["user_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"will_split"_votes_associated_with_the_restaurant
-------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mrollback transaction[0m
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 234)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"won't_split"_votes_associated_with_the_restaurant
--------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 18:49:07 -0400
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Create (0.6ms)[0m  [1m[32mINSERT INTO "votes" ("user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["will_split?", 1], ["created_at", "2023-05-07 22:49:07.789744"], ["updated_at", "2023-05-07 22:49:07.789744"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 6ms (ActiveRecord: 1.0ms | Allocations: 1570)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (34.5ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (49.1ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (9.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (6.4ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-07 22:49:19.361378', '2023-05-07 22:49:19.361378');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-07 22:49:19.361378', '2023-05-07 22:49:19.361378');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-07 22:49:19.364559', '2023-05-07 22:49:19.364559');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-07 22:49:19.364559', '2023-05-07 22:49:19.364559');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-07 22:49:19.364559', '2023-05-07 22:49:19.364559');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-07 22:49:19.364559', '2023-05-07 22:49:19.364559');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-07 22:49:19.366424', '2023-05-07 22:49:19.366424', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-07 22:49:19.366424', '2023-05-07 22:49:19.366424', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-07 22:49:19.366424', '2023-05-07 22:49:19.366424', 'Cookie');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-07 22:49:19.368260', '2023-05-07 22:49:19.368260');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-07 22:49:19.368260', '2023-05-07 22:49:19.368260');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-07 22:49:19.369922', '2023-05-07 22:49:19.369922');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-07 22:49:19.369922', '2023-05-07 22:49:19.369922')[0m
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
UserTest: test_returns_whether_the_user_has_favorited_a_specific_restaurant
---------------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.0ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-07 22:49:19.381200', '2023-05-07 22:49:19.381200');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-07 22:49:19.381200', '2023-05-07 22:49:19.381200');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-07 22:49:19.384453', '2023-05-07 22:49:19.384453');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-07 22:49:19.384453', '2023-05-07 22:49:19.384453');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-07 22:49:19.384453', '2023-05-07 22:49:19.384453');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-07 22:49:19.384453', '2023-05-07 22:49:19.384453');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-07 22:49:19.390832', '2023-05-07 22:49:19.390832', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-07 22:49:19.390832', '2023-05-07 22:49:19.390832', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-07 22:49:19.390832', '2023-05-07 22:49:19.390832', 'Cookie');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-07 22:49:19.392730', '2023-05-07 22:49:19.392730');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-07 22:49:19.392730', '2023-05-07 22:49:19.392730');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-07 22:49:19.394237', '2023-05-07 22:49:19.394237');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-07 22:49:19.394237', '2023-05-07 22:49:19.394237')[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" INNER JOIN "favorites" ON "restaurants"."id" = "favorites"."restaurant_id" WHERE "favorites"."user_id" = ? AND "restaurants"."id" = ? LIMIT ?[0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:49:19 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:49:19 -0400
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 14ms (ActiveRecord: 0.1ms | Allocations: 2131)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
Started POST "/restaurants" for 127.0.0.1 at 2023-05-07 18:49:19 -0400
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 15ms (ActiveRecord: 0.1ms | Allocations: 2124)
  [1m[36mRestaurant Create (11.6ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["created_at", "2023-05-07 22:49:19.560775"], ["updated_at", "2023-05-07 22:49:19.560775"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190963
Completed 302 Found in 16ms (ActiveRecord: 11.7ms | Allocations: 1128)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:49:19 -0400
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-05-07 18:49:19 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
Processing by RestaurantsController#index as HTML
  Rendered restaurants/_form.html.erb (Duration: 7.8ms | Allocations: 2349)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 9.3ms | Allocations: 2883)
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 26.5ms | Allocations: 9095)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 128.5ms | Allocations: 35878)
Completed 200 OK in 133ms (Views: 130.8ms | ActiveRecord: 0.1ms | Allocations: 37820)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/new" for 127.0.0.1 at 2023-05-07 18:49:19 -0400
Processing by RestaurantsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 1.8ms | Allocations: 1044)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1253)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 3419)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms | Allocations: 3848)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
RestaurantsControllerTest: test_should_search_restaurants
---------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/search?name=Cheesecake&location=Carr" for 127.0.0.1 at 2023-05-07 18:49:19 -0400
Processing by RestaurantsController#search as HTML
  Parameters: {"name"=>"Cheesecake", "location"=>"Carr"}
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 153.1ms | Allocations: 42102)
Completed 200 OK in 159ms (Views: 155.5ms | ActiveRecord: 0.7ms | Allocations: 43986)
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 13.4ms | Allocations: 7114)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:49:19 -0400
  Rendered layout layouts/application.html.erb (Duration: 21.0ms | Allocations: 9274)
Completed 200 OK in 22ms (Views: 21.1ms | ActiveRecord: 0.6ms | Allocations: 9775)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/user" for 127.0.0.1 at 2023-05-07 18:49:19 -0400
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 291)
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-05-07 18:49:19 -0400
Processing by UsersController#show as HTML
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 645)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CommentsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 181803346], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (Duration: 26.7ms | Allocations: 4787)
  Rendered layout layouts/application.html.erb (Duration: 26.9ms | Allocations: 4835)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 0.3ms | Allocations: 5805)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 18:49:19 -0400
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 243)
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 18:49:19 -0400
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CommentsControllerTest: test_should_create_comment
--------------------------------------------------
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 18:49:19 -0400
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
Started POST "/comments" for 127.0.0.1 at 2023-05-07 18:49:19 -0400
Processing by CommentsController#create as HTML
  Parameters: {"comment"=>{"body"=>"I am number one!"}}
Redirected to http://www.example.com/restaurants
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 375)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 18:49:19 -0400
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering comments/new.html.erb within layouts/application
  Rendering layout layouts/application.html.erb
  Rendering comments/new.html.erb within layouts/application
  Rendered comments/new.html.erb within layouts/application (Duration: 10.5ms | Allocations: 970)
  Rendered comments/new.html.erb within layouts/application (Duration: 9.7ms | Allocations: 1001)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 18.6ms | Allocations: 3166)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 21.2ms | Allocations: 3135)
Completed 200 OK in 34ms (Views: 29.8ms | ActiveRecord: 0.3ms | Allocations: 4658)
Started POST "/comments" for 127.0.0.1 at 2023-05-07 18:49:19 -0400
Completed 200 OK in 78ms (Views: 77.2ms | ActiveRecord: 0.1ms | Allocations: 4193)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by CommentsController#create as HTML
  Parameters: {"comment"=>{"body"=>"I am number one!"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CommentTest: test_to_s_returns_comment_summary
----------------------------------------------
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mComment Create (18.6ms)[0m  [1m[32mINSERT INTO "comments" ("user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["body", "I am number one!"], ["created_at", "2023-05-07 22:49:19.912561"], ["updated_at", "2023-05-07 22:49:19.912561"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
FavoritesControllerTest: test_should_create_favorite
----------------------------------------------------
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 30ms (ActiveRecord: 19.1ms | Allocations: 2044)
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" ORDER BY "comments"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 18:49:19 -0400
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"298486374"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 247)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
FavoritesControllerTest: test_should_destroy_favorite
-----------------------------------------------------
  [1m[36mFavorite Load (0.9ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 18:49:19 -0400
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
Started DELETE "/favorites" for 127.0.0.1 at 2023-05-07 18:49:19 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 181803346], ["LIMIT", 1]]
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 181803346], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by FavoritesController#destroy as HTML
  Rendering layout layouts/application.html.erb
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
  Rendering favorites/new.html.erb within layouts/application
  Rendered favorites/_form.html.erb (Duration: 3.8ms | Allocations: 2178)
  Rendered favorites/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 2489)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 401 Unauthorized in 8ms (ActiveRecord: 0.0ms | Allocations: 247)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 4653)
Completed 200 OK in 18ms (Views: 13.1ms | ActiveRecord: 0.4ms | Allocations: 7074)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 18:49:19 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started DELETE "/favorites" for 127.0.0.1 at 2023-05-07 18:49:19 -0400
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"298486374"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by FavoritesController#destroy as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 181803346], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 298486374], ["LIMIT", 1]]
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 298486374], ["created_at", "2023-05-07 22:49:19.997487"], ["updated_at", "2023-05-07 22:49:19.997487"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 6ms (ActiveRecord: 1.0ms | Allocations: 1811)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
VotesControllerTest: test_should_create_vote
--------------------------------------------
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mFavorite Destroy (6.4ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 10ms (ActiveRecord: 6.7ms | Allocations: 696)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 18:49:20 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
Processing by VotesController#create as HTML
-----------------------------------------------------------------------
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 234)
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 18:49:20 -0400
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mVote Create (0.5ms)[0m  [1m[32mINSERT INTO "votes" ("user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["will_split?", 1], ["created_at", "2023-05-07 22:49:20.031078"], ["updated_at", "2023-05-07 22:49:20.031078"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 5ms (ActiveRecord: 0.8ms | Allocations: 1524)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"won't_split"_votes_associated_with_the_restaurant
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"will_split"_votes_associated_with_the_restaurant
-------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (26.4ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (6.8ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (43.3ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (3.3ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-07 22:50:00.634458', '2023-05-07 22:50:00.634458');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-07 22:50:00.634458', '2023-05-07 22:50:00.634458');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-07 22:50:00.637106', '2023-05-07 22:50:00.637106');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-07 22:50:00.637106', '2023-05-07 22:50:00.637106');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-07 22:50:00.637106', '2023-05-07 22:50:00.637106');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-07 22:50:00.637106', '2023-05-07 22:50:00.637106');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-07 22:50:00.638790', '2023-05-07 22:50:00.638790', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-07 22:50:00.638790', '2023-05-07 22:50:00.638790', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-07 22:50:00.638790', '2023-05-07 22:50:00.638790', 'Cookie');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-07 22:50:00.640682', '2023-05-07 22:50:00.640682');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-07 22:50:00.640682', '2023-05-07 22:50:00.640682');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-07 22:50:00.642210', '2023-05-07 22:50:00.642210');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-07 22:50:00.642210', '2023-05-07 22:50:00.642210')[0m
  [1m[36mFixtures Load (2.8ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-07 22:50:00.611115', '2023-05-07 22:50:00.611115');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-07 22:50:00.611115', '2023-05-07 22:50:00.611115');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-07 22:50:00.613826', '2023-05-07 22:50:00.613826');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-07 22:50:00.613826', '2023-05-07 22:50:00.613826');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-07 22:50:00.613826', '2023-05-07 22:50:00.613826');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-07 22:50:00.613826', '2023-05-07 22:50:00.613826');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-07 22:50:00.627171', '2023-05-07 22:50:00.627171', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-07 22:50:00.627171', '2023-05-07 22:50:00.627171', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-07 22:50:00.627171', '2023-05-07 22:50:00.627171', 'Cookie');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-07 22:50:00.628988', '2023-05-07 22:50:00.628988');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-07 22:50:00.628988', '2023-05-07 22:50:00.628988');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-07 22:50:00.630466', '2023-05-07 22:50:00.630466');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-07 22:50:00.630466', '2023-05-07 22:50:00.630466')[0m
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
FavoritesControllerTest: test_should_create_favorite
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
UserTest: test_returns_whether_the_user_has_favorited_a_specific_restaurant
---------------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" INNER JOIN "favorites" ON "restaurants"."id" = "favorites"."restaurant_id" WHERE "favorites"."user_id" = ? AND "restaurants"."id" = ? LIMIT ?[0m  [["user_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" INNER JOIN "favorites" ON "restaurants"."id" = "favorites"."restaurant_id" WHERE "favorites"."user_id" = ? AND "restaurants"."id" = ? LIMIT ?[0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
FavoritesControllerTest: test_should_destroy_favorite
-----------------------------------------------------
  [1m[36mFavorite Load (3.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 18:50:00 -0400
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/favorites" for 127.0.0.1 at 2023-05-07 18:50:00 -0400
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"298486374"}
Processing by FavoritesController#destroy as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
Completed 401 Unauthorized in 14ms (ActiveRecord: 0.0ms | Allocations: 1898)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 18:50:00 -0400
Completed 401 Unauthorized in 14ms (ActiveRecord: 0.0ms | Allocations: 1898)
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 181803346], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started DELETE "/favorites" for 127.0.0.1 at 2023-05-07 18:50:00 -0400
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 181803346], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by FavoritesController#destroy as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
  Rendering layout layouts/application.html.erb
  Rendering favorites/new.html.erb within layouts/application
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 181803346], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  Rendered favorites/_form.html.erb (Duration: 5.5ms | Allocations: 2505)
  Rendered favorites/new.html.erb within layouts/application (Duration: 6.7ms | Allocations: 2935)
  [1m[36mFavorite Destroy (10.7ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 14ms (ActiveRecord: 11.0ms | Allocations: 766)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CommentsControllerTest: test_should_create_comment
--------------------------------------------------
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 18:50:00 -0400
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
Started POST "/comments" for 127.0.0.1 at 2023-05-07 18:50:00 -0400
Processing by CommentsController#create as HTML
  Parameters: {"comment"=>{"body"=>"I am number one!"}}
Redirected to http://www.example.com/restaurants
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 361)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 18:50:00 -0400
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering comments/new.html.erb within layouts/application
  Rendered comments/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1395)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 165.5ms | Allocations: 36076)
Completed 200 OK in 178ms (Views: 169.2ms | ActiveRecord: 0.5ms | Allocations: 40695)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 18:50:00 -0400
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"298486374"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 298486374], ["LIMIT", 1]]
  [1m[36mFavorite Create (0.8ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 298486374], ["created_at", "2023-05-07 22:50:00.988351"], ["updated_at", "2023-05-07 22:50:00.988351"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 7ms (ActiveRecord: 1.3ms | Allocations: 1858)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CommentsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 18:50:01 -0400
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 243)
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 18:50:01 -0400
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering comments/new.html.erb within layouts/application
  Rendered comments/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 974)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 3138)
Completed 200 OK in 13ms (Views: 7.9ms | ActiveRecord: 0.1ms | Allocations: 4256)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/new" for 127.0.0.1 at 2023-05-07 18:50:01 -0400
Processing by RestaurantsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 6.7ms | Allocations: 1866)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 9.4ms | Allocations: 2202)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | Allocations: 4373)
Completed 200 OK in 17ms (Views: 15.6ms | ActiveRecord: 0.0ms | Allocations: 5358)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:50:01 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 291)
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-05-07 18:50:01 -0400
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.1ms | Allocations: 765)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-05-07 18:50:01 -0400
Processing by RestaurantsController#index as HTML
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 199.1ms | Allocations: 34597)
Completed 200 OK in 210ms (Views: 205.2ms | ActiveRecord: 0.2ms | Allocations: 37151)
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
Started POST "/comments" for 127.0.0.1 at 2023-05-07 18:50:01 -0400
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
Processing by CommentsController#create as HTML
  Parameters: {"comment"=>{"body"=>"I am number one!"}}
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 14.7ms | Allocations: 7455)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | Allocations: 9622)
Completed 200 OK in 20ms (Views: 18.9ms | ActiveRecord: 0.6ms | Allocations: 10097)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
  [1m[36mComment Create (15.2ms)[0m  [1m[32mINSERT INTO "comments" ("user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["body", "I am number one!"], ["created_at", "2023-05-07 22:50:01.111218"], ["updated_at", "2023-05-07 22:50:01.111218"]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:50:01 -0400
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 24ms (ActiveRecord: 15.6ms | Allocations: 2577)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" ORDER BY "comments"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 291)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
Started POST "/restaurants" for 127.0.0.1 at 2023-05-07 18:50:01 -0400
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}}
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (0.5ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["created_at", "2023-05-07 22:50:01.141382"], ["updated_at", "2023-05-07 22:50:01.141382"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.7ms | Allocations: 783)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
RestaurantsControllerTest: test_should_search_restaurants
---------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/search?name=Cheesecake&location=Carr" for 127.0.0.1 at 2023-05-07 18:50:01 -0400
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:50:01 -0400
Processing by RestaurantsController#search as HTML
  Parameters: {"name"=>"Cheesecake", "location"=>"Carr"}
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (3.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 10.0ms | Allocations: 2330)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 374)
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 18:50:01 -0400
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 13.8ms | Allocations: 4489)
Completed 200 OK in 15ms (Views: 10.6ms | ActiveRecord: 3.7ms | Allocations: 4850)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
  Rendering layout layouts/application.html.erb
-----------------------------------------------------------------------------------------------------
  Rendering restaurants/edit.html.erb within layouts/application
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CommentTest: test_to_s_returns_comment_summary
----------------------------------------------
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendered restaurants/_form.html.erb (Duration: 3.8ms | Allocations: 2040)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 4.8ms | Allocations: 2458)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 4622)
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.1ms | Allocations: 5633)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"will_split"_votes_associated_with_the_restaurant
-------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"won't_split"_votes_associated_with_the_restaurant
--------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/user" for 127.0.0.1 at 2023-05-07 18:50:01 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
VotesControllerTest: test_should_create_vote
--------------------------------------------
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 18:50:01 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 234)
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = ?[0m  [["user_id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 181803346], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 18:50:01 -0400
  Rendered users/show.html.erb within layouts/application (Duration: 4.8ms | Allocations: 2096)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 2144)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.2ms | Allocations: 3115)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Create (4.2ms)[0m  [1m[32mINSERT INTO "votes" ("user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["will_split?", 1], ["created_at", "2023-05-07 22:50:01.243328"], ["updated_at", "2023-05-07 22:50:01.243328"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 12ms (ActiveRecord: 4.5ms | Allocations: 1523)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (23.2ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (5.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (34.0ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (7.5ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-07 23:01:24.478340', '2023-05-07 23:01:24.478340');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-07 23:01:24.478340', '2023-05-07 23:01:24.478340');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-07 23:01:24.487657', '2023-05-07 23:01:24.487657');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-07 23:01:24.487657', '2023-05-07 23:01:24.487657');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-07 23:01:24.487657', '2023-05-07 23:01:24.487657');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-07 23:01:24.487657', '2023-05-07 23:01:24.487657');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-07 23:01:24.489656', '2023-05-07 23:01:24.489656', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-07 23:01:24.489656', '2023-05-07 23:01:24.489656', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-07 23:01:24.489656', '2023-05-07 23:01:24.489656', 'Cookie');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (281110143, 'cj00216@my.westga.edu', '2023-05-07 23:01:24.489656', '2023-05-07 23:01:24.489656', 'chandan');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-07 23:01:24.491763', '2023-05-07 23:01:24.491763');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-07 23:01:24.491763', '2023-05-07 23:01:24.491763');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-07 23:01:24.493620', '2023-05-07 23:01:24.493620');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-07 23:01:24.493620', '2023-05-07 23:01:24.493620')[0m
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mFixtures Load (11.3ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-07 23:01:24.510839', '2023-05-07 23:01:24.510839');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-07 23:01:24.510839', '2023-05-07 23:01:24.510839');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-07 23:01:24.516256', '2023-05-07 23:01:24.516256');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-07 23:01:24.516256', '2023-05-07 23:01:24.516256');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-07 23:01:24.516256', '2023-05-07 23:01:24.516256');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-07 23:01:24.516256', '2023-05-07 23:01:24.516256');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-07 23:01:24.518284', '2023-05-07 23:01:24.518284', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-07 23:01:24.518284', '2023-05-07 23:01:24.518284', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-07 23:01:24.518284', '2023-05-07 23:01:24.518284', 'Cookie');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (281110143, 'cj00216@my.westga.edu', '2023-05-07 23:01:24.518284', '2023-05-07 23:01:24.518284', 'chandan');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-07 23:01:24.520837', '2023-05-07 23:01:24.520837');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-07 23:01:24.520837', '2023-05-07 23:01:24.520837');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-07 23:01:24.523926', '2023-05-07 23:01:24.523926');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-07 23:01:24.523926', '2023-05-07 23:01:24.523926')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mRestaurant Load (0.9ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"won't_split"_votes_associated_with_the_restaurant
--------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"will_split"_votes_associated_with_the_restaurant
-------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
VotesControllerTest: test_should_create_vote
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
FavoritesControllerTest: test_should_create_favorite
----------------------------------------------------
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 19:01:24 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 19:01:24 -0400
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"298486374"}
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
Completed 401 Unauthorized in 13ms (ActiveRecord: 0.0ms | Allocations: 1899)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 19:01:24 -0400
Completed 401 Unauthorized in 14ms (ActiveRecord: 0.0ms | Allocations: 1886)
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 181803346], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 181803346], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 19:01:24 -0400
  Rendering layout layouts/application.html.erb
  Rendering favorites/new.html.erb within layouts/application
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered favorites/_form.html.erb (Duration: 5.0ms | Allocations: 2506)
  [1m[36mVote Create (0.6ms)[0m  [1m[32mINSERT INTO "votes" ("user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["will_split?", 1], ["created_at", "2023-05-07 23:01:24.765083"], ["updated_at", "2023-05-07 23:01:24.765083"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 7ms (ActiveRecord: 0.9ms | Allocations: 1714)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
FavoritesControllerTest: test_should_destroy_favorite
-----------------------------------------------------
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered favorites/new.html.erb within layouts/application (Duration: 14.7ms | Allocations: 2936)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/favorites" for 127.0.0.1 at 2023-05-07 19:01:24 -0400
Processing by FavoritesController#destroy as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 247)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started DELETE "/favorites" for 127.0.0.1 at 2023-05-07 19:01:24 -0400
Processing by FavoritesController#destroy as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 181803346], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFavorite Destroy (0.6ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 4ms (ActiveRecord: 0.9ms | Allocations: 702)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CommentTest: test_to_s_returns_comment_summary
----------------------------------------------
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 19:01:24 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 465)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
Started POST "/restaurants" for 127.0.0.1 at 2023-05-07 19:01:24 -0400
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (0.5ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["created_at", "2023-05-07 23:01:24.835818"], ["updated_at", "2023-05-07 23:01:24.835818"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.7ms | Allocations: 954)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 19:01:24 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 291)
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 19:01:24 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 8.6ms | Allocations: 2291)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 10.0ms | Allocations: 2821)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 207.0ms | Allocations: 36241)
Completed 200 OK in 217ms (Views: 210.5ms | ActiveRecord: 0.4ms | Allocations: 39716)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 19:01:24 -0400
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"298486374"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 298486374], ["LIMIT", 1]]
  [1m[36mFavorite Create (12.5ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 298486374], ["created_at", "2023-05-07 23:01:24.977665"], ["updated_at", "2023-05-07 23:01:24.977665"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 19ms (ActiveRecord: 13.1ms | Allocations: 1876)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 133.9ms | Allocations: 36126)
Completed 200 OK in 139ms (Views: 136.7ms | ActiveRecord: 0.1ms | Allocations: 38059)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
Started GET "/restaurants" for 127.0.0.1 at 2023-05-07 19:01:25 -0400
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/new" for 127.0.0.1 at 2023-05-07 19:01:25 -0400
Processing by RestaurantsController#index as HTML
Processing by RestaurantsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 2.1ms | Allocations: 1044)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1253)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 3419)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms | Allocations: 3840)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
RestaurantsControllerTest: test_should_search_restaurants
---------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
Started GET "/search?name=Cheesecake&location=Carr" for 127.0.0.1 at 2023-05-07 19:01:25 -0400
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
Processing by RestaurantsController#search as HTML
  Parameters: {"name"=>"Cheesecake", "location"=>"Carr"}
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 12.8ms | Allocations: 3725)
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  Rendered layout layouts/application.html.erb (Duration: 18.4ms | Allocations: 5897)
Completed 200 OK in 33ms (Views: 24.9ms | ActiveRecord: 0.6ms | Allocations: 6947)
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  Rendered restaurants/index.html.erb within layouts/application (Duration: 9.5ms | Allocations: 3676)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 19:01:25 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 383)
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-05-07 19:01:25 -0400
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.1ms | Allocations: 765)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
UserTest: test_returns_whether_the_user_has_favorited_a_specific_restaurant
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 33.5ms | Allocations: 5836)
Completed 200 OK in 40ms (Views: 34.0ms | ActiveRecord: 0.6ms | Allocations: 6329)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_show
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" INNER JOIN "favorites" ON "restaurants"."id" = "favorites"."restaurant_id" WHERE "favorites"."user_id" = ? AND "restaurants"."id" = ? LIMIT ?[0m  [["user_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
-----------------------------------------
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" INNER JOIN "favorites" ON "restaurants"."id" = "favorites"."restaurant_id" WHERE "favorites"."user_id" = ? AND "restaurants"."id" = ? LIMIT ?[0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started GET "/user" for 127.0.0.1 at 2023-05-07 19:01:25 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CommentsControllerTest: test_should_create_comment
--------------------------------------------------
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 19:01:25 -0400
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = ?[0m  [["user_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = ?[0m  [["user_id", 281110143]]
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = ?[0m  [["user_id", 281110143]]
  Rendered users/show.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1715)
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
Started POST "/comments" for 127.0.0.1 at 2023-05-07 19:01:25 -0400
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 3888)
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.5ms | Allocations: 4868)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by CommentsController#create as HTML
  Parameters: {"comment"=>{"body"=>"I am number one!"}}
Redirected to http://www.example.com/restaurants
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CommentsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 362)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 19:01:25 -0400
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 19:01:25 -0400
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
  Rendering layout layouts/application.html.erb
  Rendering comments/new.html.erb within layouts/application
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 243)
  Rendered comments/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 966)
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 19:01:25 -0400
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering comments/new.html.erb within layouts/application
  Rendered comments/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 3131)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.1ms | Allocations: 4151)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 20.0ms | Allocations: 3130)
Completed 200 OK in 26ms (Views: 21.4ms | ActiveRecord: 0.1ms | Allocations: 4572)
Started POST "/comments" for 127.0.0.1 at 2023-05-07 19:01:25 -0400
Processing by CommentsController#create as HTML
  Parameters: {"comment"=>{"body"=>"I am number one!"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Create (0.9ms)[0m  [1m[32mINSERT INTO "comments" ("user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["body", "I am number one!"], ["created_at", "2023-05-07 23:01:25.146492"], ["updated_at", "2023-05-07 23:01:25.146492"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.3ms | Allocations: 2163)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" ORDER BY "comments"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (4.3ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (10.8ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (11.5ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-08 00:00:40.268749', '2023-05-08 00:00:40.268749');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-08 00:00:40.268749', '2023-05-08 00:00:40.268749');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-08 00:00:40.271406', '2023-05-08 00:00:40.271406');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-08 00:00:40.271406', '2023-05-08 00:00:40.271406');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-08 00:00:40.271406', '2023-05-08 00:00:40.271406');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-08 00:00:40.271406', '2023-05-08 00:00:40.271406');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-08 00:00:40.277350', '2023-05-08 00:00:40.277350', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-08 00:00:40.277350', '2023-05-08 00:00:40.277350', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-08 00:00:40.277350', '2023-05-08 00:00:40.277350', 'Cookie');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (281110143, 'cj00216@my.westga.edu', '2023-05-08 00:00:40.277350', '2023-05-08 00:00:40.277350', 'chandan');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-08 00:00:40.292722', '2023-05-08 00:00:40.292722');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-08 00:00:40.292722', '2023-05-08 00:00:40.292722');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-08 00:00:40.294277', '2023-05-08 00:00:40.294277');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-08 00:00:40.294277', '2023-05-08 00:00:40.294277')[0m
  [1m[36mFixtures Load (7.5ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-08 00:00:40.255931', '2023-05-08 00:00:40.255931');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-08 00:00:40.255931', '2023-05-08 00:00:40.255931');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-08 00:00:40.258679', '2023-05-08 00:00:40.258679');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-08 00:00:40.258679', '2023-05-08 00:00:40.258679');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-08 00:00:40.258679', '2023-05-08 00:00:40.258679');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-08 00:00:40.258679', '2023-05-08 00:00:40.258679');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-08 00:00:40.272562', '2023-05-08 00:00:40.272562', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-08 00:00:40.272562', '2023-05-08 00:00:40.272562', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-08 00:00:40.272562', '2023-05-08 00:00:40.272562', 'Cookie');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (281110143, 'cj00216@my.westga.edu', '2023-05-08 00:00:40.272562', '2023-05-08 00:00:40.272562', 'chandan');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-08 00:00:40.274620', '2023-05-08 00:00:40.274620');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-08 00:00:40.274620', '2023-05-08 00:00:40.274620');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-08 00:00:40.278611', '2023-05-08 00:00:40.278611');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-08 00:00:40.278611', '2023-05-08 00:00:40.278611')[0m
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CommentTest: test_to_s_returns_comment_summary
----------------------------------------------
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (17.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
UserTest: test_returns_whether_the_user_has_favorited_a_specific_restaurant
---------------------------------------------------------------------------
  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
FavoritesControllerTest: test_should_destroy_favorite
-----------------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mRestaurant Exists? (4.3ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" INNER JOIN "favorites" ON "restaurants"."id" = "favorites"."restaurant_id" WHERE "favorites"."user_id" = ? AND "restaurants"."id" = ? LIMIT ?[0m  [["user_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" INNER JOIN "favorites" ON "restaurants"."id" = "favorites"."restaurant_id" WHERE "favorites"."user_id" = ? AND "restaurants"."id" = ? LIMIT ?[0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
FavoritesControllerTest: test_should_create_favorite
----------------------------------------------------
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/favorites" for 127.0.0.1 at 2023-05-07 20:00:40 -0400
Processing by FavoritesController#destroy as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
Completed 401 Unauthorized in 14ms (ActiveRecord: 0.0ms | Allocations: 1898)
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started DELETE "/favorites" for 127.0.0.1 at 2023-05-07 20:00:40 -0400
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 20:00:40 -0400
Processing by FavoritesController#destroy as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 181803346], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFavorite Destroy (12.6ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"298486374"}
Redirected to http://www.example.com/restaurants
Completed 302 Found in 16ms (ActiveRecord: 12.9ms | Allocations: 768)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CommentsControllerTest: test_should_create_comment
--------------------------------------------------
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 16ms (ActiveRecord: 0.0ms | Allocations: 1898)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 20:00:40 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 20:00:40 -0400
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 243)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 181803346], ["LIMIT", 1]]
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 181803346], ["LIMIT", 1]]
Started POST "/comments" for 127.0.0.1 at 2023-05-07 20:00:40 -0400
Processing by CommentsController#create as HTML
  Parameters: {"comment"=>{"body"=>"I am number one!"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 367)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 20:00:40 -0400
  Rendering layout layouts/application.html.erb
Processing by CommentsController#new as HTML
  Rendering favorites/new.html.erb within layouts/application
  Parameters: {"restaurant_id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered favorites/_form.html.erb (Duration: 13.4ms | Allocations: 2505)
  Rendered favorites/new.html.erb within layouts/application (Duration: 15.1ms | Allocations: 2935)
  Rendering layout layouts/application.html.erb
  Rendering comments/new.html.erb within layouts/application
  Rendered comments/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1406)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 133.6ms | Allocations: 38609)
Completed 200 OK in 176ms (Views: 172.1ms | ActiveRecord: 0.2ms | Allocations: 41150)
Started POST "/comments" for 127.0.0.1 at 2023-05-07 20:00:40 -0400
Processing by CommentsController#create as HTML
  Parameters: {"comment"=>{"body"=>"I am number one!"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Create (11.1ms)[0m  [1m[32mINSERT INTO "comments" ("user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["body", "I am number one!"], ["created_at", "2023-05-08 00:00:40.766464"], ["updated_at", "2023-05-08 00:00:40.766464"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 21ms (ActiveRecord: 11.8ms | Allocations: 2072)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 211.9ms | Allocations: 38635)
Completed 200 OK in 234ms (Views: 218.2ms | ActiveRecord: 0.6ms | Allocations: 42349)
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" ORDER BY "comments"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mrollback transaction[0m
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 20:00:40 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CommentsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"298486374"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 20:00:40 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 298486374], ["LIMIT", 1]]
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 298486374], ["created_at", "2023-05-08 00:00:40.802614"], ["updated_at", "2023-05-08 00:00:40.802614"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 7ms (ActiveRecord: 1.0ms | Allocations: 1872)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"will_split"_votes_associated_with_the_restaurant
-------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.0ms | Allocations: 168)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"won't_split"_votes_associated_with_the_restaurant
--------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 20:00:40 -0400
  [1m[36mRestaurant Load (2.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 20:00:40 -0400
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering comments/new.html.erb within layouts/application
  Rendered comments/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 411)
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 2542)
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 466)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.2ms | Allocations: 2952)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started POST "/restaurants" for 127.0.0.1 at 2023-05-07 20:00:40 -0400
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-05-07 20:00:40 -0400
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (0.4ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["created_at", "2023-05-08 00:00:40.848440"], ["updated_at", "2023-05-08 00:00:40.848440"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 953)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
RestaurantsControllerTest: test_should_search_restaurants
---------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/search?name=Cheesecake&location=Carr" for 127.0.0.1 at 2023-05-07 20:00:40 -0400
Processing by RestaurantsController#index as HTML
Processing by RestaurantsController#search as HTML
  Parameters: {"name"=>"Cheesecake", "location"=>"Carr"}
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 10.1ms | Allocations: 3644)
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | Allocations: 5781)
Completed 200 OK in 19ms (Views: 18.1ms | ActiveRecord: 0.7ms | Allocations: 6762)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 20:00:40 -0400
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 291)
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-05-07 20:00:40 -0400
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 41.5ms | Allocations: 7565)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 45.3ms | Allocations: 9709)
Completed 200 OK in 50ms (Views: 48.3ms | ActiveRecord: 0.7ms | Allocations: 10754)
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/new" for 127.0.0.1 at 2023-05-07 20:00:40 -0400
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 8ms (ActiveRecord: 0.1ms | Allocations: 645)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by RestaurantsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered restaurants/_form.html.erb (Duration: 3.8ms | Allocations: 1936)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 5.9ms | Allocations: 2279)
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 20:00:40 -0400
[Webpacker] Everything's up-to-date. Nothing to do
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 4417)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 11ms (Views: 10.2ms | ActiveRecord: 0.0ms | Allocations: 4832)
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 291)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 20:00:40 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
Started GET "/user" for 127.0.0.1 at 2023-05-07 20:00:40 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 4.5ms | Allocations: 1857)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 5.4ms | Allocations: 2258)
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = ?[0m  [["user_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = ?[0m  [["user_id", 281110143]]
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 4389)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.1ms | Allocations: 4917)
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = ?[0m  [["user_id", 281110143]]
  Rendered users/show.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1703)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
VotesControllerTest: test_should_create_vote
--------------------------------------------
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 20:00:40 -0400
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 3847)
Completed 200 OK in 14ms (Views: 13.4ms | ActiveRecord: 0.4ms | Allocations: 4827)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 234)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
Started POST "/votes" for 127.0.0.1 at 2023-05-07 20:00:40 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Create (0.4ms)[0m  [1m[32mINSERT INTO "votes" ("user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["will_split?", 1], ["created_at", "2023-05-08 00:00:40.983380"], ["updated_at", "2023-05-08 00:00:40.983380"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 12ms (ActiveRecord: 0.7ms | Allocations: 1524)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (46.4ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (2.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (39.0ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-08 00:06:56.607198', '2023-05-08 00:06:56.607198');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-08 00:06:56.607198', '2023-05-08 00:06:56.607198');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-08 00:06:56.614750', '2023-05-08 00:06:56.614750');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-08 00:06:56.614750', '2023-05-08 00:06:56.614750');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-08 00:06:56.614750', '2023-05-08 00:06:56.614750');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-08 00:06:56.614750', '2023-05-08 00:06:56.614750');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-08 00:06:56.616689', '2023-05-08 00:06:56.616689', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-08 00:06:56.616689', '2023-05-08 00:06:56.616689', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-08 00:06:56.616689', '2023-05-08 00:06:56.616689', 'Cookie');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (281110143, 'cj00216@my.westga.edu', '2023-05-08 00:06:56.616689', '2023-05-08 00:06:56.616689', 'chandan');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-08 00:06:56.618913', '2023-05-08 00:06:56.618913');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-08 00:06:56.618913', '2023-05-08 00:06:56.618913');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-08 00:06:56.620849', '2023-05-08 00:06:56.620849');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-08 00:06:56.620849', '2023-05-08 00:06:56.620849')[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CommentTest: test_to_s_returns_comment_summary
----------------------------------------------
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[36mFixtures Load (13.2ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-08 00:06:56.642512', '2023-05-08 00:06:56.642512');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-08 00:06:56.642512', '2023-05-08 00:06:56.642512');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-08 00:06:56.649692', '2023-05-08 00:06:56.649692');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-08 00:06:56.649692', '2023-05-08 00:06:56.649692');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-08 00:06:56.649692', '2023-05-08 00:06:56.649692');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-08 00:06:56.649692', '2023-05-08 00:06:56.649692');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-08 00:06:56.652773', '2023-05-08 00:06:56.652773', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-08 00:06:56.652773', '2023-05-08 00:06:56.652773', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-08 00:06:56.652773', '2023-05-08 00:06:56.652773', 'Cookie');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (281110143, 'cj00216@my.westga.edu', '2023-05-08 00:06:56.652773', '2023-05-08 00:06:56.652773', 'chandan');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-08 00:06:56.655700', '2023-05-08 00:06:56.655700');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-08 00:06:56.655700', '2023-05-08 00:06:56.655700');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-08 00:06:56.657513', '2023-05-08 00:06:56.657513');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-08 00:06:56.657513', '2023-05-08 00:06:56.657513')[0m
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
UserTest: test_returns_whether_the_user_has_favorited_a_specific_restaurant
---------------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" INNER JOIN "favorites" ON "restaurants"."id" = "favorites"."restaurant_id" WHERE "favorites"."user_id" = ? AND "restaurants"."id" = ? LIMIT ?[0m  [["user_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" INNER JOIN "favorites" ON "restaurants"."id" = "favorites"."restaurant_id" WHERE "favorites"."user_id" = ? AND "restaurants"."id" = ? LIMIT ?[0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
VotesControllerTest: test_should_create_vote
--------------------------------------------
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 20:06:56 -0400
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
Started GET "/user" for 127.0.0.1 at 2023-05-07 20:06:56 -0400
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
Completed 401 Unauthorized in 14ms (ActiveRecord: 0.0ms | Allocations: 1885)
Processing by UsersController#show as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 20:06:56 -0400
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = ?[0m  [["user_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = ?[0m  [["user_id", 281110143]]
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = ?[0m  [["user_id", 281110143]]
  [1m[36mVote Create (7.6ms)[0m  [1m[32mINSERT INTO "votes" ("user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["will_split?", 1], ["created_at", "2023-05-08 00:06:56.942908"], ["updated_at", "2023-05-08 00:06:56.942908"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendered users/show.html.erb within layouts/application (Duration: 7.0ms | Allocations: 2635)
Redirected to http://www.example.com/restaurants
Completed 302 Found in 17ms (ActiveRecord: 8.0ms | Allocations: 2054)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"won't_split"_votes_associated_with_the_restaurant
--------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"will_split"_votes_associated_with_the_restaurant
-------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 20:06:56 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 466)
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 20:06:57 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 5.3ms | Allocations: 2343)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 6.7ms | Allocations: 2873)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 132.1ms | Allocations: 36890)
Completed 200 OK in 145ms (Views: 135.3ms | ActiveRecord: 0.4ms | Allocations: 40419)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/new" for 127.0.0.1 at 2023-05-07 20:06:57 -0400
Processing by RestaurantsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 6.4ms | Allocations: 4035)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 7.3ms | Allocations: 4378)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 6549)
Completed 200 OK in 13ms (Views: 12.0ms | ActiveRecord: 0.0ms | Allocations: 7548)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-05-07 20:06:57 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 14.1ms | Allocations: 6729)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 17.6ms | Allocations: 8896)
Completed 200 OK in 19ms (Views: 17.4ms | ActiveRecord: 0.7ms | Allocations: 9377)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
RestaurantsControllerTest: test_should_search_restaurants
---------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/search?name=Cheesecake&location=Carr" for 127.0.0.1 at 2023-05-07 20:06:57 -0400
Processing by RestaurantsController#search as HTML
  Parameters: {"name"=>"Cheesecake", "location"=>"Carr"}
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 2329)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 4488)
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.7ms | Allocations: 4857)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 148.8ms | Allocations: 37154)
Completed 200 OK in 154ms (Views: 151.3ms | ActiveRecord: 0.1ms | Allocations: 39086)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 20:06:57 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 20:06:57 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.1ms | Allocations: 384)
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 291)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-05-07 20:06:57 -0400
Started POST "/restaurants" for 127.0.0.1 at 2023-05-07 20:06:57 -0400
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}}
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 871)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CommentsControllerTest: test_should_create_comment
--------------------------------------------------
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 20:06:57 -0400
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
  [1m[36mRestaurant Create (10.9ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["created_at", "2023-05-08 00:06:57.197832"], ["updated_at", "2023-05-08 00:06:57.197832"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 243)
Redirected to http://www.example.com/restaurants/980190963
Completed 302 Found in 14ms (ActiveRecord: 11.1ms | Allocations: 903)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
Started POST "/comments" for 127.0.0.1 at 2023-05-07 20:06:57 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
Processing by CommentsController#create as HTML
  Parameters: {"comment"=>{"body"=>"I am number one!"}}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/restaurants
Completed 302 Found in 3ms (ActiveRecord: 0.0ms | Allocations: 362)
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 20:06:57 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CommentsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering comments/new.html.erb within layouts/application
  Rendered comments/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 977)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 3142)
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 0.2ms | Allocations: 4662)
Started POST "/comments" for 127.0.0.1 at 2023-05-07 20:06:57 -0400
Processing by CommentsController#create as HTML
  Parameters: {"comment"=>{"body"=>"I am number one!"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Create (3.6ms)[0m  [1m[32mINSERT INTO "comments" ("user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["body", "I am number one!"], ["created_at", "2023-05-08 00:06:57.255451"], ["updated_at", "2023-05-08 00:06:57.255451"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 12ms (ActiveRecord: 4.1ms | Allocations: 1992)
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 20:06:57 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" ORDER BY "comments"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms | Allocations: 243)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 20:06:57 -0400
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  Rendering layout layouts/application.html.erb
  Rendering comments/new.html.erb within layouts/application
  Rendered comments/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 989)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 3154)
Completed 200 OK in 12ms (Views: 10.8ms | ActiveRecord: 0.1ms | Allocations: 4182)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
FavoritesControllerTest: test_should_create_favorite
----------------------------------------------------
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
FavoritesControllerTest: test_should_destroy_favorite
-----------------------------------------------------
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 20:06:57 -0400
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/favorites" for 127.0.0.1 at 2023-05-07 20:06:57 -0400
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"298486374"}
Processing by FavoritesController#destroy as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 247)
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 247)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started DELETE "/favorites" for 127.0.0.1 at 2023-05-07 20:06:57 -0400
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 20:06:57 -0400
Processing by FavoritesController#destroy as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 181803346], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFavorite Destroy (3.1ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 6ms (ActiveRecord: 3.4ms | Allocations: 696)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mrollback transaction[0m
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 181803346], ["LIMIT", 1]]
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 181803346], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering favorites/new.html.erb within layouts/application
  Rendered favorites/_form.html.erb (Duration: 3.7ms | Allocations: 2058)
  Rendered favorites/new.html.erb within layouts/application (Duration: 4.5ms | Allocations: 2360)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 4524)
Completed 200 OK in 15ms (Views: 9.7ms | ActiveRecord: 0.5ms | Allocations: 6939)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 20:06:57 -0400
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"298486374"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 298486374], ["LIMIT", 1]]
  [1m[36mFavorite Create (3.0ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 298486374], ["created_at", "2023-05-08 00:06:57.375976"], ["updated_at", "2023-05-08 00:06:57.375976"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 11ms (ActiveRecord: 5.8ms | Allocations: 1740)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (5.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (38.9ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (36.0ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.2ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-08 00:07:44.909243', '2023-05-08 00:07:44.909243');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-08 00:07:44.909243', '2023-05-08 00:07:44.909243');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-08 00:07:44.924600', '2023-05-08 00:07:44.924600');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-08 00:07:44.924600', '2023-05-08 00:07:44.924600');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-08 00:07:44.924600', '2023-05-08 00:07:44.924600');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-08 00:07:44.924600', '2023-05-08 00:07:44.924600');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-08 00:07:44.926291', '2023-05-08 00:07:44.926291', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-08 00:07:44.926291', '2023-05-08 00:07:44.926291', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-08 00:07:44.926291', '2023-05-08 00:07:44.926291', 'Cookie');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (281110143, 'cj00216@my.westga.edu', '2023-05-08 00:07:44.926291', '2023-05-08 00:07:44.926291', 'chandan');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-08 00:07:44.928068', '2023-05-08 00:07:44.928068');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-08 00:07:44.928068', '2023-05-08 00:07:44.928068');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-08 00:07:44.929521', '2023-05-08 00:07:44.929521');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-08 00:07:44.929521', '2023-05-08 00:07:44.929521')[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"will_split"_votes_associated_with_the_restaurant
-------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mFixtures Load (8.8ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-08 00:07:44.909601', '2023-05-08 00:07:44.909601');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-08 00:07:44.909601', '2023-05-08 00:07:44.909601');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-08 00:07:44.912191', '2023-05-08 00:07:44.912191');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-08 00:07:44.912191', '2023-05-08 00:07:44.912191');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-08 00:07:44.912191', '2023-05-08 00:07:44.912191');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-08 00:07:44.912191', '2023-05-08 00:07:44.912191');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-08 00:07:44.913618', '2023-05-08 00:07:44.913618', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-08 00:07:44.913618', '2023-05-08 00:07:44.913618', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-08 00:07:44.913618', '2023-05-08 00:07:44.913618', 'Cookie');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (281110143, 'cj00216@my.westga.edu', '2023-05-08 00:07:44.913618', '2023-05-08 00:07:44.913618', 'chandan');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-08 00:07:44.915360', '2023-05-08 00:07:44.915360');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-08 00:07:44.915360', '2023-05-08 00:07:44.915360');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-08 00:07:44.925271', '2023-05-08 00:07:44.925271');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-08 00:07:44.925271', '2023-05-08 00:07:44.925271')[0m
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"won't_split"_votes_associated_with_the_restaurant
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
--------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
FavoritesControllerTest: test_should_create_favorite
----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
FavoritesControllerTest: test_should_destroy_favorite
-----------------------------------------------------
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started DELETE "/favorites" for 127.0.0.1 at 2023-05-07 20:07:45 -0400
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 20:07:45 -0400
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"298486374"}
Processing by FavoritesController#destroy as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
Completed 401 Unauthorized in 14ms (ActiveRecord: 0.0ms | Allocations: 1898)
Completed 401 Unauthorized in 13ms (ActiveRecord: 0.0ms | Allocations: 1898)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started DELETE "/favorites" for 127.0.0.1 at 2023-05-07 20:07:45 -0400
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 20:07:45 -0400
Processing by FavoritesController#destroy as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 181803346], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFavorite Destroy (3.5ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 7ms (ActiveRecord: 3.9ms | Allocations: 771)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
UserTest: test_returns_whether_the_user_has_favorited_a_specific_restaurant
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 181803346], ["LIMIT", 1]]
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 181803346], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" INNER JOIN "favorites" ON "restaurants"."id" = "favorites"."restaurant_id" WHERE "favorites"."user_id" = ? AND "restaurants"."id" = ? LIMIT ?[0m  [["user_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" INNER JOIN "favorites" ON "restaurants"."id" = "favorites"."restaurant_id" WHERE "favorites"."user_id" = ? AND "restaurants"."id" = ? LIMIT ?[0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering layout layouts/application.html.erb
  Rendering favorites/new.html.erb within layouts/application
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
VotesControllerTest: test_should_create_vote
--------------------------------------------
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered favorites/_form.html.erb (Duration: 6.9ms | Allocations: 2505)
  Rendered favorites/new.html.erb within layouts/application (Duration: 8.2ms | Allocations: 2935)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 20:07:45 -0400
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 234)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 20:07:45 -0400
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Create (3.4ms)[0m  [1m[32mINSERT INTO "votes" ("user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["will_split?", 1], ["created_at", "2023-05-08 00:07:45.180755"], ["updated_at", "2023-05-08 00:07:45.180755"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 10ms (ActiveRecord: 3.7ms | Allocations: 1982)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 20:07:45 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 465)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
Started POST "/restaurants" for 127.0.0.1 at 2023-05-07 20:07:45 -0400
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (2.7ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["created_at", "2023-05-08 00:07:45.252369"], ["updated_at", "2023-05-08 00:07:45.252369"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190963
Completed 302 Found in 6ms (ActiveRecord: 2.9ms | Allocations: 956)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-05-07 20:07:45 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 4276)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 224.9ms | Allocations: 37438)
Completed 200 OK in 250ms (Views: 230.9ms | ActiveRecord: 1.2ms | Allocations: 40910)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 20:07:45 -0400
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"298486374"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 298486374], ["LIMIT", 1]]
  [1m[36mFavorite Create (8.4ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 298486374], ["created_at", "2023-05-08 00:07:45.379492"], ["updated_at", "2023-05-08 00:07:45.379492"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 16ms (ActiveRecord: 9.1ms | Allocations: 1854)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 20:07:45 -0400
[Webpacker] Everything's up-to-date. Nothing to do
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 466)
  Rendered layout layouts/application.html.erb (Duration: 147.8ms | Allocations: 38785)
Completed 200 OK in 156ms (Views: 149.9ms | ActiveRecord: 0.6ms | Allocations: 40670)
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-05-07 20:07:45 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Redirected to http://www.example.com/restaurants/980190962
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 814)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 20:07:45 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
RestaurantsControllerTest: test_should_search_restaurants
---------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/search?name=Cheesecake&location=Carr" for 127.0.0.1 at 2023-05-07 20:07:45 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 291)
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 20:07:45 -0400
Processing by RestaurantsController#search as HTML
  Parameters: {"name"=>"Cheesecake", "location"=>"Carr"}
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  Rendering restaurants/edit.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  Rendered restaurants/_form.html.erb (Duration: 3.2ms | Allocations: 1995)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 4.2ms | Allocations: 2405)
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered restaurants/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 3675)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 4564)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.1ms | Allocations: 5088)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 5840)
Completed 200 OK in 15ms (Views: 14.0ms | ActiveRecord: 0.5ms | Allocations: 6821)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CommentsControllerTest: test_should_create_comment
--------------------------------------------------
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/new" for 127.0.0.1 at 2023-05-07 20:07:45 -0400
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by RestaurantsController#new as HTML
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 20:07:45 -0400
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 1.9ms | Allocations: 1044)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1253)
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 243)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 3419)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms | Allocations: 3840)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/comments" for 127.0.0.1 at 2023-05-07 20:07:45 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CommentsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by CommentsController#create as HTML
  Parameters: {"comment"=>{"body"=>"I am number one!"}}
Redirected to http://www.example.com/restaurants
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 362)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 20:07:45 -0400
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 20:07:45 -0400
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering comments/new.html.erb within layouts/application
  Rendered comments/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 974)
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 243)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 3138)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.1ms | Allocations: 4595)
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 20:07:45 -0400
Started POST "/comments" for 127.0.0.1 at 2023-05-07 20:07:45 -0400
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by CommentsController#create as HTML
  Parameters: {"comment"=>{"body"=>"I am number one!"}}
  Rendering layout layouts/application.html.erb
  Rendering comments/new.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendered comments/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 974)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 3138)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.1ms | Allocations: 4159)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
Started GET "/user" for 127.0.0.1 at 2023-05-07 20:07:45 -0400
Processing by UsersController#show as HTML
  [1m[36mComment Create (12.6ms)[0m  [1m[32mINSERT INTO "comments" ("user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["body", "I am number one!"], ["created_at", "2023-05-08 00:07:45.511156"], ["updated_at", "2023-05-08 00:07:45.511156"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 19ms (ActiveRecord: 13.2ms | Allocations: 2165)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" ORDER BY "comments"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mrollback transaction[0m
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = ?[0m  [["user_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = ?[0m  [["user_id", 281110143]]
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = ?[0m  [["user_id", 281110143]]
  Rendered users/show.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1661)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 3833)
Completed 200 OK in 24ms (Views: 14.3ms | ActiveRecord: 0.4ms | Allocations: 4813)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (24.8ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (32.4ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (16.5ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-08 00:08:14.492421', '2023-05-08 00:08:14.492421');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-08 00:08:14.492421', '2023-05-08 00:08:14.492421');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-08 00:08:14.495156', '2023-05-08 00:08:14.495156');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-08 00:08:14.495156', '2023-05-08 00:08:14.495156');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-08 00:08:14.495156', '2023-05-08 00:08:14.495156');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-08 00:08:14.495156', '2023-05-08 00:08:14.495156');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-08 00:08:14.505037', '2023-05-08 00:08:14.505037', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-08 00:08:14.505037', '2023-05-08 00:08:14.505037', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-08 00:08:14.505037', '2023-05-08 00:08:14.505037', 'Cookie');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (281110143, 'cj00216@my.westga.edu', '2023-05-08 00:08:14.505037', '2023-05-08 00:08:14.505037', 'chandan');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-08 00:08:14.508569', '2023-05-08 00:08:14.508569');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-08 00:08:14.508569', '2023-05-08 00:08:14.508569');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-08 00:08:14.510163', '2023-05-08 00:08:14.510163');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-08 00:08:14.510163', '2023-05-08 00:08:14.510163')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
UserTest: test_returns_whether_the_user_has_favorited_a_specific_restaurant
---------------------------------------------------------------------------
  [1m[36mFixtures Load (6.7ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-08 00:08:14.498309', '2023-05-08 00:08:14.498309');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-08 00:08:14.498309', '2023-05-08 00:08:14.498309');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-08 00:08:14.500785', '2023-05-08 00:08:14.500785');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-08 00:08:14.500785', '2023-05-08 00:08:14.500785');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-08 00:08:14.500785', '2023-05-08 00:08:14.500785');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-08 00:08:14.500785', '2023-05-08 00:08:14.500785');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-08 00:08:14.502316', '2023-05-08 00:08:14.502316', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-08 00:08:14.502316', '2023-05-08 00:08:14.502316', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-08 00:08:14.502316', '2023-05-08 00:08:14.502316', 'Cookie');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (281110143, 'cj00216@my.westga.edu', '2023-05-08 00:08:14.502316', '2023-05-08 00:08:14.502316', 'chandan');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-08 00:08:14.516314', '2023-05-08 00:08:14.516314');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-08 00:08:14.516314', '2023-05-08 00:08:14.516314');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-08 00:08:14.520738', '2023-05-08 00:08:14.520738');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-08 00:08:14.520738', '2023-05-08 00:08:14.520738')[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" INNER JOIN "favorites" ON "restaurants"."id" = "favorites"."restaurant_id" WHERE "favorites"."user_id" = ? AND "restaurants"."id" = ? LIMIT ?[0m  [["user_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" INNER JOIN "favorites" ON "restaurants"."id" = "favorites"."restaurant_id" WHERE "favorites"."user_id" = ? AND "restaurants"."id" = ? LIMIT ?[0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CommentsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
Started GET "/user" for 127.0.0.1 at 2023-05-07 20:08:14 -0400
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by UsersController#show as HTML
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 20:08:14 -0400
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = ?[0m  [["user_id", 281110143]]
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = ?[0m  [["user_id", 281110143]]
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = ?[0m  [["user_id", 281110143]]
  Rendered users/show.html.erb within layouts/application (Duration: 8.1ms | Allocations: 3500)
Completed 401 Unauthorized in 13ms (ActiveRecord: 0.0ms | Allocations: 1894)
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 20:08:14 -0400
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering comments/new.html.erb within layouts/application
  Rendered comments/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1413)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 134.0ms | Allocations: 38177)
Completed 200 OK in 147ms (Views: 136.2ms | ActiveRecord: 0.4ms | Allocations: 41709)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CommentsControllerTest: test_should_create_comment
--------------------------------------------------
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 20:08:14 -0400
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 250)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 128.0ms | Allocations: 36091)
Completed 200 OK in 133ms (Views: 130.4ms | ActiveRecord: 0.1ms | Allocations: 38158)
Started POST "/comments" for 127.0.0.1 at 2023-05-07 20:08:14 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
VotesControllerTest: test_should_create_vote
--------------------------------------------
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by CommentsController#create as HTML
  Parameters: {"comment"=>{"body"=>"I am number one!"}}
Redirected to http://www.example.com/restaurants
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 386)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 20:08:14 -0400
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering comments/new.html.erb within layouts/application
Started POST "/votes" for 127.0.0.1 at 2023-05-07 20:08:14 -0400
  Rendered comments/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1285)
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 234)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 3449)
Completed 200 OK in 13ms (Views: 8.2ms | ActiveRecord: 0.3ms | Allocations: 5074)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/comments" for 127.0.0.1 at 2023-05-07 20:08:14 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 20:08:14 -0400
Processing by CommentsController#create as HTML
  Parameters: {"comment"=>{"body"=>"I am number one!"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Create (10.3ms)[0m  [1m[32mINSERT INTO "comments" ("user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["body", "I am number one!"], ["created_at", "2023-05-08 00:08:14.913224"], ["updated_at", "2023-05-08 00:08:14.913224"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mVote Create (11.2ms)[0m  [1m[32mINSERT INTO "votes" ("user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["will_split?", 1], ["created_at", "2023-05-08 00:08:14.915184"], ["updated_at", "2023-05-08 00:08:14.915184"]]
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 21ms (ActiveRecord: 10.9ms | Allocations: 2586)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 19ms (ActiveRecord: 11.6ms | Allocations: 2019)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" ORDER BY "comments"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"won't_split"_votes_associated_with_the_restaurant
--------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
-------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"will_split"_votes_associated_with_the_restaurant
-------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mVote Load (0.7ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CommentTest: test_to_s_returns_comment_summary
----------------------------------------------
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 20:08:14 -0400
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-05-07 20:08:14 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 374)
Processing by RestaurantsController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
Started POST "/restaurants" for 127.0.0.1 at 2023-05-07 20:08:14 -0400
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRestaurant Create (2.5ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["created_at", "2023-05-08 00:08:14.995211"], ["updated_at", "2023-05-08 00:08:14.995211"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190963
Completed 302 Found in 6ms (ActiveRecord: 2.6ms | Allocations: 952)
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 23.0ms | Allocations: 3737)
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 28.1ms | Allocations: 5909)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
Completed 200 OK in 30ms (Views: 28.8ms | ActiveRecord: 0.6ms | Allocations: 6954)
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 20:08:15 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.1ms | Allocations: 291)
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-05-07 20:08:15 -0400
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 645)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 20:08:15 -0400
Started GET "/restaurants/new" for 127.0.0.1 at 2023-05-07 20:08:15 -0400
Processing by RestaurantsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 3.3ms | Allocations: 1949)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 2295)
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 4466)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.0ms | Allocations: 5368)
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 291)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
RestaurantsControllerTest: test_should_search_restaurants
---------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 20:08:15 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
Started GET "/search?name=Cheesecake&location=Carr" for 127.0.0.1 at 2023-05-07 20:08:15 -0400
  Rendered restaurants/_form.html.erb (Duration: 10.1ms | Allocations: 1976)
Processing by RestaurantsController#search as HTML
  Parameters: {"name"=>"Cheesecake", "location"=>"Carr"}
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 11.2ms | Allocations: 2386)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 22.6ms | Allocations: 4545)
Completed 200 OK in 24ms (Views: 23.0ms | ActiveRecord: 0.1ms | Allocations: 5069)
  [1m[36mRestaurant Load (10.7ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 26.1ms | Allocations: 3643)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 31.8ms | Allocations: 5804)
Completed 200 OK in 33ms (Views: 21.5ms | ActiveRecord: 11.2ms | Allocations: 6300)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
FavoritesControllerTest: test_should_create_favorite
----------------------------------------------------
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
FavoritesControllerTest: test_should_destroy_favorite
-----------------------------------------------------
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 20:08:15 -0400
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/favorites" for 127.0.0.1 at 2023-05-07 20:08:15 -0400
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"298486374"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 247)
Processing by FavoritesController#destroy as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 247)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 20:08:15 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started DELETE "/favorites" for 127.0.0.1 at 2023-05-07 20:08:15 -0400
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Processing by FavoritesController#destroy as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 181803346], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 181803346], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFavorite Destroy (0.6ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 3ms (ActiveRecord: 0.9ms | Allocations: 695)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mFavorite Exists? (4.8ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 181803346], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering favorites/new.html.erb within layouts/application
  Rendered favorites/_form.html.erb (Duration: 6.2ms | Allocations: 2058)
  Rendered favorites/new.html.erb within layouts/application (Duration: 7.2ms | Allocations: 2363)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 4528)
Completed 200 OK in 27ms (Views: 16.8ms | ActiveRecord: 5.5ms | Allocations: 6947)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 20:08:15 -0400
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"298486374"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 298486374], ["LIMIT", 1]]
  [1m[36mFavorite Create (0.8ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 298486374], ["created_at", "2023-05-08 00:08:15.190759"], ["updated_at", "2023-05-08 00:08:15.190759"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 6ms (ActiveRecord: 1.3ms | Allocations: 1733)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (50.6ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (47.5ms)[0m  [1m[31mDELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "favorites";
DELETE FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (3.5ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-08 00:08:28.033374', '2023-05-08 00:08:28.033374');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-08 00:08:28.033374', '2023-05-08 00:08:28.033374');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-08 00:08:28.042152', '2023-05-08 00:08:28.042152');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-08 00:08:28.042152', '2023-05-08 00:08:28.042152');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-08 00:08:28.042152', '2023-05-08 00:08:28.042152');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-08 00:08:28.042152', '2023-05-08 00:08:28.042152');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-08 00:08:28.043954', '2023-05-08 00:08:28.043954', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-08 00:08:28.043954', '2023-05-08 00:08:28.043954', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-08 00:08:28.043954', '2023-05-08 00:08:28.043954', 'Cookie');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (281110143, 'cj00216@my.westga.edu', '2023-05-08 00:08:28.043954', '2023-05-08 00:08:28.043954', 'chandan');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-08 00:08:28.045664', '2023-05-08 00:08:28.045664');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-08 00:08:28.045664', '2023-05-08 00:08:28.045664');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-08 00:08:28.047115', '2023-05-08 00:08:28.047115');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-08 00:08:28.047115', '2023-05-08 00:08:28.047115')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (1.9ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
FavoritesControllerTest: test_should_create_favorite
----------------------------------------------------
  [1m[36mFixtures Load (10.8ms)[0m  [1m[31mDELETE FROM "favorites";
DELETE FROM "restaurants";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "votes";
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, '2023-05-08 00:08:28.034972', '2023-05-08 00:08:28.034972');
INSERT INTO "favorites" ("id", "user_id", "restaurant_id", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, '2023-05-08 00:08:28.034972', '2023-05-08 00:08:28.034972');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (980190962, 'Cheesecake Factory', 'Carrollton', '2023-05-08 00:08:28.050331', '2023-05-08 00:08:28.050331');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (298486374, 'Subway', 'Carrollton', '2023-05-08 00:08:28.050331', '2023-05-08 00:08:28.050331');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (113629430, 'Chinese Restaurant', 'Atlanta', '2023-05-08 00:08:28.050331', '2023-05-08 00:08:28.050331');
INSERT INTO "restaurants" ("id", "name", "location", "created_at", "updated_at") VALUES (281110143, 'Spain Restaurant', 'Atlanta', '2023-05-08 00:08:28.050331', '2023-05-08 00:08:28.050331');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (980190962, 'chandan@westga.com', '2023-05-08 00:08:28.051820', '2023-05-08 00:08:28.051820', 'Mr. One');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (298486374, 'temp@gmail.com', '2023-05-08 00:08:28.051820', '2023-05-08 00:08:28.051820', 'Number 2');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (113629430, 'third@mail.com', '2023-05-08 00:08:28.051820', '2023-05-08 00:08:28.051820', 'Cookie');
INSERT INTO "users" ("id", "email", "created_at", "updated_at", "username") VALUES (281110143, 'cj00216@my.westga.edu', '2023-05-08 00:08:28.051820', '2023-05-08 00:08:28.051820', 'chandan');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (980190962, 980190962, 181803346, 'I am number one!', '2023-05-08 00:08:28.059021', '2023-05-08 00:08:28.059021');
INSERT INTO "comments" ("id", "user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (298486374, 298486374, 181803346, 'Who do I work for?', '2023-05-08 00:08:28.059021', '2023-05-08 00:08:28.059021');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 1, '2023-05-08 00:08:28.062073', '2023-05-08 00:08:28.062073');
INSERT INTO "votes" ("id", "user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (298486374, 298486374, 298486374, 0, '2023-05-08 00:08:28.062073', '2023-05-08 00:08:28.062073')[0m
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
FavoritesControllerTest: test_should_destroy_favorite
-----------------------------------------------------
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 20:08:28 -0400
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"298486374"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
Started DELETE "/favorites" for 127.0.0.1 at 2023-05-07 20:08:28 -0400
Completed 401 Unauthorized in 13ms (ActiveRecord: 0.0ms | Allocations: 1898)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 20:08:28 -0400
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
Processing by FavoritesController#destroy as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 181803346], ["LIMIT", 1]]
  [1m[36mFavorite Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 181803346], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering favorites/new.html.erb within layouts/application
Completed 401 Unauthorized in 16ms (ActiveRecord: 0.0ms | Allocations: 1898)
  Rendered favorites/_form.html.erb (Duration: 8.6ms | Allocations: 2505)
  Rendered favorites/new.html.erb within layouts/application (Duration: 13.3ms | Allocations: 2935)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started DELETE "/favorites" for 127.0.0.1 at 2023-05-07 20:08:28 -0400
Processing by FavoritesController#destroy as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"181803346"}
  [1m[36mFavorite Load (0.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 181803346], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFavorite Destroy (9.5ms)[0m  [1m[31mDELETE FROM "favorites" WHERE "favorites"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 13ms (ActiveRecord: 9.8ms | Allocations: 771)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
UserTest: test_returns_whether_the_user_has_favorited_a_specific_restaurant
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mRestaurant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" INNER JOIN "favorites" ON "restaurants"."id" = "favorites"."restaurant_id" WHERE "favorites"."user_id" = ? AND "restaurants"."id" = ? LIMIT ?[0m  [["user_id", 980190962], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" INNER JOIN "favorites" ON "restaurants"."id" = "favorites"."restaurant_id" WHERE "favorites"."user_id" = ? AND "restaurants"."id" = ? LIMIT ?[0m  [["user_id", 980190962], ["id", 298486374], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
VotesControllerTest: test_should_create_vote
--------------------------------------------
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 20:08:28 -0400
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 234)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
Started POST "/votes" for 127.0.0.1 at 2023-05-07 20:08:28 -0400
Processing by VotesController#create as HTML
  Parameters: {"restaurant_id"=>"980190962", "user_id"=>"980190962", "will_split?"=>"true"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Create (8.6ms)[0m  [1m[32mINSERT INTO "votes" ("user_id", "restaurant_id", "will_split?", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["will_split?", 1], ["created_at", "2023-05-08 00:08:28.359828"], ["updated_at", "2023-05-08 00:08:28.359828"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 18ms (ActiveRecord: 8.9ms | Allocations: 1983)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
Started GET "/user" for 127.0.0.1 at 2023-05-07 20:08:28 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = ?[0m  [["user_id", 281110143]]
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = ?[0m  [["user_id", 281110143]]
  [1m[36mFavorite Load (0.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = ?[0m  [["user_id", 281110143]]
  Rendered users/show.html.erb within layouts/application (Duration: 17.0ms | Allocations: 1806)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 172.5ms | Allocations: 37772)
Completed 200 OK in 184ms (Views: 176.0ms | ActiveRecord: 0.5ms | Allocations: 42394)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
Started POST "/favorites" for 127.0.0.1 at 2023-05-07 20:08:28 -0400
Processing by FavoritesController#create as HTML
  Parameters: {"user_id"=>"980190962", "restaurant_id"=>"298486374"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mFavorite Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "favorites" WHERE "favorites"."user_id" = ? AND "favorites"."restaurant_id" = ? LIMIT ?[0m  [["user_id", 980190962], ["restaurant_id", 298486374], ["LIMIT", 1]]
  [1m[36mFavorite Create (3.2ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 298486374], ["created_at", "2023-05-08 00:08:28.451707"], ["updated_at", "2023-05-08 00:08:28.451707"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants
Completed 302 Found in 10ms (ActiveRecord: 3.7ms | Allocations: 1852)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name
-----------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake Factory%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Sp%')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_restaurants_with_matching_name_&_location
----------------------------------------------------------------------------------
  [1m[36mRestaurant Load (9.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (name like '%Cheesecake%' and location like '%Carrollton%')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
RestaurantTest::SearchTest: test_return_restaurants_with_matching_location
--------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 281110143], ["LIMIT", 1]]
  [1m[36mRestaurant Load (3.6ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atlanta%')[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE (location like '%Atl%')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
RestaurantTest::SearchTest: test_returns_all_restaurants_if_both_name_&_location_are_missing_or_blank
-----------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
RestaurantsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants" for 127.0.0.1 at 2023-05-07 20:08:28 -0400
Processing by RestaurantsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.4ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  Rendered restaurants/index.html.erb within layouts/application (Duration: 38.8ms | Allocations: 7548)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 42.9ms | Allocations: 9721)
Completed 200 OK in 45ms (Views: 43.4ms | ActiveRecord: 0.9ms | Allocations: 10771)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
RestaurantsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36mRestaurant Load (0.6ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/new" for 127.0.0.1 at 2023-05-07 20:08:28 -0400
[Webpacker] Everything's up-to-date. Nothing to do
Processing by RestaurantsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering restaurants/new.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (Duration: 3.3ms | Allocations: 1817)
  Rendered restaurants/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 2156)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 4322)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms | Allocations: 4737)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_update_restaurant
--------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 20:08:28 -0400
  Rendered layout layouts/application.html.erb (Duration: 177.3ms | Allocations: 36730)
Completed 200 OK in 197ms (Views: 195.0ms | ActiveRecord: 0.5ms | Allocations: 38632)
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 383)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
RestaurantsControllerTest: test_should_create_restaurant
--------------------------------------------------------
Started PATCH "/restaurants/980190962" for 127.0.0.1 at 2023-05-07 20:08:28 -0400
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 20:08:28 -0400
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
Processing by RestaurantsController#update as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}, "id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 465)
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 765)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/restaurants" for 127.0.0.1 at 2023-05-07 20:08:28 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
RestaurantsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by RestaurantsController#create as HTML
  Parameters: {"restaurant"=>{"location"=>"Carrollton", "name"=>"Cheesecake Factory"}}
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 20:08:28 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.1ms | Allocations: 291)
Started GET "/restaurants/980190962/edit" for 127.0.0.1 at 2023-05-07 20:08:28 -0400
  [1m[36mRestaurant Create (9.6ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "location", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Cheesecake Factory"], ["location", "Carrollton"], ["created_at", "2023-05-08 00:08:28.613389"], ["updated_at", "2023-05-08 00:08:28.613389"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering restaurants/edit.html.erb within layouts/application
Redirected to http://www.example.com/restaurants/980190963
Completed 302 Found in 15ms (ActiveRecord: 9.7ms | Allocations: 956)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "restaurants"[0m
  Rendered restaurants/_form.html.erb (Duration: 2.2ms | Allocations: 1075)
  Rendered restaurants/edit.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1351)
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 3510)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.1ms | Allocations: 4034)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
RestaurantsControllerTest: test_should_search_restaurants
---------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/search?name=Cheesecake&location=Carr" for 127.0.0.1 at 2023-05-07 20:08:28 -0400
Processing by RestaurantsController#search as HTML
  Parameters: {"name"=>"Cheesecake", "location"=>"Carr"}
  Rendering layout layouts/application.html.erb
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"will_split"_votes_associated_with_the_restaurant
-------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mRestaurant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 113629430]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 281110143]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 298486374]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mCACHE Restaurant Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
RestaurantTest: test_gets_number_of_"won't_split"_votes_associated_with_the_restaurant
--------------------------------------------------------------------------------------
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mVote Load (0.3ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."restaurant_id" = ?[0m  [["restaurant_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
CommentsControllerTest: test_should_create_comment
--------------------------------------------------
  Rendered restaurants/index.html.erb within layouts/application (Duration: 19.1ms | Allocations: 2332)
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 23.9ms | Allocations: 4491)
Completed 200 OK in 26ms (Views: 23.9ms | ActiveRecord: 0.5ms | Allocations: 4852)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 20:08:28 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
CommentsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by CommentsController#new as HTML
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Parameters: {"restaurant_id"=>"980190962"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 243)
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 20:08:28 -0400
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
Started POST "/comments" for 127.0.0.1 at 2023-05-07 20:08:28 -0400
Processing by CommentsController#create as HTML
  Parameters: {"comment"=>{"body"=>"I am number one!"}}
Redirected to http://www.example.com/restaurants
Completed 302 Found in 4ms (ActiveRecord: 0.0ms | Allocations: 361)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 243)
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 20:08:28 -0400
Started GET "/comments/new?restaurant_id=980190962" for 127.0.0.1 at 2023-05-07 20:08:28 -0400
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Processing by CommentsController#new as HTML
  Parameters: {"restaurant_id"=>"980190962"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering comments/new.html.erb within layouts/application
  Rendering layout layouts/application.html.erb
  Rendering comments/new.html.erb within layouts/application
  Rendered comments/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 974)
  Rendered comments/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1283)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 3138)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.1ms | Allocations: 4158)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 3448)
Completed 200 OK in 12ms (Views: 8.7ms | ActiveRecord: 0.2ms | Allocations: 4965)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/comments" for 127.0.0.1 at 2023-05-07 20:08:28 -0400
Processing by CommentsController#create as HTML
  Parameters: {"comment"=>{"body"=>"I am number one!"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Create (6.1ms)[0m  [1m[32mINSERT INTO "comments" ("user_id", "restaurant_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 980190962], ["restaurant_id", 980190962], ["body", "I am number one!"], ["created_at", "2023-05-08 00:08:28.721438"], ["updated_at", "2023-05-08 00:08:28.721438"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/restaurants/980190962
Completed 302 Found in 13ms (ActiveRecord: 6.5ms | Allocations: 2150)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments"[0m
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" ORDER BY "comments"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mrollback transaction[0m
